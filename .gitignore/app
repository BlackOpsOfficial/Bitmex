webpackJsonp([24],[,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(167),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(14)),m=n.n(p),f=n(92),h=n(7),g=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.bindCallback=function(e,t){this.callbacks=this.callbacks||new a.a;var n=this.callbacks.get(e);if(n&&n.has(t))return n.get(t);n||(n=new a.a);var r=e.bind(this,t);return n.set(t,r),this.callbacks.set(e,n),r},t.prototype.linkState=function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.type,i=void 0===a?"text":a,o=r.controlled,s=void 0===o||o,l=r.selector,c="radio"===i||"checkbox"===i?"checked":"value";return l||(l="checked"===c?y:b),s||(c="default"+c.slice(0,1).toUpperCase()+c.slice(1)),(t={})[c]=this.state[e],t.onChange=function(t){var r;return n.setState(((r={})[e]=l(t),r))},t},t}(d.Component);function y(e){return e.target.checked}function b(e){return e.target.value}g.displayName="BitMEXComponent",g.contextTypes={activeCurrency:m.a.string,intl:h.intlShape,locale:m.a.string,timezoneOffset:m.a.number},g.SCUSelector={},g.SCUDeep=!1,g.prototype.shouldComponentUpdate=f.a},,,,function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=n.n(d),m=n(14),f=n.n(m),h=n(4),g=n(218);var y=n(77),b=n.n(y),v=n(427),E=n.n(v),w=(n(5),n(92));t.a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).renderOnStateChange,n=void 0===t||t,r=Boolean(e)&&n,i=x++;return function(t){var n="Connect("+S(t)+")";var s=function(s){function c(e,t){o()(this,c);var r=l()(this,s.call(this,e,t));return r.version=i,r.store=e.flux||t.flux,Object(g.a)(r.store,'Could not find "flux" in either the context or props of "'+n+'". Either wrap the root component in a <Provider>, or explicitly pass "flux" as a prop to "'+n+'".'),r.clearCache(),r}return u()(c,s),c.prototype.componentDidMount=function(){this.trySubscribe()},c.prototype.componentWillReceiveProps=function(e){Object(w.b)(e,this.props)||(this.haveOwnPropsChanged=!0)},c.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},c.prototype.shouldComponentUpdate=function(e,t,n){return this.haveOwnPropsChanged||this.hasStoreStateChanged||!Object(w.b)(this.context,n)},c.prototype.clearCache=function(){this.stateProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null},c.prototype.trySubscribe=function(){var e=this;if(r&&!this.unsubscribe){var t=this.handleChange.bind(this);this.store.emitter.on("change",t),this.unsubscribe=function(){return e.store.emitter.off("change",t)},t()}},c.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},c.prototype.handleChange=function(){if(this.unsubscribe){if(!this.doStatePropsDependOnOwnProps){var e=this.updateStatePropsIfNeeded();if(!e)return;this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.forceUpdate()}},c.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!Object(w.b)(e,this.stateProps))&&(this.stateProps=e,!0)},c.prototype.computeStateProps=function(t,n){null==this.doStatePropsDependOnOwnProps&&(this.doStatePropsDependOnOwnProps=1!==e.length);var r=t.getState(),a=this.doStatePropsDependOnOwnProps?e(r,n):e(r);return a},c.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},c.prototype.render=function(){var e=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,o=this.renderedElement;if(i)throw i;this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null;var s=!0;o&&(s=n||e&&this.doStatePropsDependOnOwnProps);var l=!1;if(r?l=!0:s&&(l=this.updateStatePropsIfNeeded()),!l&&!e&&o)return o;var c=a()({},this.stateProps,this.props);return this.renderedElement=p.a.createElement(t,c),this.renderedElement},c}(p.a.Component);return s.displayName="Connect",s.displayName=n,s.WrappedComponent=t,s.contextTypes=a()({},h.a.contextTypes,{flux:f.a.instanceOf(b.a.Flux)}),"production"!==M&&(s.prototype.componentWillUpdate=function(){this.version!==i&&(this.version=i,this.trySubscribe(),this.clearCache())}),E()(s,t)}};var M="production",S=function(e){return e.displayName||e.name||"Component"};var x=0},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),t.b=function(e){return r.isValidElement(e)&&e.props&&e.props.id&&e.props.description&&e.props.defaultMessage};var r=n(3),a=(n.n(r),n(7)),i={above:r.createElement(a.FormattedMessage,{id:"common.above",defaultMessage:"above",description:"Text for above - in regards to a price - 'the price is above 100'"}),Account:r.createElement(a.FormattedMessage,{id:"common.account",defaultMessage:"Account",description:"Text for Account"}),Add:r.createElement(a.FormattedMessage,{id:"common.add",defaultMessage:"Add",description:"Text for Add"}),"Add Margin":r.createElement(a.FormattedMessage,{id:"common.addMargin",defaultMessage:"Add Margin",description:"Text for Add Margin"}),"Admin Features":r.createElement(a.FormattedMessage,{id:"common.adminFeatures",defaultMessage:"Admin Features",description:"Text for administrator features"}),Advanced:r.createElement(a.FormattedMessage,{id:"common.advanced",defaultMessage:"Advanced",description:"Text for Advanced"}),All:r.createElement(a.FormattedMessage,{id:"common.all",defaultMessage:"All",description:"Text for All"}),"Available Balance":r.createElement(a.FormattedMessage,{id:"common.availableBalance",defaultMessage:"Available Balance",description:"Text for Available Balance"}),Avail:r.createElement(a.FormattedMessage,{id:"common.avail",defaultMessage:"Avail",description:"Shortening of Available Balance"}),Awarded:r.createElement(a.FormattedMessage,{id:"common.awarded",defaultMessage:"Awarded",description:"Text for Awarded"}),Balance:r.createElement(a.FormattedMessage,{id:"common.balance",defaultMessage:"Balance",description:"Text for Balance"}),below:r.createElement(a.FormattedMessage,{id:"common.below",defaultMessage:"below",description:"Text for below - in regards to a price - 'the price is below 100'"}),Buy:r.createElement(a.FormattedMessage,{id:"common.buy",defaultMessage:"Buy",description:"Text for Buy"}),buying:r.createElement(a.FormattedMessage,{id:"common.buying",defaultMessage:"buying",description:"Text for buying"}),"Calculation Formula":r.createElement(a.FormattedMessage,{id:"common.calculationFormula",defaultMessage:"Calculation Formula",description:"Text for Calculation Formula"}),Calculator:r.createElement(a.FormattedMessage,{id:"common.calculator",defaultMessage:"Calculator",description:"Text for Calculator"}),"Calendar Spread":r.createElement(a.FormattedMessage,{id:"common.calendarSpread",defaultMessage:"Calendar Spread",description:"Text for Calendar Spread"}),Cancel:r.createElement(a.FormattedMessage,{id:"common.cancel",defaultMessage:"Cancel",description:"Text for Cancel"}),Chart:r.createElement(a.FormattedMessage,{id:"common.chart",defaultMessage:"Chart ",description:"Text for Chart"}),"Chart (Disabled)":r.createElement(a.FormattedMessage,{id:"common.chartDisabled",defaultMessage:"Chart (Disabled)",description:"Text for Chart (Disabled)"}),Cidr:r.createElement(a.FormattedMessage,{id:"common.cidr",defaultMessage:"CIDR",description:"Text for CIDR"}),Clear:r.createElement(a.FormattedMessage,{id:"common.clear",defaultMessage:"Clear",description:"Text for Clear"}),Close:r.createElement(a.FormattedMessage,{id:"common.close",defaultMessage:"Close",description:"Text for Close"}),"Close Price":r.createElement(a.FormattedMessage,{id:"common.closePrice",defaultMessage:"Close Price",description:"Text for Close Price"}),Closed:r.createElement(a.FormattedMessage,{id:"common.closed",defaultMessage:"Closed",description:"Text for Closed"}),"Closed Positions":r.createElement(a.FormattedMessage,{id:"common.closedPositions",defaultMessage:"Closed Positions",description:"Text for closed positions"}),Cost:r.createElement(a.FormattedMessage,{id:"common.cost",defaultMessage:"Cost",description:"Text for Cost"}),Confirm:r.createElement(a.FormattedMessage,{id:"common.confirm",defaultMessage:"Confirm",description:"Text for Confirm"}),Confirmation:r.createElement(a.FormattedMessage,{id:"common.confirmation",defaultMessage:"Confirmation",description:"Text for Confirmation"}),Contract:r.createElement(a.FormattedMessage,{id:"common.contract",defaultMessage:"Contract",description:"Text for Contract"}),Contracts:r.createElement(a.FormattedMessage,{id:"common.contracts",defaultMessage:"Contracts",description:"Text for Contracts"}),"Contracts (Num)":r.createElement(a.FormattedMessage,{id:"common.contractsNum",defaultMessage:"Contracts",description:"Text for Contracts. Provided as separate translation due to RU context"}),Cross:r.createElement(a.FormattedMessage,{id:"common.cross",defaultMessage:"Cross",description:"Text for Cross"}),"Cross Margin":r.createElement(a.FormattedMessage,{id:"common.crossMargin",defaultMessage:"Cross Margin",description:"Text for Cross Margin"}),Current:r.createElement(a.FormattedMessage,{id:"common.current",defaultMessage:"Current",description:"Text for Current"}),"Current Qty":r.createElement(a.FormattedMessage,{id:"common.currentQty",defaultMessage:"Current Qty",description:"Text for Current Qty"}),Delete:r.createElement(a.FormattedMessage,{id:"common.delete",defaultMessage:"Delete",description:"Text for Delete"}),Description:r.createElement(a.FormattedMessage,{id:"common.description",defaultMessage:"Description",description:"Text for Description"}),Deposit:r.createElement(a.FormattedMessage,{id:"common.deposit",defaultMessage:"Deposit",description:"Text for Deposit"}),Disable:r.createElement(a.FormattedMessage,{id:"common.disable",defaultMessage:"Disable",description:"Text for Disable"}),"Email Support":r.createElement(a.FormattedMessage,{id:"common.emailSupport",defaultMessage:"Email Support",description:"Text instructing user to email BitMEX support"}),Enable:r.createElement(a.FormattedMessage,{id:"common.enable",defaultMessage:"Enable",description:"Text for Enable"}),"Entry Price":r.createElement(a.FormattedMessage,{id:"common.entryPrice",defaultMessage:"Entry Price",description:"Text for Entry Price"}),"Entry Value":r.createElement(a.FormattedMessage,{id:"common.entryValue",defaultMessage:"Entry Value",description:"Text for Entry Value"}),"Exit Price":r.createElement(a.FormattedMessage,{id:"common.exitPrice",defaultMessage:"Exit Price",description:"Text for Exit Price"}),"Exit Value":r.createElement(a.FormattedMessage,{id:"common.exitValue",defaultMessage:"Exit Value",description:"Text for Exit Value"}),Expired:r.createElement(a.FormattedMessage,{id:"common.expired",defaultMessage:"Expired",description:"Text for Expired"}),Expiry:r.createElement(a.FormattedMessage,{id:"common.expiry",defaultMessage:"Expiry",description:"Text for Expiry"}),Fills:r.createElement(a.FormattedMessage,{id:"common.fills",defaultMessage:"Fills",description:"Text for Order Panel Fills Title"}),Flat:r.createElement(a.FormattedMessage,{id:"common.flat",defaultMessage:"Flat",description:"Text for Flat"}),Formula:r.createElement(a.FormattedMessage,{id:"common.formula",defaultMessage:"Formula",description:"Text for Formula"}),Fullscreen:r.createElement(a.FormattedMessage,{id:"common.fullscreen",defaultMessage:"Fullscreen",description:"Text for fullscreen"}),Futures:r.createElement(a.FormattedMessage,{id:"common.futures",defaultMessage:"Futures",description:"Text for futures"}),"Futures Contract":r.createElement(a.FormattedMessage,{id:"common.futuresContract",defaultMessage:"Futures Contract",description:"Text for futures contract"}),"Go Back":r.createElement(a.FormattedMessage,{id:"common.goBack",defaultMessage:"Go Back",description:"Text instructing user to go back, or return to previous page"}),Guide:r.createElement(a.FormattedMessage,{id:"common.guide",defaultMessage:"Guide",description:"Text for Guide"}),Help:r.createElement(a.FormattedMessage,{id:"common.help",defaultMessage:"Help",description:"Text for Help"}),History:r.createElement(a.FormattedMessage,{id:"common.history",defaultMessage:"History",description:"Text for History"}),Ignore:r.createElement(a.FormattedMessage,{id:"common.ignore",defaultMessage:"Ignore",description:"Text for Ignore"}),Index:r.createElement(a.FormattedMessage,{id:"common.index",defaultMessage:"Index",description:"Text for Index"}),"Index Price":r.createElement(a.FormattedMessage,{id:"common.indexPrice",defaultMessage:"Index Price",description:"Text for Index Price"}),"Initial Margin":r.createElement(a.FormattedMessage,{id:"common.initialMargin",defaultMessage:"Initial Margin",description:"Text for Initial Margin"}),"Interest Base":r.createElement(a.FormattedMessage,{id:"common.interestBase",defaultMessage:"Interest Base",description:"Text for Interest Base"}),"Interest Quote":r.createElement(a.FormattedMessage,{id:"common.interestQuote",defaultMessage:"Interest Quote",description:"Text for Interest Quote"}),"Isolated Margin":r.createElement(a.FormattedMessage,{id:"common.isolatedMargin",defaultMessage:"Isolated Margin",description:"Text for Isolated Margin"}),Isolated:r.createElement(a.FormattedMessage,{id:"common.isolated",defaultMessage:"Isolated",description:"Text for Isolated"}),Last:r.createElement(a.FormattedMessage,{id:"common.last",defaultMessage:"Last",description:"Text for Last (as in Last Price)"}),"Last Price":r.createElement(a.FormattedMessage,{id:"common.lastPrice",defaultMessage:"Last Price",description:"Text for Last Price"}),"Lending Rate":r.createElement(a.FormattedMessage,{id:"common.lendingRate",defaultMessage:"Lending Rate",description:"Text for Lending Rate, a type of index"}),Leverage:r.createElement(a.FormattedMessage,{id:"common.leverage",defaultMessage:"Leverage",description:"Text for Leverage"}),Limit:r.createElement(a.FormattedMessage,{id:"common.limit",defaultMessage:"Limit",description:"Text for Limit"}),"Liquidation Price":r.createElement(a.FormattedMessage,{id:"common.liquidationPrice",defaultMessage:"Liquidation Price",description:"Text for Liquidation Price"}),"Log In":r.createElement(a.FormattedMessage,{id:"common.logIn",defaultMessage:"Log In",description:"Text for logging in"}),"Log Out":r.createElement(a.FormattedMessage,{id:"common.logOut",defaultMessage:"Log Out",description:"Text for Logging out"}),Login:r.createElement(a.FormattedMessage,{id:"common.login",defaultMessage:"Login",description:"Text for Login"}),Long:r.createElement(a.FormattedMessage,{id:"common.long",defaultMessage:"Long",description:"Text for Long"}),"Maintenance Margin":r.createElement(a.FormattedMessage,{id:"common.maintenanceMargin",defaultMessage:"Maintenance Margin",description:"Text for Maintenance Margin"}),Margin:r.createElement(a.FormattedMessage,{id:"common.margin",defaultMessage:"Margin",description:"Text for Margin"}),"Margin Amount":r.createElement(a.FormattedMessage,{id:"common.marginAmount",defaultMessage:"Margin Amount",description:"Text for Margin Amount"}),Mark:r.createElement(a.FormattedMessage,{id:"common.mark",defaultMessage:"Mark",description:"Text for Mark (as in Mark Price)"}),"Mark Price":r.createElement(a.FormattedMessage,{id:"common.markPrice",defaultMessage:"Mark Price",description:"Text for Mark Price"}),Market:r.createElement(a.FormattedMessage,{id:"common.market",defaultMessage:"Market",description:"Text for Market"}),Minimize:r.createElement(a.FormattedMessage,{id:"common.minimize",defaultMessage:"Minimize",description:"Text for Minimize"}),Name:r.createElement(a.FormattedMessage,{id:"common.name",defaultMessage:"Name",description:"Text for Name"}),New:r.createElement(a.FormattedMessage,{id:"common.new",defaultMessage:"New",description:"Text for New"}),"No data.":r.createElement(a.FormattedMessage,{id:"common.noData",defaultMessage:"No data.",description:"Text for No Data."}),Note:r.createElement(a.FormattedMessage,{id:"common.note",defaultMessage:"Note",description:"Text for Note"}),Notional:r.createElement(a.FormattedMessage,{id:"common.notional",defaultMessage:"Notional",description:"Text for Notional"}),Off:r.createElement(a.FormattedMessage,{id:"common.off",defaultMessage:"Off",description:"Text for Off"}),OK:r.createElement(a.FormattedMessage,{id:"common.ok",defaultMessage:"OK",description:"Text for OK"}),On:r.createElement(a.FormattedMessage,{id:"common.on",defaultMessage:"On",description:"Text for On"}),Open:r.createElement(a.FormattedMessage,{id:"common.open",defaultMessage:"Open",description:"Text for Open"}),Order:r.createElement(a.FormattedMessage,{id:"common.order",defaultMessage:"Order",description:"Text for Order"}),"Order Cancel":r.createElement(a.FormattedMessage,{id:"common.orderCancel",defaultMessage:"Order Cancel",description:"Text for Order Cancel"}),"Order History":r.createElement(a.FormattedMessage,{id:"common.orderHistory",defaultMessage:"Order History",description:"Text for order history"}),Pending:r.createElement(a.FormattedMessage,{id:"common.pending",defaultMessage:"Pending",description:"Text for Pending"}),"PNL Ratio":r.createElement(a.FormattedMessage,{id:"common.pnlRatio",defaultMessage:"PNL Ratio",description:"Text for PNL Ratio"}),Percentage:r.createElement(a.FormattedMessage,{id:"common.percentage",defaultMessage:"Percentage",description:"Text for Percentage"}),Perpetual:r.createElement(a.FormattedMessage,{id:"common.perpetual",defaultMessage:"Perpetual",description:"Text for Perpetual"}),"Place Order":r.createElement(a.FormattedMessage,{id:"common.placeOrder",defaultMessage:"Place Order",description:"Text for Place Order"}),Position:r.createElement(a.FormattedMessage,{id:"common.position",defaultMessage:"Position",description:"Text for Position"}),Premium:r.createElement(a.FormattedMessage,{id:"common.premium",defaultMessage:"Premium",description:"Text for Premium"}),"Premium Rate":r.createElement(a.FormattedMessage,{id:"common.premiumRate",defaultMessage:"Premium Rate",description:"Text for Premium Rate, a type of index"}),Price:r.createElement(a.FormattedMessage,{id:"common.price",defaultMessage:"Price",description:"Text for Price"}),"Profit/Loss":r.createElement(a.FormattedMessage,{id:"common.profitLoss",defaultMessage:"Profit/Loss",description:"Text for Profit/Loss"}),"Publish Notification":r.createElement(a.FormattedMessage,{id:"common.publishNotification",defaultMessage:"Publish Notification",description:"Text for publish notification"}),Quantity:r.createElement(a.FormattedMessage,{id:"common.quantity",defaultMessage:"Quantity",description:"Text for Quantity"}),Rank:r.createElement(a.FormattedMessage,{id:"common.rank",defaultMessage:"Rank",description:"Text for Rank"}),Rates:r.createElement(a.FormattedMessage,{id:"common.rates",defaultMessage:"Rates",description:"Text for Rates"}),Recent:r.createElement(a.FormattedMessage,{id:"common.recent",defaultMessage:"Recent",description:"Text for Recent"}),Register:r.createElement(a.FormattedMessage,{id:"common.register",defaultMessage:"Register",description:"Text for registration"}),Remove:r.createElement(a.FormattedMessage,{id:"common.remove",defaultMessage:"Remove",description:"Text for Remove"}),"Remove Margin":r.createElement(a.FormattedMessage,{id:"common.removeMargin",defaultMessage:"Remove Margin",description:"Text for Remove Margin"}),Restore:r.createElement(a.FormattedMessage,{id:"common.restore",defaultMessage:"Restore",description:"Text for restore"}),Result:r.createElement(a.FormattedMessage,{id:"common.result",defaultMessage:"Result",description:"Text for Result"}),"Resulting Qty":r.createElement(a.FormattedMessage,{id:"common.resultingQty",defaultMessage:"Resulting Qty",description:"Text for Resulting Qty"}),"Risk Limit":r.createElement(a.FormattedMessage,{id:"common.riskLimit",defaultMessage:"Risk Limit",description:"Text for Risk Limit"}),ROE:r.createElement(a.FormattedMessage,{id:"common.roe",defaultMessage:"ROE",description:"Text for Return On Equity acronym"}),RPL:r.createElement(a.FormattedMessage,{id:"common.rpl",defaultMessage:"RPL",description:"Text for realised pnl acronym"}),"Save as CSV":r.createElement(a.FormattedMessage,{id:"common.saveAsCsv",defaultMessage:"Save as CSV",description:"Text for Save as CSV"}),Search:r.createElement(a.FormattedMessage,{id:"common.search",defaultMessage:"Search",description:"Text for Search"}),Sell:r.createElement(a.FormattedMessage,{id:"common.sell",defaultMessage:"Sell",description:"Text for Sell"}),selling:r.createElement(a.FormattedMessage,{id:"common.selling",defaultMessage:"selling",description:"Text for selling"}),"Series Guide":r.createElement(a.FormattedMessage,{id:"common.seriesGuide",defaultMessage:"Series Guide",description:"Text for Series Guide"}),Settlement:r.createElement(a.FormattedMessage,{id:"common.settlement",defaultMessage:"Settlement",description:"Text for Settlement"}),Short:r.createElement(a.FormattedMessage,{id:"common.short",defaultMessage:"Short",description:"Text for Short"}),Side:r.createElement(a.FormattedMessage,{id:"common.side",defaultMessage:"Side",description:"Side, as in Position Side (Long/Short)"}),Size:r.createElement(a.FormattedMessage,{id:"common.size",defaultMessage:"Size",description:"Text for Size"}),Status:r.createElement(a.FormattedMessage,{id:"common.status",defaultMessage:"Status",description:"Text for Status"}),"Stop Limit":r.createElement(a.FormattedMessage,{id:"common.stopLimit",defaultMessage:"Stop Limit",description:"Text for Stop Limit"}),"Stop Market":r.createElement(a.FormattedMessage,{id:"common.stopMarket",defaultMessage:"Stop Market",description:"Text for Stop Market"}),Submit:r.createElement(a.FormattedMessage,{id:"common.submit",defaultMessage:"Submit",description:"Text for Submit"}),Summary:r.createElement(a.FormattedMessage,{id:"common.summary",defaultMessage:"Summary",description:"Text for Summary"}),Swap:r.createElement(a.FormattedMessage,{id:"common.swap",defaultMessage:"Swap",description:"Text for Swap"}),Swaps:r.createElement(a.FormattedMessage,{id:"common.swaps",defaultMessage:"Swaps",description:"Text for Swaps"}),Symbol:r.createElement(a.FormattedMessage,{id:"common.symbol",defaultMessage:"Symbol",description:"Text for Symbol"}),Symbols:r.createElement(a.FormattedMessage,{id:"common.symbols",defaultMessage:"Symbols",description:"Text for Symbols"}),"Target Price":r.createElement(a.FormattedMessage,{id:"common.targetPrice",defaultMessage:"Target Price",description:"Text for Target Price"}),Time:r.createElement(a.FormattedMessage,{id:"common.time",defaultMessage:"Time",description:"Text for Time"}),Total:r.createElement(a.FormattedMessage,{id:"common.total",defaultMessage:"Total",description:"Text for Total"}),Trade:r.createElement(a.FormattedMessage,{id:"common.trade",defaultMessage:"Trade",description:"Text for Trade"}),trail:r.createElement(a.FormattedMessage,{id:"common.trailLowerCase",defaultMessage:"trail",description:"Text for trail"}),"Trailing Stop Market":r.createElement(a.FormattedMessage,{id:"common.trailingStopMarket",defaultMessage:"Trailing Stop Market",description:"Text for Trailing Stop Market"}),Trollbox:r.createElement(a.FormattedMessage,{id:"common.trollbox",defaultMessage:"Trollbox",description:"Title for Trollbox"}),Unlisted:r.createElement(a.FormattedMessage,{id:"common.unlisted",defaultMessage:"Unlisted",description:"Text for Unlisted"}),Username:r.createElement(a.FormattedMessage,{id:"common.username",defaultMessage:"Username",description:"Text for Username"}),Value:r.createElement(a.FormattedMessage,{id:"common.value",defaultMessage:"Value",description:"Text for Value"}),"Verifying...":r.createElement(a.FormattedMessage,{id:"common.verifying",defaultMessage:"Verifying...",description:"Text for Verifying"}),Wallet:r.createElement(a.FormattedMessage,{id:"common.wallet",defaultMessage:"Wallet",description:"Text for Wallet"}),Withdraw:r.createElement(a.FormattedMessage,{id:"common.withdraw",defaultMessage:"Withdraw",description:"Text for Withdraw"}),genericFormError:function(e){return r.createElement(a.FormattedMessage,{id:"common.error",defaultMessage:"Error: {error} \nPlease review the form and try again.",description:"Generic form error text",values:{error:e}})},OrderHistoryTooltip:r.createElement(a.FormattedMessage,{id:"common.orderHistoryTooltip",defaultMessage:"The last 100 are shown here. View your full trade history in the Account section.",description:"Tooltip text telling user history panel has limited order history, and where to retrieve the full history"})}},function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return f}),n.d(t,"a",function(){return h}),t.t=v,t.u=E,t.r=w,t.j=M,t.i=function(e,t){return parseFloat(w(e,t))},t.w=x,t.e=k,t.g=T,t.h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.f,n=e.match(m);n&&3===n.length&&(e=e.replace(n[1],T(Number(n[2]),t)));return e},t.f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.f,r=g[t].multiplier/g[n].multiplier;return x(v(e/r,1/r))+" "+t},t.o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.f,r=parseFloat(k(e,"XBt",n)),a=d.a.toPairs(f).slice(0,d.a.keys(f).indexOf(t)+1).reverse(),i=void 0;for(i=0;i<a.length;i++){var o=a[i][1],s=o.multiplier/Math.pow(10,o.tickLog);if(Math.abs(r)>=s)break}var l=a[i]?a[i][0]:p.f;return T(r,l,p.f)},t.c=function(e){return T(e,"XBT","XBt",0)},t.q=function(e){"string"==typeof e&&(e=parseFloat(e.replace(/,/g,"")));return e?e>0?"pos":"neg":""},t.v=C,t.s=O,t.p=F,n.d(t,"b",function(){return L}),t.k=function e(t,n,r,a,i){if("number"!=typeof n)return console.error("Attempted to get gross value of an order without a price."),0;if(t.isMultiLeg)return a&&i?e(i,a.markPrice+n,r,void 0):0;return C(t.multiplier,r,n)||0},t.n=U,t.m=H,t.l=function(e,t,n,r,a){if(t.currentQty+r===0)return null;var i=q.apply(void 0,arguments),o=i.newCurrentQty,s=i.newMarkValue,l=i.newPosCross,c=i.newPosInit,u=i.newUnrealisedPnl,d=i.newRealisedPnl,p=i.newPosComm,m=i.newPosCost,f=i.newMaintMargin,h=O(s),g=e.fundingRate,y=e.multiplier,b=e.riskLimit,w=e.riskStep,M=t.commission,S=t.markValue,x=t.realisedPnl,k=t.maintMargin,T=A(e,t),C=D(e,t),N=l+c+p+u,P=void 0;if(C>e.maintMargin){var I=t.riskValue,L=I-Math.abs(S)+Math.abs(s);P=p+Math.abs(m)*Math.min(T,Math.min(C,e.maintMargin*(1+Math.ceil((L-b)/w)))+Math.max(0,g*O(o)))}else P=p+Math.abs(m)*Math.min(T,C+Math.max(0,g*O(o)));if(N-=P,t.crossMargin){var B=n.marginBalance-t.unrealisedPnl+u-x+d-n.initMargin-(n.maintMargin-k+f);N+=Math.max(0,Math.floor(B/(1+M)))}var _=F(y,o,h*Math.max(0,h*(s-N)));return Number((o>0?E:v)(_,e.tickSize))};var r=n(389),a=(n.n(r),n(35)),i=n.n(a),o=n(202),s=n.n(o),l=n(6),c=n.n(l),u=n(5),d=n.n(u),p=n(11),m=/((\d+) XBt)/,f={XBt:{multiplier:1,tickLog:0,longName:"Satoshi"},"ÎĽXBT":{multiplier:100,tickLog:1,longName:"micro-Bitcoin"},mXBT:{multiplier:1e5,tickLog:3,longName:"milli-Bitcoin"},XBT:{multiplier:1e8,tickLog:4,longName:"Bitcoin"}},h={USD:{multiplier:1,tickLog:2,longName:"US Dollar",symbol:"$"}},g=c()({},f,{BUSd:{multiplier:1,tickLog:2,longName:"US Microcent"},BUSD:{multiplier:1e8,tickLog:2,longName:"US Dollar"}}),y=/e-(\d+)$/i;function b(t,n,r){if(("number"!=typeof t||s()(t))&&(e.browser&&window.Raven&&window.Raven.captureMessage("Invalid toNearest input: "+t),t=0),!i()(t))return String(t);var a=M(Math.abs(t),n),o=O(t),l=o*a,c=t;if(0===r)c=t-l;else if(3===r||1===r&&Math.abs(a-n/2)<S(n)){c=t-l+(0===l?0:o*n)}else if(1===r){c=t-l+(a>n/2?1:0)*n}return c.toFixed(function(e){var t=e.toString(),n=(t.split(".")[1]||"").length;if(0===n&&e<1){var r=t.match(y);r&&r[1]&&(n=Number(r[1]))}return n}(n))}function v(e,t){return b(e,t,0)}function E(e,t){return b(e,t,3)}function w(e,t){return b(e,t,1)}function M(e,t){var n=e%t,r=S(t);return(n<r||n+r>t)&&(n=0),n}function S(e){return e/1e4}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("string"==typeof e){var t=e.split(".")[1];if(t)return Number(e).toLocaleString(void 0,{minimumFractionDigits:t.length})}return Number(e).toLocaleString()}function k(e,t,n,r,a){"number"!=typeof r&&(r=g[t].tickLog);var i,o=g[n||p.f].multiplier,s=g[t].multiplier,l=s<o?e*(o/s):e/(s/o),c=(i=r,1/Math.pow(10,i));return a?E(l,c):v(l,c)}function T(e,t){return x(k(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.f,arguments[3]))+" "+t}function C(e,t,n){var r=e,a=t,i=n,o=Math.round(r>=0?r*i:r/i);return Math.round(a*o)}function N(e,t){var n=e,r=t;return Math.min(0,Math.max(0,n)+Math.min(0,r))+Math.max(0,Math.min(0,n)+Math.max(0,r))}function P(e,t){return Math.abs(e||0)>=Math.abs(t||0)?e:t}function O(e){return e>0?1:e<0?-1:0}function F(e,t,n){var r=e,a=t,i=n,o=O(a),s=o*Math.ceil(o*i/a);if(r>=0)return s/r;var l=0===s?O(a/i):s;return Number(w(r/l,1e-4))}function I(e,t,n,r){var a=e,i=t,o=n,s=r;return O(a)===-O(o)?Math.round(s*Math.min(1,-a/o))+Math.round(i*Math.min(1,-o/a)):0}var L=.75;function A(e,t){return t&&i()(t.initMarginReq)?t.initMarginReq:e.initMargin}function D(e,t){return t&&i()(t.maintMarginReq)?t.maintMarginReq:e.maintMargin}function B(e,t,n,r){var a=e.multiplier,i=C(a,Math.max(0,-n),r),o=C(a,Math.max(0,-n),Math.max(r,e.bidPrice||-1/0));return t.openOrderSellCost+P(i,o)}function _(e,t){return e.openOrderSellQty+Math.max(0,-t)}function R(e,t,n,r){var a=e.multiplier,i=C(a,Math.max(0,n),r),o=C(a,Math.max(0,n),Math.min(r,e.askPrice||1/0));return t.openOrderBuyCost+P(i,o)}function j(e,t){return e.openOrderBuyQty+Math.max(0,t)}function U(e,t,n,r){if("LastPrice"===e.markMethod)return t.grossOpenPremium;var a,i,o,s,l,c,u,d,p,m,f,h,g,y,b,v,E=t.currentQty,w=j(t,n),M=(i=t,o=n,s=r,l=(a=e).multiplier,c=C(l,Math.max(0,o),s),u=C(l,Math.max(0,o),a.markPrice||s),d=c-Math.abs(c*Math.max(0,A(a,i)-a.maintMarginWithFunding)),i.openOrderBuyPremium+Math.max(0,d-u)),S=_(t,n),x=(m=t,f=n,h=r,g=(p=e).multiplier,y=C(g,Math.min(0,f),h),b=C(g,Math.min(0,f),p.markPrice||h),v=y-Math.abs(y*Math.max(0,A(p,m)-p.maintMarginWithFunding)),m.openOrderSellPremium+Math.max(0,v-b));return Math.abs(M*N(E,w)/w||0)+Math.abs(x*N(-E,S)/S||0)}function H(e,t,n,r,a,i){if("number"!=typeof n)return console.error("Margin requirement calc must have a qty."),0;if(e.isMultiLeg)return function(e,t,n,r,a,i){if(!a||!i)return 0;var o=H(i,t,n,a.markPrice+r,void 0,void 0),s=H(a,t,-n,a.markPrice,void 0,void 0);return o+s}(0,t,n,r,a,i);var o,s,l,c,u,d,p,m,f,h,g,y,b,v,E,w,M,S,x,k,T,O,F,I,L,D=A(e,t),q=(o=t,s={},l=e.symbol,c=s[l]||{},o.commission||c.takerFee||0),W=t.initMargin||0,V=Math.max(0,(u=e,p=n,m=r,f=(d=t).currentQty,h=j(d,p),g=R(u,d,p,m),y=_(d,p),b=B(u,d,p,m),Math.abs(g/h*N(f-y,h)||0)+Math.abs(P(g/h,b/y)*N(-f,y)||0)))||0,z=Math.max(0,U(e,t,n,r))||0,K=Math.max(0,(E=t,w=n,M=r,S=(v=e).multiplier,x=E.currentQty,k=j(E,w),T=R(v,E,w,M),O=_(E,w),F=B(v,E,w,M),I=N(x-O,k),L=N(-x,O),v.capped?Math.abs(T/k*I-C(S,I,v.limitDownPrice)||0)+Math.abs(P(C(S,L,v.limitUpPrice)-F/O*L,T/k*L-C(S,L,v.limitDownPrice))||0):Math.abs(T/k*I||0)+Math.abs(P(T/k,F/O)*L||0)))||0,Q=Math.round(z+K*D+q*(V+V+K*D));return Math.max(0,Q-W)||0}function q(e,t,n,r,a){var i=e.multiplier,o=e.markPrice,s=t.currentCost,l=t.currentQty,c=t.commission,u=t.posCross,d=t.realisedCost,p=t.realisedPnl,m=t.currentQty+r,f=C(i,m,o),h=A(e,t),g=C(i,r,a),y=s+g,b=u-I(r,0,l,u),v=I(r,g,l,s-d),E=y-(d+v),w=E,M=Math.abs(w)*h,S=Math.round((Math.abs(w)+Math.max(0,b+M))*c),x=f-E;return{newCurrentQty:m,newMarkValue:f,newPosCross:b,newPosInit:M,newUnrealisedPnl:x,newPosComm:S,newPosCost:w,newRealisedPnl:p-v-Math.round(Math.abs(g)*c),newMaintMargin:Math.max(0,b+M+S+x)}}}).call(t,n(12))},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return c});var r="/app/",a="https://static.bitmex.com",i="XBt",o={advanced:{lg:[{w:4,h:9,minW:2,i:"orderBook"},{w:3,h:9,i:"recentTradeList"},{w:5,h:9,i:"tradingView"},{w:9,h:6,i:"openOrders"},{w:3,h:6,i:"marginDisplay"},{w:12,h:5,i:"positionsList"},{w:12,h:5,i:"instrumentsList"}],md:[{w:4,h:6,minW:2,i:"orderBook"},{w:4,h:6,i:"recentTradeList"},{w:8,h:4,i:"openOrders"},{w:8,h:5,i:"positionsList"},{w:3,h:6,i:"marginDisplay"},{w:5,h:6,i:"tradingView"},{w:8,h:5,i:"instrumentsList"}],sm:[{w:2,h:6,minW:2,i:"orderBook"},{w:2,h:6,i:"recentTradeList"},{w:4,h:4,i:"openOrders"},{w:4,h:5,i:"positionsList"},{w:4,h:5,i:"marginDisplay"},{w:4,h:5,i:"tradingView"},{w:4,h:5,i:"instrumentsList"}],xs:[{w:2,h:8,i:"orderControls"},{w:2,h:6,i:"orderBook"},{w:2,h:5,i:"recentTradeList"},{w:2,h:4,i:"openOrders"},{w:2,h:5,i:"positionsList"},{w:2,h:5,i:"marginDisplay"},{w:2,h:6,i:"tradingView"},{w:2,h:5,i:"instrumentsList"},{w:2,h:8,i:"chatWidget"}],xxs:[{w:2,h:8,i:"orderControls"},{w:2,h:6,i:"orderBook"},{w:2,h:5,i:"recentTradeList"},{w:2,h:4,i:"openOrders"},{w:2,h:5,i:"positionsList"},{w:2,h:5,i:"marginDisplay"},{w:2,h:5,i:"instrumentsList"},{w:2,h:6,i:"tradingView"},{w:2,h:8,i:"chatWidget"}]},basic:{lg:[{w:4,h:9,minW:2,i:"orderBook"},{w:5,h:9,i:"tradingView"},{w:3,h:9,i:"recentTradeList"},{w:12,h:5,i:"basicOrdersAndPositions"}],md:[{w:4,h:6,minW:2,i:"orderBook"},{w:4,h:6,i:"recentTradeList"},{w:8,h:5,i:"basicOrdersAndPositions"},{w:8,h:5,i:"tradingView"}],sm:[{w:2,h:6,minW:2,i:"orderBook"},{w:2,h:6,i:"recentTradeList"},{w:4,h:5,i:"basicOrdersAndPositions"},{w:4,h:5,i:"tradingView"}],xs:[{w:2,h:8,i:"orderControls"},{w:2,h:6,i:"orderBook"},{w:2,h:5,i:"recentTradeList"},{w:2,h:5,i:"basicOrdersAndPositions"},{w:2,h:8,i:"chatWidget"},{w:2,h:6,i:"tradingView"}],xxs:[{w:2,h:8,i:"orderControls"},{w:2,h:6,i:"orderBook"},{w:2,h:5,i:"recentTradeList"},{w:2,h:5,i:"basicOrdersAndPositions"},{w:2,h:8,i:"chatWidget"},{w:2,h:6,i:"tradingView"}]}},s=e.browser&&/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);Boolean(e.browser)&&function(){try{var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");if(r>0)return parseInt(e.substring(r+5,e.indexOf(".",r)),10)}catch(e){}}();var l=function(){if("undefined"==typeof document)return!0;var e=document.body||document.documentElement,t=e?e.style:{};return""===t.webkitFlexWrap||""===t.msFlexWrap||""===t.flexWrap}(),c={alertOnLiquidations:!1,animationsEnabled:!0,announcementsLastSeen:new Date("2010-01-01"),chatChannelID:0,colorTheme:"light",currency:"XBT",debug:!1,disableEmails:[],hideConfirmDialogs:[],hideConnectionModal:!1,hideFromLeaderboard:!1,hideNameFromLeaderboard:!0,hideNotifications:[],hidePhoneConfirm:!1,locale:"en-US",msgsSeen:[],orderBookBinning:{},orderBookType:null,orderClearImmediate:!1,orderControlsPlusMinus:!1,showLocaleNumbers:!0,sounds:[],strictIPCheck:!1,strictTimeout:!0,tickerGroup:"All",tickerPinned:!1,tradeLayout:"basic"}}).call(t,n(12))},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return M});var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(4)),h=n(27),g=n.n(h),y=n(15),b=n.n(y),v=n(97),E=function(e){return null},w={passive:!0},M=function(t){function n(){var e,r,a;l()(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u()(this,t.call.apply(t,[this].concat(o))),r.state={hovered:!1,rendered:!1,onceRendered:!1,x:0,y:0,xAlt:0,yAlt:0,width:0,height:0},r.hasListener=!1,r.onClick=function(e){r.props.onClick(e)},r.onTouchStart=function(e){r.props.disableOnTouch&&(e.preventDefault(),e.stopPropagation()),r.onShow(e)},r.onHide=function(e){r.showPromise&&(r.showPromise.cancel(),r.showPromise=null),r.setState({hovered:!1,rendered:!1}),r.removeScrollListener(),r.props.onMouseOut(e)},r.onShow=function(e){r.showPromise=b.a.resolve().then(function(){return r.setState({rendered:!0,onceRendered:!0})}).delay(200).then(function(){return r.setBubblePosition()}),r.addScrollListener(),r.props.onMouseOver(e)},r.onWindowScroll=function(e){r.onHide(e)},a=e,u()(r,a)}return p()(n,t),n.prototype.componentDidMount=function(){this.props.open&&this.setBubblePosition()},n.prototype.componentWillReceiveProps=function(e){!this.props.open&&e.open&&this.setBubblePosition()},n.prototype.componentWillUnmount=function(){this.showPromise&&(this.showPromise.cancel(),this.showPromise=null),this.removeScrollListener()},n.prototype.addScrollListener=function(){this.hasListener||(window.addEventListener("scroll",this.onWindowScroll,w),this.hasListener=!0)},n.prototype.removeScrollListener=function(){this.hasListener&&(window.removeEventListener("scroll",this.onWindowScroll,w),this.hasListener=!1)},n.prototype.setBubblePosition=function(){var e=this.bubbleEl,t=this.wrapperEl;if(e&&t){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();this.setState({hovered:!0,x:n.right,xAlt:n.left,y:window.innerHeight-window.scrollY-n.top,yAlt:n.bottom+window.scrollY,width:r.width,height:r.height})}},n.prototype.getHoverStyle=function(){var t=this.state,n=this.props;if(!e.browser||!t.hovered&&!n.open)return{};var r=Math.min(Math.max(t.width,150),500),a=Math.min(Math.max(t.height,50),400),i=window.innerWidth,o=window.innerHeight,s={visibility:"visible",left:t.x,bottom:t.y};return(this.props.horizFlip||i-t.x<r)&&(s.right=i-t.xAlt,s.left="auto"),(this.props.vertFlip||o-t.y<a)&&(s.top=t.yAlt,s.bottom="auto"),"number"==typeof s.left&&s.left+r+50>i?(s.left="auto",s.right=0):"number"==typeof s.right&&s.right+r+50>i&&(s.left=0,s.right="auto"),"number"==typeof s.bottom&&s.bottom+a+10>o?(s.bottom="auto",s.top=0):"number"==typeof s.top&&s.top+a+10>o&&(s.bottom=0,s.top="auto"),s},n.prototype.render=function(){var e=this,t=this.props,n=t.component,r=(t.disableOnTouch,t.horizFlip,t.vertFlip,t.open,t.text,t.textTitle,t.__textIsHTML,o()(t,["component","disableOnTouch","horizFlip","vertFlip","open","text","textTitle","__textIsHTML"])),i=this.getHoverStyle(),s=this.state.rendered||this.props.open,l=this.state.hovered||this.props.open,c=g()(this.props.className,"tooltipWrapper",{rendering:s&&!l,hovered:l,horizFlip:this.props.horizFlip,vertFlip:this.props.vertFlip}),u=void 0;if(s){var d="function"==typeof this.props.text?this.props.text():this.props.text,p="function"==typeof this.props.textTitle?this.props.textTitle():this.props.textTitle;p&&(p=m.createElement("div",{className:"tooltipTitle"},p)),u=m.createElement("span",{className:"tooltipBubble",ref:function(t){return e.bubbleEl=t},style:i},p,d),s&&this.props.__textIsHTML&&(u=m.cloneElement(u,{dangerouslySetInnerHTML:{__html:d},children:null}))}return m.createElement(n,a()({},r,{className:c,onMouseOver:this.onShow,onMouseOut:this.onHide,onClick:this.onClick,onTouchStart:this.onTouchStart,ref:function(t){return e.wrapperEl=t}}),this.props.children,s?Object(v.a)(u,"tooltip-root"):null)},n}(f.a);M.displayName="Tooltip",M.defaultProps={className:"",component:"span",disableOnTouch:!1,horizFlip:!1,vertFlip:!1,open:!1,onClick:E,onMouseOut:E,onMouseOver:E,__textIsHTML:!1},M.SCUDeep=!0}).call(t,n(12))},,,function(e,t,n){"use strict";n.d(t,"a",function(){return E}),t.c=function(e){var t=Object(m.b)(e);t.displayTypes||(t.displayTypes={});return h.a.each(t.props,function(e,n){t.displayTypes[n]=t.displayTypes[n]||E._defaultDisplayTransforms[e.type||e]}),t._displayKeys=(r=e,a=[].concat(o()(r.derived||{}),o()(r.props||{})),r.displayColumns?a=r.displayColumns:r.displayOmitColumns&&(a=h.a.pull(a,r.displayOmitColumns)),a),t._uncacheableDisplayKeys=(n=e,o()(n.derived).filter(function(e){return!1===n.derived[e].cache})),t._displayPrimed=!0,t;var n;var r,a},n.d(t,"b",function(){return w});var r=n(35),a=n.n(r),i=n(26),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(74),f=n(5),h=n.n(f),g=n(10),y=n(23),b=n(42),v=(n.n(b),n(11)),E=function(e){function t(n,r){l()(this,t);var a=u()(this,e.call(this,n,r));return a}return p()(t,e),t.prototype.getDisplayFieldBase=function(e,t,n){var r=this.constructor.displayTypes[e];return"function"==typeof r?r.call(this,t,n):t},t.prototype.getDisplayField=function(e,t){var n=this[e];return this.getDisplayFieldBase(e,n,t)},t.prototype.toDisplay=function(e,t){var n;return this._toDisplay||(this._toDisplay=(n=Object(b.defaultMemoize)(M,S),function(e,t){var r=e.constructor._uncacheableDisplayKeys;return r.length?(t.columns&&t.columns.length&&(r=h.a.intersection(t.columns,r)),n(e,t,h.a.pick(e,r))):n(e,t)})),this._toDisplay(this,e)},t}(m.a);E._displayPrimed=!1;var w={bool:function(e){return e?"Yes":"No"},currency:function(e,t){return a()(e)?g.g(e,t.activeCurrency):"-.--"},currencyToFixed:function(e){return function(t,n){return a()(t)?g.g(t,n.activeCurrency,n.fromCurrency||v.f,e):"-.--"}},currencyFiat:function(e,t){return a()(e)?g.t(e,.01)+" "+(t.label||"USD"):"-.--"},currencyHighPrecision:function(e,t){return a()(e)?g.o(e,t.activeCurrency):"-.--"},currencyFullPrecision:function(e,t){return a()(e)?g.f(e,t.activeCurrency):"-.--"},dateMonthYear:function(e,t){return e?y.k(e):"---"},dateSettlement:function(e,t){return e?y.m(e):"---"},fixedNumber:function(e,t){return a()(e)?g.t(e,t.tickSize||this.tickSize||.01):"-.--"},fixedNumberNearest:function(e,t){return a()(e)?g.r(e,t.tickSize||this.tickSize||.01):"-.--"},fixedNumberMinTick:function(e,t){if(!a()(e))return"-.--";var n=this.minTick;return"number"!=typeof n&&(n=this.tickSize),g.r(e,n)},interval:function(e){return e?h.a.upperFirst(y.u(e)):""},localeString:function(e){return null==e?"---":y.i(e)},multiplier:function(e){return e.toFixed(2)+"x"},numCommas:function(e){return a()(e)?g.w(e):"0"},percentage:function(e){return a()(e)?100*e+"%":""},percentageToFixed:function(e){return function(t){return a()(t)?(100*t).toFixed(e)+"%":""}},percentageHundredths:function(e){return a()(e)?(100*e).toFixed(2)+"%":""},percentageInt:function(e){return a()(e)?(e<0?Math.ceil:Math.floor)(100*e)+"%":""}};function M(e,t){var n={_id:e.getID()};Object.defineProperty(n,"_displayValues",{value:e,enumerable:!1});for(var r=t.columns||e.constructor._displayKeys,a=0;a<r.length;a++){var i=r[a];n[i]=e.getDisplayFieldBase(i,e[i],t)}return n}function S(e,t){return e===t||!(!e||!t)&&(Array.isArray(e)?function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(e,t):e.activeCurrency?e.activeCurrency===t.activeCurrency&&S(e.columns,t.columns)&&e.fromCurrency===t.fromCurrency&&e.timezoneOffset===t.timezoneOffset:h.a.isEqual(e,t))}E.displayTransforms=w,E._defaultDisplayTransforms={currency:E.displayTransforms.currency,date:E.displayTransforms.localeString}},,function(e,t,n){e.exports=n(289)},,function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return y}),n.d(t,"a",function(){return x}),n.d(t,"c",function(){return k}),n.d(t,"e",function(){return C}),t.q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;if(T===e)return;T=e,P(e),N.locale=t},t.d=function(e,t){e=F(e),t=F(t);var n=Math.abs(e-t),r=Math.floor(n/E),a=C.time.full24(O().valueOf()+n);r>0&&(a=r+"d "+a);return a},t.g=function(e,t){var n="",r=Date.now(),i=t.unit,o=a()({},N,t);if(t.singular){var s=r+I[i];n=p()(r,s,o).replace("1",String(e))}else{var l=r+e*I[i];n=p()(r,l,o)}if(t.unitOnly){var c=n.split(" ");n=c[c.length-1]}t.dashed&&(n=n.replace(" ","-"));return n},t.h=function(e,t,n){return p()(e,t,a()({},N,n))},t.i=function(e,t){return C.date.fullSeconds(e)},t.f=function(e,t){return C.date.dateOnly(e)},t.j=function(e){var t=new Date(b);return t.setMonth(t.getMonth()+e),n=t,C.date.monthLong(n);var n},t.k=function(e,t){return C.date.monthYearLong(e)},t.l=function(e,t){return C.date.mediumLongMonth(e)},t.m=function(e,t){return C.date.medium(e)+" ("+L(e)+")"},t.n=function(e,t){return C.time.full(e)},t.o=function(e,t){return C.time.shortTZ(e).replace("GMT","UTC")},t.p=L,t.r=function(e){var t=e.match(g);return t?[Number(t[1]),t[2]]:[null,null]},t.t=function(e){var t=(e=F(e))-y;{if(t<v)return{amount:Math.floor(t/1e3*60),unit:"m"};if(t<E)return{amount:Math.floor(t/v),unit:"h"};if(t===w||t===2*w){var n=(r=5,(a=new Date(b)).setDate(a.getDate()+r),i=a,C.date.weekdayLong(i));return{amount:Math.floor(t/E),unit:"d",dayStr:n}}if(t<M)return{amount:Math.floor(t/E),unit:"d"}}var r,a,i;return{amount:Math.floor(t/M),unit:"m"}},t.u=function(e){var t=Object(m.a)();if(!t)return console.warn("Intl not initialized!"),"";var n=l.a["interval.detect"](e);return t.formatMessage(n.props,n.props.values)},t.s=function(e){return(Number(F(e))-Number(y))/E},t.v=function(e){var t=new Date;t.setUTCHours(e,0,0,0),t.valueOf()<Date.now()&&t.setUTCDate(t.getUTCDate()+1);return u()(new Date,t,N)};var r=n(6),a=n.n(r),i=n(5),o=n.n(i),s=n(131),l=n(132),c=n(156),u=n.n(c),d=n(398),p=n.n(d),m=n(134),f=n(133),h=n.n(f),g=/(\d+)([a-zA-Z])$/,y=new Date("2000-01-01T00:00:00Z"),b=new Date("2000-01-03T00:00:00Z"),v=36e5,E=24*v,w=7*E,M=30*E,S=365*E,x={S:"s",M:"m",H:"h",D:"d",W:"w",Y:"Y"},k={F:0,G:1,H:2,J:3,K:4,M:5,N:6,Q:7,U:8,V:9,X:10,Z:11},T=void 0,C={date:{},time:{}},N={partialMethod:"round",locale:h.a};function P(t){var n=function(t,n){var r=void 0;return function(a){try{var i=F(a);return r||(r=new e.Intl.DateTimeFormat(t,n)),r.format(i)}catch(e){return"undefined"!=typeof window&&window.Raven&&window.Raven.captureException(e,{extra:{dateInput:a}}),"---"}}}.bind(null,t);return C.date=o.a.mapValues(s.a.date,n),C.time=o.a.mapValues(s.a.time,n),C}function O(){return new Date(2e3,0,0,0,0,0)}function F(e){return e instanceof Date?e:new Date(e)}P("en-US");var I={s:1e3,m:6e4,h:v,d:E,M:M,Y:S};function L(e){return C.time.UTC(e).replace("GMT","UTC")}}).call(t,n(36))},function(e,t,n){e.exports={default:n(93),__esModule:!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"f",function(){return S}),t.c=function(e){return e.method="GET",S(e)},t.d=function(e){return e.method="POST",S(e)},t.e=function(e){return e.method="PUT",S(e)},t.b=function(e){return e.method="DELETE",S(e)},t.g=function(e){E=e};var r,a=n(21),i=n.n(a),o=n(34),s=n.n(o),l=n(24),c=n.n(l),u=n(15),d=(n.n(u),n(5)),p=n.n(d),m=n(94),f=n(58),h=n(204),g=n.n(h),y=n(205)(),b=y.fetch,v=y.Headers,E=null,w="/api/v1",M=function(e){return void 0===e||null===e},S=(r=Object(u.coroutine)(i.a.mark(function e(t){var n,r,a,o,l,u,d,h,y,S;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.a.clone(t),r=new v(n.headers||{}),!n.body||r&&r.get("content-type")){e.next=4;break}throw new Error("Provide a content-type when calling APIRequest with a raw body, or use `json` or `form`.");case 4:n.json?(a=p.a.omitBy(n.json,M),n.body=c()(a),r.set("content-type","application/json"),n.json=null):n.form&&(o=p.a.omitBy(n.form,M),n.body=new FormData(o),r.set("content-type","x-www-form-urlencoded"),n.form=null),l="/"===n.endpoint[0]?"":"/",u=!1!==n.callAPI?w+l:"",d=u+n.endpoint,null===n.qs||"object"!==s()(n.qs)||p.a.isEmpty(n.qs)||(d+="?"+g.a.stringify(n.qs)),r.set("accept","application/json"),r.set("x-requested-with","XMLHttpRequest"),r.set("x-csrf-token",f.a.csrfToken),n.credentials="same-origin","number"==typeof E&&r.set("x-masq",String(E)),e.next=16;break;case 16:return n.headers=r,e.next=19,b(d,n);case 19:if(!(h=e.sent).ok){e.next=24;break}if(!h.json){e.next=23;break}return e.abrupt("return",h.json());case 23:return e.abrupt("return",h.text());case 24:if(!1!==n.redirect401&&401===h.status&&f.a.authenticated&&f.a.timeout(),y=void 0,!h.json){e.next=38;break}return e.prev=27,e.next=30,h.json();case 30:(S=e.sent)&&S.error&&S.error.message&&(y=S.error.message),e.next=36;break;case 34:e.prev=34,e.t0=e.catch(27);case 36:e.next=42;break;case 38:if(!h.text){e.next=42;break}return e.next=41,h.text();case 41:y=e.sent;case 42:throw new m.a(y||h.statusText,h.status);case 43:case"end":return e.stop()}},e,this,[[27,34]])})),function(e){return r.apply(this,arguments)})},function(e,t,n){e.exports={default:n(125),__esModule:!0}},,function(e,t,n){e.exports={default:n(175),__esModule:!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(40),p=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.initialMinimized,r=e.panelClassName,a=e.showFullscreen,i=e.showMinimize,o=e.title;return c.createElement("div",{className:"pageWrapper "+t},c.createElement(d.a,{title:o,showFullscreen:a,showMinimize:i,className:r,initialMinimized:n},this.props.children))},t}(u.a);p.displayName="Page",p.defaultProps={children:null,className:"",initialMinimized:!1,panelClassName:"",showMinimize:!1,showFullscreen:!1}},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(338),a=n.n(r),i=n(21),o=n.n(i),s=n(28),l=n.n(s),c=n(308),u=n.n(c),d=n(177),p=(n.n(d),n(24)),m=(n.n(p),n(0)),f=n.n(m),h=n(178),g=n.n(h),y=n(5),b=n.n(y),v=n(42),E=(n.n(v),n(127)),w=(n(71),function(){function e(t,n){f()(this,e),this.findCache={};var r=this.constructor.model;if(t||(t=[]),!t[0]||t[0]instanceof r||(t=t.map(function(e){return new r(e,n)})),n&&!1===n.sort||(t=b.a.sortBy(t,this.constructor.comparator)),this.models=t,0===r._uncacheableDisplayKeys.length){var a=e.prototype.toDisplay.bind(this);this.toDisplay=Object(v.defaultMemoize)(function(e){return a(e)},b.a.isEqual)}this.initialize(this.models,n)}return e.prototype.initialize=function(){},e.prototype.get=function(e){if(!this.findCache.hasOwnProperty(e)){var t=this.getIndexOf(e);if(-1!==t){var n=this.models[t];return this.findCache[e]=n,n}}return this.findCache[e]},e.prototype.getIndexOf=function(e){if(this.findCache.hasOwnProperty(e))return this.indexOf(this.findCache[e]);for(var t=this.constructor.model.idAttribute,n=0;n<this.models.length;n++){if(this.models[n].toJSON()[t]===e)return n}return-1},e.prototype.getInsertionIndex=function(e,t){var n=this.constructor.comparator;return n?b.a.sortedIndexBy(e,t,n):0},e.prototype.filter=function(e){return b.a.filter(this.models,e)},e.prototype.find=function(e){return b.a.find(this.models,e)},e.prototype.first=function(){return this.models[0]},e.prototype.forEach=function(e){for(var t=0;t<this.models.length;t++)e(this.models[t],t,this.models)},e.prototype.indexOf=function(e){return this.models.indexOf(e)},e.prototype.map=function(e){return b.a.map(this.models,e)},e.prototype.pluck=function(e){return this.map(function(t){return t[e]})},e.prototype.reject=function(e){return b.a.reject(this.models,e)},e.prototype.clone=function(e){return new this.constructor(this.models,e)},e.prototype.new=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return new this.constructor(e,t)},e.prototype.sort=function(){throw new Error("Can't re-sort an existing collection.")},e.prototype[u.a]=o.a.mark(function e(){var t,n,r,a,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.models,n=Array.isArray(t),r=0,t=n?t:l()(t);case 1:if(!n){e.next=7;break}if(!(r>=t.length)){e.next=4;break}return e.abrupt("break",16);case 4:a=t[r++],e.next=11;break;case 7:if(!(r=t.next()).done){e.next=10;break}return e.abrupt("break",16);case 10:a=r.value;case 11:return i=a,e.next=14,i;case 14:e.next=1;break;case 16:case"end":return e.stop()}},e,this)}),e.prototype.toDisplay=function(e){return this.models.map(function(t){return t.toDisplay(e)})},e.prototype.toJSON=function(){return this.models.map(function(e){return e.toJSON()})},g()(e,[{key:"idAttribute",get:function(){return this.constructor.model.idAttribute}},{key:"length",get:function(){return this.models.length}},{key:"stores",get:function(){return Object(E.a)()}},{key:a.a,get:function(){return this.constructor.name}}]),e}())},function(e,t,n){"use strict";(function(e){t.a=c,t.b=function(e){return e.replace(/<\/script/g,"<\\/script").replace(/<!--/g,"<\\!--")},t.e=function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(s.a)();if(!n||!n.props)return e.Raven&&e.Raven.captureMessage("Null message passed to renderNestedFormattedMessage."),"";var o={};var l=n.props;for(var c in l.values){var d=l.values[c];null!==d&&i.isValidElement(d)&&u[d.type.displayName]?o[c]=t(d,r):d&&"br"===d.type?o[c]="\n":o[c]="function"==typeof d?d(r):d}var p=u[n.type.displayName];if(!p){try{console.error("Formatter not found for message: "+a()(n))}catch(e){console.error("Formatter not found for message: "+n.type.name)}p=u.FormattedMessage}return p(r,l,o)},t.c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(s.a)();return f(p,e,t,n)||c(t)},t.d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(s.a)();return f(d,e,t,n)};var r=n(24),a=n.n(r),i=n(3),o=(n.n(i),n(5)),s=(n.n(o),n(134)),l=(n(7),/([A-Z](?=(?:[a-z])))/g);function c(e){return e?e[0].toUpperCase()+e.slice(1).replace(l," $1"):e}var u={FormattedDate:function(e,t){return e.formatDate(t.value)},FormattedTime:function(e,t){return e.formatTime(t.value)},FormattedRelative:function(e,t){return e.formatRelative(t.value)},FormattedNumber:function(e,t){return e.formatNumber(t.value)},FormattedPlural:function(e,t){return e.formatPlural(t.value)},FormattedMessage:function(e,t,n){return e.formatMessage(t,n)},FormattedHTMLMessage:function(e,t,n){return e.formatHTMLMessage(t,n)}};var d="columns.definitions",p="columns.translations";var m=["_common"];function f(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(s.a)(),a=m.concat(t),i=a.length;i--;){var o=r.messages[e+"."+a[i]+"."+n];if(o)return o}return""}}).call(t,n(36))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(77),p=(n.n(d),n(5)),m=n.n(p),f=function(t){function n(e){o()(this,n);var r=l()(this,t.call(this));return Object.defineProperty(r,"app",{enumerable:!1,value:e.app}),r.constructor.mixins.forEach(function(e){return d.createStore.mixSpecIntoComponent(r,e)}),r.__actions__=a()({},r.__actions__,m.a.mapValues(r.constructor.actions,function(e){return r[e]})),r}return u()(n,t),n.prototype.notify=function(t){var n=this;e.nextTick(function(){return n.flux.actions.createNotification(t)})},n.prototype._mapMember=function(e,t){var n=this[e];n&&(n.new&&n.map?this[e]=n.new(n.map(t)):n.new?this[e]=n.new(t):Array.isArray(n)?this[e]=n.map(t):this[e]=t(n,""),this.emit("change"))},n}(d.Store);f.actions={},f.mixins=[],d.createStore.createChainedFunction=function(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}}).call(t,n(12))},,function(e,t,n){e.exports={default:n(200),__esModule:!0}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return O});var r,a=n(6),i=n.n(a),o=n(0),s=n.n(o),l=n(1),c=n.n(l),u=n(2),d=n.n(u),p=n(3),m=(n.n(p),n(4)),f=n(245),h=(n.n(f),n(5)),g=n.n(h),y=n(42),b=(n.n(y),n(471)),v=n(74),E=n(472),w=n(474),M=n(30),S=n(38),x=n.n(S),k=n(27),T=n.n(k),C=n(9),N=p.createElement("tr",null,p.createElement("td",{colSpan:"100"})),P=p.createElement("div",{className:"header-background"}),O=x.a.decorate(b.a)(r=function(t){function n(){var e,r,a;s()(this,n);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=r=c()(this,t.call.apply(t,[this].concat(o))),r.getToDisplayArgs=Object(y.defaultMemoize)(r._getToDisplayArgs.bind(r)),a=e,c()(r,a)}return d()(n,t),n.prototype.getColumns=function(e){var t=this.props.columns;return t&&t.length||(t=e instanceof M.a?e.first()?e.first()._displayKeys:[]:g.a.keys(e[0])),t},n.prototype._getToDisplayArgs=function(e){var t=e,n=g.a.filter(this.props.cellFormatters,function(t,n){return g.a.includes(e,n)});return n.length&&(t=g.a.uniq([].concat(e,g.a.flatMap(n,function(e){return Array.isArray(e&&e.deps)?e.deps:[]})))),{activeCurrency:this.context.activeCurrency,timezoneOffset:this.context.timezoneOffset,columns:t}},n.prototype.makeRows=function(e,t,n){var r=null;e instanceof M.a&&(e=e.models),e[0]instanceof v.a&&(r=this.getToDisplayArgs(t,this.context));for(var a=e.length,o=new Array(a),s=0;s<a;s++){var l=e[s],c=void 0,u=null!=(c=l.toDisplay?null!=this.props.cellFormatters?l.toDisplay(r):i()({},l._values,l.toDisplay(r)):l)._id?c._id:null!=c.id?c.id:a-s,d=p.createElement(E.a,{datum:c,tableDeps:n,columns:t,key:u,className:this.props.getRowClass(c),cellFormatter:this.props.cellFormatter,cellFormatters:this.props.cellFormatters,onClick:this.props.onRowClick,onCellClick:this.props.onCellClick});this.props.rowInterceptor&&(d=this.props.rowInterceptor(d,l,s,o,e)),o[s]=d}return o},n.prototype.render=function(){var t=this,n=this.props,r=n.animated,a=n.data,i=n.deps,o=n.hideHeaders,s=n.scrollable,l=n.tableName,c=n.headerCellRenderer,u=n.reverseStripe,d=n.sortKey,m=n.sortType,h=this.getColumns(a),g=this.makeRows(a,h,i),y=g.length>0,b=a.loading||this.props.loading;!y&&b?g=N:y||(g=p.createElement("tr",null,p.createElement("td",{colSpan:"100"},C.a["No data."])));var v=void 0;v=y&&r&&e.browser?p.createElement(f.TransitionGroup,{component:"tbody"},g.map(function(e){return p.createElement(I,{key:e.key},e)})):p.createElement("tbody",null,g);var E=T()("table-container table",this.props.className,{hideHeaders:o,scrollable:s,"no-hacks":!s,noData:!y,loading:b,"table-striped":!u,"table-striped-reverse":u}),M=T()("table-container-inner",this.props.innerClassName);return p.createElement("div",{className:E},P,p.createElement("div",{className:M,onScroll:e.browser?this.onScroll:null},p.createElement("table",{cellSpacing:"0"},p.createElement(w.a,{sortKey:d,sortType:m,columns:h,scrollable:s,tableName:l,cellRenderer:c,ref:function(e){t._header=e}}),v)))},n}(m.a))||r;O.displayName="Table",O.defaultProps={animated:!1,className:"",getRowClass:function(e){return""},hideHeaders:!1,innerClassName:"",loading:!1,onRowClick:function(e,t){},onCellClick:function(e,t,n,r){},scrollable:!0},O.SCUDeep=!0;var F={enter:500,exit:0};function I(e){return p.createElement(f.CSSTransition,i()({},e,{classNames:"highlight",exit:!1,timeout:F}))}}).call(t,n(12))},function(e,t,n){var r,a=n(434),i=n(70),o=a({componentDidMount:a.MANY,componentWillMount:a.MANY,componentWillReceiveProps:a.MANY,shouldComponentUpdate:a.ONCE,componentWillUpdate:a.MANY,componentDidUpdate:a.MANY,componentWillUnmount:a.MANY,getChildContext:a.MANY_MERGED});function s(e,t){var n,r;(r=(n=t).getDefaultProps)&&(n.defaultProps=r(),delete n.getDefaultProps),function(e){var t=e.getInitialState,n=e.componentWillMount;function r(e){var n=e.state||{};i(n,t.call(e)),e.setState(n)}t&&(e.componentWillMount=n?function(){r(this),n.call(this)}:function(){r(this)},delete e.getInitialState)}(t);var l={},c={};Object.keys(t).forEach(function(e){"mixins"!==e&&"statics"!==e&&("function"==typeof t[e]?l[e]=t[e]:c[e]=t[e])}),o(e.prototype,l);var u=function(e,t,n){if(!e)return t;if(!t)return e;var r={};return Object.keys(e).forEach(function(n){t[n]||(r[n]=e[n])}),Object.keys(t).forEach(function(n){e[n]?r[n]=function(){return t[n].apply(this,arguments)&&e[n].apply(this,arguments)}:r[n]=t[n]}),r};return a({childContextTypes:u,contextTypes:u,propTypes:a.MANY_MERGED_LOOSE,defaultProps:a.MANY_MERGED_LOOSE})(e,c),t.statics&&Object.getOwnPropertyNames(t.statics).forEach(function(n){var r=e[n],a=t.statics[n];if(void 0!==r&&void 0!==a)throw new TypeError("Cannot mixin statics because statics."+n+" and Component."+n+" are defined.");e[n]=void 0!==r?r:a}),t.mixins&&t.mixins.reverse().forEach(s.bind(null,e)),e}e.exports=((r=o).onClass=function(e,t){return s(e,t=i({},t))},r.decorate=function(e){return function(t){return r.onClass(t,e)}},r)},function(e,t,n){"use strict";(function(e){t.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=[].concat(t),0;return{actions:{FLUX_INIT:"onFluxInit"},_onShouldFetch:function(e){var t=this;return Object(p.coroutine)(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.partialIsUsable){n.next=6;break}return n.next=3,d.a.delay(500+2e3*Math.random());case 3:e.stream&&e.stream.requestPartial(),n.next=7;break;case 6:t.onImageAllStores?t.onImageAllStores():console.warn("Unable to refresh store without REST binding.");case 7:case"end":return n.stop()}},n,t)}))()},onFluxInit:function(){this._bindAutoRefresh(),this._setupThrottle()},_bindAutoRefresh:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(e.browser||e.native)&&g.a.each(t,function(e,t){var a="function"==typeof e.enabled?e.enabled.call(n):e.enabled;if(!1!==a){var i=r;"function"==typeof n._getAutoRefreshArgs&&(i=[].concat(r||[],n._getAutoRefreshArgs(e)||[]));var o=[e.socketName].concat(i).join(":");e.stream&&e.stream.end();var s=f.a[e.model];s||console.error("Schema",e.model,"not found."),e.keys=s.keys;var l=n.app.getWebSocketStream(o);if(e.stream=l,l.on("data",function(t){return n._onWSData(e,t)}),e.partialIsUsable){var c=function(){g.a.get(n,e.storeKey).loading=!0};l.on("disconnected",c),c()}e._missedUpdates=[],e._lastMessages=new Array(w),e._shouldFetch=!1,e.onShouldFetch=g.a.throttle(n._onShouldFetch.bind(n,e),M)}})},_onWSData:function(e,t){var n=this;if(!t.error&&!t.success){var r=e.storeKey;for(e.dataFormatter&&(t.data=e.dataFormatter.call(this,t.data)),e._lastMessages.push([(new Date).toISOString(),s()({action:t.action,data:"partial"===t.action?t.data.map(function(t){return g.a.pick(t,e.keys)}):t.data})]);e._lastMessages.length>w;)e._lastMessages.shift();var i=g.a.get(this,r).loading;if(!i||"image"===t.action||"partial"===t.action){if("image"===t.action)x(this,r,t.data,!0);else if("partial"===t.action){try{var o=this.app.stores.getStore("MeStore").getMe(),l=o.id;if("number"==typeof l&&t.filter&&"number"==typeof t.filter.account){if(t.filter.account!==l){if(/bitmex.com$/.test(o.email))return;C("Partial message had filter for incorrect account: audit failure",{level:"error",extra:{key:r,name:this.constructor.name,data:t,filter:t.filter}})}t.data.forEach(function(e){"number"==typeof e.account&&e.account!==l&&C("Partial message for incorrect account: audit failure",{level:"error",extra:{key:r,name:n.constructor.name,datum:e,data:t}})})}}catch(e){}e.partialIsUsable&&x(this,r,t.data),g.a.get(this,r).loading=!1}else if("update"===t.action)!function(e,t,n,r){for(var i=r.keys,o=k(e,t).slice(),l=function(l){var c,u,d,p,m,f,h,y=n[l],v=T(e,t,y,i),E=v[0],w=v[1];if(w){if(-1===E)throw new Error("Couldn't find item to update for key "+t);h=y,y=(f=w)instanceof b.a?f.newWithProps(h):a()({},f,h),o[E]=y,u="update",d=t,p=y,m=w,(c=e).emit(u,p,m),c.emit(u+":"+d,p,m)}else if(!1!==r.fetchOnMissingUpdate){var M=s()(g.a.pick(y,i)),S=g.a.includes(e._missedUpdates,M);S||(setTimeout(function(){C('WS "update" could not find existing item',{level:"warn",extra:{key:t,keys:i,name:e.constructor.name,newData:n,newDatum:y,lastMessages:r._lastMessages}})},1e3),console.warn("Update for missing item came through on "+t+". Refreshing underlying..."),r._missedUpdates.push(M),r._shouldFetch=!0)}},c=0;c<n.length;c++)l(c);x(e,t,o)}(this,r,t.data,e);else if("insert"===t.action)!function(e,t,n,r){var a=k(e,t),i=void 0,o=g.a.get(e,t);if(N(o)){i=a.slice();for(var s=0;s<n.length;s++){var l=n[s],c=new o.constructor.model(l);o.get(c.getID())?(console.warn("Insert for existing item came through on "+t+" with id "+c.getID()+"."),C('WS "insert" for already existing item',{level:"warn",extra:{key:t,name:e.constructor.name,newData:n,newDatum:l,lastMessages:r._lastMessages}})):(i.splice(o.getInsertionIndex(i,c),0,c),S(e,"insert",t,c))}}else i=n.reverse().concat(a),n.forEach(function(n){return S(e,"insert",t,n)});x(e,t,i)}(this,r,t.data,e);else{if("delete"!==t.action)return void console.error("Unknown data action: "+t.action+" on socket "+e.socketName+". Payload: "+s()(t));!function(e,t,n,r){for(var a=r.keys,i=k(e,t),o=i.length-n.length,s=0,l=Array(o),c=n.map(function(n){return T(e,t,n,r.keys)[0]}),u=0;u<i.length;u++)-1===c.indexOf(u)&&(l[s++]=i[u]);s!==o&&C('WS "delete" could not find existing item',{level:"warn",extra:{key:t,keys:a,name:e.constructor.name,newData:n,lastMessages:r._lastMessages}});x(e,t,l)}(this,r,t.data,e)}if("update"!==t.action&&"insert"!==t.action)for(var c=0;c<t.data.length;c++)S(this,t.action,r,t.data[c]);e._shouldFetch&&(e.onShouldFetch(),e._shouldFetch=!1),this.emit("change")}}},_setupThrottle:function(){if(n.throttleUpdate){var e=this._onWSData,t=[];this._onWSData=function(r,a){t.length||setTimeout(function(){for(;t.length;)t.shift()()},n.throttleUpdate),t.push(e.bind(this,r,a))}}}}};var r=n(6),a=n.n(r),i=n(28),o=(n.n(i),n(24)),s=n.n(o),l=n(21),c=n.n(l),u=n(15),d=n.n(u),p=n(15),m=(n.n(p),n(179)),f=n.n(m),h=n(5),g=n.n(h),y=n(30),b=n(74),v=n(269),E=(n.n(v),n(18)),w=(n.n(E)()("frontend:ui:AutoRefreshMixin"),15),M=2e4;function S(e,t,n,r){e.emit(t,r),e.emit(t+":"+n,r)}function x(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.split("."),i=e;a.length>1;)i=i[a.shift()];var o=a[0];return N(i[o])?i[o]=i[o].new(n,{sort:r}):i[o]=n,i[o]}function k(e,t){var n=g.a.get(e,t);return n instanceof y.a?n.models:n}function T(e,t,n,r){var a=g.a.get(e,t);if(N(a)){var i=n[a.idAttribute],o=a.get(i);return[a.getIndexOf(i),o]}if(Array.isArray(a)){var s=-1,l=a.find(function(e,t){for(var a=0;a<r.length;a++){var i=r[a];if(n[i]!==e[i])return!1}return s=t,!0});return[s,l]}return[0,a]}function C(t,n){e.browser&&window.Raven&&window.Raven.captureMessage(t,a()({},n,{stacktrace:!0}))}function N(e){return e instanceof y.a}}).call(t,n(12))},function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(34),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=n(14),h=n.n(f),g=n(4),y=n(8),b=n(22),v=n.n(b),E=n(5),w=n.n(E),M=n(27),S=n.n(M),x=n(9),k=n(67),T=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.context.intl.formatMessage;if(!this.props.title)return null;var t=null,n=null,r=null,a=this.props,i=a.fullscreened,o=a.minimized;return this.props.tooltip&&(t=m.createElement(k.a,{key:"tooltip",text:this.props.tooltip,className:"titleTooltip"})),this.props.showFullscreen&&(n=m.createElement("i",{onClick:this.props.toggleFullscreen,className:"fa fa-fw fa-"+(i?"compress restore":"expand fullscreen"),title:e(i?x.a.Restore.props:x.a.Fullscreen.props)})),this.props.showMinimize&&!i&&(r=m.createElement("i",{onClick:this.props.toggleMinimize,className:"minimizeToggle fa fa-fw fa-"+(o?"plus-square":"minus-square"),title:e(o?x.a.Restore.props:x.a.Minimize.props)})),m.createElement("header",null,m.createElement("span",{className:"title"},this.props.title,t),m.createElement("div",{className:"widget-controls"},this.props.extraControls||null,n,r))},t}(g.a);T.displayName="PanelHeader",T.SCUDeep=!0;var C,N=n(52),P=n.n(N),O=n(146),F=n(60),I=n(38),L=n.n(I),A=n(45),D=n.n(A),B=n(98),_=n(7),R=m.createElement("div",null,m.createElement(_.FormattedMessage,{id:"loginRequired.message",defaultMessage:"You must be logged in to view this content.",description:"Message shown when logged out, on panels"})),j=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){return m.createElement("span",{className:"loginRequired verticalAlign verticalAlignFlexParent"},m.createElement("div",null,R,m.createElement("div",{className:"btn-group v-offset-1"},m.createElement("a",{href:"/login",className:"btn btn-primary"},x.a.Login),m.createElement("a",{href:"/register",className:"btn btn-primary"},x.a.Register))))},t}(m.Component);j.displayName="LoginRequired";var U=m.createElement(j,null),H=m.createElement(O.a,{className:"fullscreen-widget"}),q=L.a.decorate(D.a)(C=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.state={fullscreened:r.props.fullscreened||!1,minimized:r.props.initialMinimized},r.toggleFullscreen=function(){var e=!r.state.fullscreened;"boolean"!=typeof r.props.fullscreened&&r.setState({fullscreened:e,minimized:!1}),r.props.actions.toggleFullscreenPanel(e,r.getName()),r.props.onFullscreenToggle(e)},r.toggleMinimize=function(){var e=!r.state.minimized;r.setState({minimized:e}),r.props.onMinimize(e)},r.onKeyUp=function(e){27===e.keyCode&&r.toggleFullscreen(e)},a=n,u()(r,a)}return p()(t,e),t.prototype.getChildContext=function(){return{panelState:this.state}},t.prototype.componentWillUnmount=function(){this.state.fullscreened&&this.props.fullscreened&&(this.props.onFullscreenToggle(!1),this.props.actions.toggleFullscreenPanel(!1,this.getName()))},t.prototype.getName=function(){var e=v.a.findDOMNode(this);if(e){var t=Object(F.b)(e,function(e){return e.classList.contains("widget-container")});return t instanceof window.Node?t.getAttribute("data-name"):void 0}},t.prototype._getSectionClass=function(e){var t=function(e){"object"!==(void 0===e?"undefined":o()(e))&&(e={xxs:e||"auto"});return w.a.map(e,function(e,t){return"widget-"+t+"-height-"+e}).join(" ")}(this.props.height);return S()(this.props.className,t,{widget:!0,bitmexWidget:!0,fullscreened:this.state.fullscreened,notFullscreened:!this.state.fullscreened,minimized:e})},t.prototype._shouldShowMinimize=function(){var e=this.props,t=e.responsiveSize;return e.showMinimize||"xxs"===t||"xs"===t},t.prototype.render=function(){var e=null;this.props.loginRequired&&!this.props.authenticated&&(e=U);var t=this._shouldShowMinimize(),n=t&&this.state.minimized,r=null;return this.state.fullscreened&&(r=H),m.createElement("section",{className:this._getSectionClass(n),style:this.props.style},m.createElement(B.a,null,this.state.fullscreened?m.createElement(P.a,{onKeyUp:this.onKeyUp,passive:!0}):null,r,m.createElement(T,{extraControls:this.props.extraControls,fullscreened:this.state.fullscreened,minimized:this.state.minimized,showFullscreen:this.props.showFullscreen,title:this.props.title,tooltip:this.props.tooltip,showMinimize:t,toggleFullscreen:this.toggleFullscreen,toggleMinimize:this.toggleMinimize}),n?null:m.createElement("div",{className:"body"},this.props.children,e),this.props.footer?m.createElement("footer",null,this.props.footer):null))},t}(g.a))||C;q.displayName="Panel",q.SCUDeep=!0,q.defaultProps={authenticated:!0,children:m.createElement("span",null),className:"",extraControls:null,footer:null,height:"auto",fullscreened:null,initialMinimized:!1,localStorageKey:!1,loginRequired:!1,me:{},onFullscreenToggle:function(){},onMinimize:function(){},showFullscreen:!0,showMinimize:!1,stateFilterKeys:["minimized"],style:{},tooltip:""},q.childContextTypes=a()({},g.a.contextTypes,{panelState:h.a.object});t.a=Object(y.a)(function(e){return{actions:e.actions,authenticated:e.me.authenticated,responsiveSize:e.responsiveSize}},{renderOnStateChange:!1})(q)},,function(e,t,n){"use strict";function r(e,t){return e===t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,a=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,s=r.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),c=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),u=a(function(){for(var e=[],t=l.length,n=0;n<t;n++)e.push(l[n].apply(null,arguments));return c.apply(null,e)});return u.resultFunc=s,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var o=t.createSelector=i(a)},function(e,t,n){"use strict";t.a=function(e){var t=[].concat(e);0;var n={actions:{IMAGE_ALL_STORES:"onImageAllStores"},onImageAllStores:function(e){this.fetching||(this._watchesInstrument?this.fetchWithSelectedInstrument(null,e):this.fetch(null,e))},fetch:function(){var e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetching=!0,m.a.each(t,(e=Object(p.coroutine)(l.a.mark(function e(t){var i,o,s,c,u,p,f,g,y,b;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==("function"==typeof t.enabled?t.enabled.call(n):t.enabled)){e.next=3;break}return e.abrupt("return",m.a.resolve());case 3:if(!a.disconnected||t.fetchOnDisconnect){e.next=5;break}return e.abrupt("return");case 5:a.preReset&&n._preReset(t),i=t.restParams,o="function"==typeof i?i(n):i,s=d()({},o,r),n.beforeFetch&&(s=n.beforeFetch(s)),e.next=12;break;case 12:return e.prev=12,c="function"==typeof t.restEndpoint?t.restEndpoint(s,a):t.restEndpoint,e.next=16,h.c({endpoint:c,qs:s});case 16:if(u=e.sent,!n._watchesInstrument||!s.symbol||n.app.stores.getStore("InstrumentStore").getSelectedSymbol()===s.symbol){e.next=20;break}return e.abrupt("return",console.warn("Got outdated response for symbol: "+s.symbol+". Ignoring."));case 20:t.dataFormatter&&(u=t.dataFormatter.call(n,u)),p=n[t.storeKey],n._load(t.storeKey,u,{loading:!1}),a.silent||(f=n[t.storeKey],n.emit("image:"+t.storeKey,f,p),n.emit("change")),e.next=42;break;case 26:if(e.prev=26,e.t0=e.catch(12),g=e.t0.code>=500,console[g?"error":"warn"]("Unable to update "+t.storeKey+": ",e.t0.message,e.t0.code,e.t0.stack),!g){e.next=42;break}if(a.retryCount&&!(a.retryCount<E)){e.next=41;break}return y=(a.retryCount||0)+1,b=w*Math.pow(2,y-1),console.warn("Retrying "+t.storeKey+". Retry #"+y+", waiting "+b+"ms..."),e.next=38,m.a.delay(b);case 38:return e.abrupt("return",n.fetch(s,d()({},a,{retryCount:y})));case 41:console.error("Retries exhausted for "+t.storeKey+"!");case 42:case"end":return e.stop()}},e,n,[[12,26]])})),function(t){return e.apply(this,arguments)})).finally(function(){n.fetching=!1})},fetchWithSelectedInstrument:function(e,t){return this.fetch(d()({symbol:this.app.stores.getStore("InstrumentStore").getSelectedSymbol()},e),t)},_load:M,_preReset:function(e){this._load(e.storeKey,[],{loading:!0})},_preResetAll:function(){for(var e=t,n=Array.isArray(e),r=0,e=n?e:o()(e);;){var a;if(n){if(r>=e.length)break;a=e[r++]}else{if((r=e.next()).done)break;a=r.value}var i=a;this._preReset(i)}}};return n.fetch.chainable=!1,n._load.chainable=!1,n};var r=n(34),a=n.n(r),i=n(28),o=n.n(i),s=n(21),l=n.n(s),c=n(26),u=(n.n(c),n(6)),d=n.n(u),p=n(15),m=n.n(p),f=n(5),h=(n.n(f),n(25)),g=n(18),y=n.n(g),b=n(30),v=n(74),E=(y()("frontend:ui:RestBindingMixin"),5),w=500;function M(e,t,n){if(this[e]instanceof b.a||this[e]instanceof v.a?this[e]=this[e].new(t):this[e]=t||[],n&&"object"===(void 0===t?"undefined":a()(t)))for(var r in n)this[e][r]=n[r]}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(19),d=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(u.a),p=n(5),m=n.n(p),f=n(7),h=n(9),g=n(10),y=n(31),b=c.createElement("br",null),v=c.createElement("br",null),E=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getDescriptionMessage=function(e){var t=this.getSide(),n=Math.abs(this.orderQty),r=this.getInstrument().tickSize,a=this.isMarket?h.a.Market:g.t(this.price,this.tickSize),i=void 0;if(this.isClose){var o=this.orderQty;o||(o=this.getPosition().currentQty),i=c.createElement(f.FormattedMessage,{id:"order.description.close",defaultMessage:"Close {symbol} at {price} by {method} {absQty, number} {absQty, plural, one {contract} other {contracts}}.",description:"Description text for a close order",values:{symbol:this.symbol,price:a,method:o>0?h.a.selling:h.a.buying,absQty:Math.abs(o)}})}else{var s=this.isStop,l=this.isTakeProfit,u=this.isTrailing,d=Boolean(s&&Number("Sell"===t)^Number(l)),p=m.a.includes(this.execInst,"LastPrice")?"Last Price":m.a.includes(this.execInst,"IndexPrice")?"Index Price":"Mark Price";i=c.createElement(f.FormattedMessage,{id:"order.description",defaultMessage:"{sideMessage} {qty, number} {qty, plural, one {Contract} other {Contracts}} of {symbol} at {price}.{extra}",description:"Text that describes an order",values:{sideMessage:e?"":h.a[t],qty:n,symbol:this.symbol,price:a,extra:u?c.createElement(f.FormattedMessage,{id:"order.description.pegOffset",defaultMessage:"{newLine}Trailing Stop Offset: {stopOffset} (Currently {gtlt} {pegPrice})",description:"Additional order description text showing trailing stop offset value",values:{newLine:b,stopOffset:this.pegOffsetValue,gtlt:d?"<=":">=",pegPrice:g.t(this.triggeringPrice+this.pegOffsetValue,r)}}):s?c.createElement(f.FormattedMessage,{id:"order.description.stopPrice",defaultMessage:"{newLine}Trigger: {triggerType} @ {stopPrice} and {aboveBelow}.",description:"Additional order description text showing trigger price of an order",values:{newLine:v,stopPrice:this.stopPx,triggerType:h.a[p],aboveBelow:d?h.a.below:h.a.above}}):""}})}return Object(y.e)(i)},t.prototype.getGrossValue=function(e){"number"!=typeof e&&(e=this.orderQty);var t=this.getInstrument(),n=void 0,r=void 0;t.isMultiLeg&&(n=this.stores.getStore("InstrumentStore").getInstrument(t.buyLeg),r=this.stores.getStore("InstrumentStore").getInstrument(t.sellLeg));var a=this.price||(this.isBuy?t.askPrice:t.bidPrice)||t.markPrice||0;return Math.abs(g.k(t,a,e,n,r))},t.prototype.getFilledValue=function(){return this.getGrossValue(this.cumQty)},t.prototype.getInstrument=function(){return this.stores.getStore("InstrumentStore").getInstrument(this.symbol)},t.prototype.getInitMargin=function(){var e=this.getPosition();return e&&e.leverage?1/e.leverage:this.getInstrument().initMargin},t.prototype.getLiquidationPrice=function(){var e=this.getInstrument(),t=this.getPosition(),n=this.getMargin(),r=this.isBuy?this.orderQty:-this.orderQty;return g.l(e,t,n,r,this.price)},t.prototype.getMargin=function(){var e=this.getInstrument().settlCurrency;return this.stores.getStore("MeStore").getMarginItem(e)},t.prototype.getMarginRequirement=function(e){var t=this.getInstrument(),n=this.getPosition(),r=void 0,a=void 0;return t.isMultiLeg&&(r=this.stores.getStore("InstrumentStore").getInstrument(t.buyLeg),a=this.stores.getStore("InstrumentStore").getInstrument(t.sellLeg)),g.m(t,n,e,this.price,a,r)},t.prototype.getPosition=function(){return this.stores.getStore("PositionStore").getPosition(this.symbol)},t.prototype.getSide=function(){return this.side||(this.orderQty>0?"Buy":"Sell")},t.prototype.getMakerCommission=function(){var e=this.getUserCommission()[this.symbol]||{};return this.grossValue*e.makerFee||0},t.prototype.getTakerCommission=function(){var e=this.getUserCommission()[this.symbol]||{};return this.grossValue*e.takerFee||0},t.prototype.getTakerFee=function(){var e=this.getUserCommission()[this.symbol]||{};return this.getPosition().commission||e.takerFee||0},t.prototype.getUserCommission=function(){return this.stores.getStore("MeStore").commission},t.prototype.getFillPercent=function(){for(var e=this.stores.getStore("OrderBookStore").getRawOrderBook(),t=this.isBuy,n=this.isSell,r=Math.abs(this.orderQty),a=this.price,i=r,o=t?e.getAsks():e.getBids(),s=0;s<o.length;s++){var l=o[s];if(i<=0||t&&a<l.price||n&&a>l.price)break;i-=l.size}return(r-Math.max(i,0))/r},t.prototype.getFillPrice=function(){var e=this.getInstrument(),t=this.stores.getStore("OrderBookStore").getRawOrderBook(),n=t.first();if(n&&n.symbol!==this.symbol){var r="Attempted to calculate the fill price of an order via the book, but that symbol was not active.";return console.log(r),{cumQty:0,avgPx:this.price}}for(var a=this.isBuy,i=this.isSell,o=Math.abs(this.orderQty),s=this.price,l=0,c=0,u=o,d=a?t.getAsks():t.getBids(),p=0;p<d.length;p++){var m=d[p];if(u<=0||a&&s<m.price||i&&s>m.price)break;var f=Math.min(m.size,u);l+=f,c+=g.v(e.multiplier,f,m.price),u-=f}return{cumQty:l,avgPx:g.p(e.multiplier,l,c)}},t.prototype.wouldMatchAt=function(e){var t=this.getInstrument(),n=t.bidPrice,r=t.askPrice,a=this.side;return"Buy"===a&&e>=r||"Sell"===a&&e<=n},t.prototype.wouldStopTriggerAt=function(e){var t=this.isBuy,n=this.isStop,r=this.isTakeProfit,a=this.triggeringPrice;if(!n||!a)return!1;var i=t?e<=a:e>=a;return r&&e!==a&&(i=!i),i},t.prototype.wouldTrailingStopTriggerAt=function(e){var t=this.isBuy,n=this.isTrailing,r=this.isTakeProfit;if(!n)return!1;var a=t?e<=0:e>=0;return r&&0!==e&&(a=!a),a},t}(d);E.typeName="Order",E.idAttribute="orderID",E.openStatuses=["New","PartiallyFilled","PendingCancel","Stopped","Suspended","PendingNew","AcceptedForBidding","PendingReplace"],E.terminatedStatuses=["Filled","DoneForDay","Canceled","Rejected","Calculated","Expired"],E.derived={execInstArr:{deps:["execInst"],fn:function(){return(this.execInst||"").split(",")}},grossValue:{deps:["symbol","orderQty","price"],fn:function(){return Math.abs(this.getGrossValue())}},isActive:{deps:["isStopTriggered","triggered"],fn:function(){return this.isStop?this.isStopTriggered:"NotTriggered"!==this.triggered}},isBuy:{deps:["orderQty","isClose","side"],fn:function(){return this.side?"Buy"===this.side:this.orderQty>0||this.isClose&&this.getPosition().currentQty<0}},isClose:{deps:["isStop","execInstArr"],fn:function(){return!this.isStop&&m.a.includes(this.execInstArr,"Close")}},isContingent:{deps:["triggered"],fn:function(){return"NotTriggered"===this.triggered||"Triggered"===this.triggered}},isLimit:{deps:["ordType"],fn:function(){return Boolean(this.ordType&&-1!==this.ordType.indexOf("Limit"))}},isMarket:{deps:["ordType"],fn:function(){return Boolean(this.ordType&&(-1!==this.ordType.indexOf("Market")||"Stop"===this.ordType))}},isPostOnly:{deps:["execInstArr"],fn:function(){return m.a.includes(this.execInstArr,"ParticipatedoNotInitiate")}},isSell:{deps:["orderQty","isClose"],fn:function(){return this.side?"Sell"===this.side:this.orderQty<0||this.isClose&&this.getPosition().currentQty>0}},isStop:{deps:["ordType"],fn:function(){return m.a.startsWith(this.ordType,"Stop")||"MarketIfTouched"===this.ordType||"LimitIfTouched"===this.ordType}},isStopTriggered:{deps:["triggered"],fn:function(){return"StopOrderTriggered"===this.triggered}},isTakeProfit:{deps:["ordType"],fn:function(){return"LimitIfTouched"===this.ordType||"MarketIfTouched"===this.ordType}},isTrailing:{deps:["isStop","pegPriceType"],fn:function(){return Boolean(this.isStop&&"TrailingStopPeg"===this.pegPriceType)}},ordTypeReadable:{deps:["isTrailing","ordType"],fn:function(){return this.isTrailing?"TrailingStop":this.ordType}},origTransactTime:{fn:function(){return this.transactTime||this.timestamp}},rawQty:{deps:["side","orderQty"],fn:function(){return this.orderQty*("Sell"===this.side?-1:1)}},terminated:{deps:["ordStatus"],fn:function(){return!m.a.includes(E.openStatuses,this.ordStatus)}},tickSize:{deps:["symbol"],fn:function(){return this.getInstrument().tickSize}},triggeringPrice:{deps:["execInst","isStop","symbol"],cache:!1,fn:function(){if(!this.isStop)return null;var e=m.a.includes(this.execInst,"LastPrice"),t=m.a.includes(this.execInst,"IndexPrice"),n=this.getInstrument();return e?n.lastPrice:t?n.indicativeSettlePrice:n.markPrice}}},E.props={actions:{type:"object"}},E.displayTypes={price:u.b.fixedNumber,avgPx:u.b.fixedNumber,grossValue:u.b.currency,markPrice:u.b.fixedNumber,pegOffsetValue:u.b.fixedNumber,triggeringPrice:u.b.fixedNumber,stopPx:u.b.fixedNumber},E.advancedFeatures={Limit:["displayQty","postOnlyExecInst","timeInForce","reduceOnlyExecInst"],Market:[],Stop:["closeExecInst","lastPriceExecInst","indexPriceExecInst"],get MarketIfTouched(){return this.Stop},StopLimit:["displayQty","closeExecInst","postOnlyExecInst","lastPriceExecInst","indexPriceExecInst","timeInForce"],get LimitIfTouched(){return this.StopLimit},TrailingStopMarket:["closeExecInst","lastPriceExecInst","indexPriceExecInst"]};t.a=Object(u.c)(E)},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(35),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(4)),m=n(5),f=(n.n(m),n(10)),h=n(101),g=/[.,]/,y=function(e){},b=function(e){function t(){var n,r,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,e.call.apply(e,[this].concat(c))),r.state={isValid:!0,wasValid:!0},r.handleValueChange=function(e){var t=f.t(parseFloat(e.target.value||"0"),r.props.step),n=Number(t),i=r.validate(t,r.props,!1);r.props.value!==n&&i?r.props.onChange(n):a()(n)&&r.maybeSetValue(n,r.props)},r.handleKeyDown=function(e){r.props.onKeyDown(e);var t=e.which||e.keyCode,n="string"==typeof e.target.value?e.target.value:"0",a=h.i(t),i=h.h(t),o=h.j(t),s=h.g(t);if(!i||r.props.allowDecimal&&!g.test(n))if(!r.props.allowNegative&&s)e.preventDefault();else if(s&&Number(n)<0)e.preventDefault();else if(t===h.f||t===h.a){var l=(r.props.inputStep||r.props.step)*(t===h.a?-1:1);e.ctrlKey&&(l*=10),e.shiftKey&&(l*=100);var c=parseFloat(f.r(parseFloat(n)+l,r.props.step));"number"==typeof r.props.max&&(c=Math.min(r.props.max,c)),"number"==typeof r.props.min&&(c=Math.max(r.props.min,c)),r.props.allowNegative||(c=Math.max(0,c)),r.handleValueChange({target:{value:f.t(c,r.props.step)}}),e.preventDefault()}else e.ctrlKey||e.metaKey||o||a||i||s||e.preventDefault();else e.preventDefault()},r.selectOnFocus=function(e){if(r.props.onFocus(e),r.props.selectOnFocus){var t=e.target;try{t.select(),t.setSelectionRange(0,t.value.length)}catch(e){}}},i=n,l()(r,i)}return u()(t,e),t.prototype.componentDidMount=function(){var e=f.t(this.props.value,this.props.step);this.input&&(this.input.value=e),this.validate(e)},t.prototype.componentWillReceiveProps=function(e,t){this.props.value===e.value||isNaN(e.value)||this.maybeSetValue(e.value,e)},t.prototype.componentWillUpdate=function(e,t){this.props===e&&this.state.wasValid!==this.state.isValid&&this.componentWillReceiveProps(e)},t.prototype.componentDidUpdate=function(e,t){e.max===this.props.max&&e.min===this.props.min||this.input&&this.validate(this.input.value||"")},t.prototype.maybeSetValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;if(this.input){var n=t.step,r=this.input.value,i=Number(e),o=a()(i)?f.t(e,n):"",s=i!==Number(r),l=i!==Number(o),c=!s&&(o.split(g)[1]||"").length<(r.split(g)[1]||"").length;(s||l||c)&&this.input&&(this.input.value=o),this.validate(o,t)}},t.prototype.getStepLog=function(){return Math.round(Math.abs(Math.log(this.props.step)/Math.LN10))},t.prototype.validate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!0,a=parseFloat(e),i=this.input;return(!e.length||e.split(".").length>2||!t.allowZero&&0===a||!t.allowDecimal&&a!==parseInt(e,10)||0!==f.j(a,t.step)||i&&i.validity&&!i.validity.valid&&!i.validity.stepMismatch)&&(r=!1),n&&(r!==this.state.isValid&&t.onValidityChange(r),this.setState({isValid:r,wasValid:this.state.isValid})),r},t.prototype.render=function(){var e=this,t="number"==typeof this.props.min?this.props.min:this.props.allowNegative?"":0;return d.createElement("input",{type:"number",ref:function(t){return e.input=t},id:this.props.name,autoComplete:"off",className:this.props.className+" "+(this.state.isValid?"valid":"invalid"),min:t,max:this.props.max,name:this.props.name,placeholder:this.props.placeholder,required:this.props.required,size:this.props.size,step:this.props.step,style:this.props.style,onKeyDown:this.handleKeyDown,onChange:this.handleValueChange,onFocus:this.selectOnFocus,onBlur:this.props.onBlur,autoFocus:this.props.autoFocus})},t}(p.a);b.displayName="NumberInput",b.defaultProps={allowDecimal:!0,allowNegative:!0,allowZero:!0,autoFocus:!1,className:"form-control",disabled:!1,name:"",onBlur:y,onFocus:y,onKeyDown:y,placeholder:"",required:!1,selectOnFocus:!0,step:1,size:null,style:{},min:-1/0,max:1/0},b.propTypes={value:function(e,t){if(!a()(e[t]))return new Error("Bad value on <NumberInput>: "+String(e[t])+". Name: "+e.name)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(5),p=n.n(d),m=n(16),f=n(31),h=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.createRow=function(e,t){var n=p.a.map(e,r.createCell);return c.createElement("tr",{className:"gridRow",key:t},n)},r.createCell=function(e,t){null==e&&(e="");var n=0===t&&r.props.tableName&&"string"==typeof e?r.getTranslatedColumn(e):e;return c.createElement("td",{className:"gridCell",key:t},n)},i=n,o()(r,i)}return l()(t,e),t.prototype.getTranslatedColumn=function(e){var t=this.props.tableName;if(!t)return e;var n=this.context.intl,r=Object(f.c)(t,e,n),a=Object(f.d)(t,e,n);return a?c.createElement(m.a,{text:a},r):r},t.prototype.render=function(){return c.createElement("div",{className:"grid "+this.props.className},c.createElement("table",{className:"table table-striped "+this.props.tableClassName},c.createElement("thead",null,p.a.map(this.props.head,this.createCell)),c.createElement("tbody",null,p.a.map(this.props.data,this.createRow))))},t}(u.a);h.displayName="Grid",h.defaultProps={className:"",cellFormatter:function(e){return e},head:[],tableClassName:""}},function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(3),l=n(8),c={},u={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",aqua:"00FFFF",aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",black:"000000",blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",brown:"A52A2A",burlywood:"DEB887",cadetblue:"5F9EA0",chartreuse:"7FFF00",chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",cornsilk:"FFF8DC",crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",darkgoldenrod:"B8860B",darkgray:"A9A9A9",darkgrey:"A9A9A9",darkgreen:"006400",darkkhaki:"BDB76B",darkmagenta:"8B008B",darkolivegreen:"556B2F",darkorange:"FF8C00",darkorchid:"9932CC",darkred:"8B0000",darksalmon:"E9967A",darkseagreen:"8FBC8F",darkslateblue:"483D8B",darkslategray:"2F4F4F",darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",dodgerblue:"1E90FF",firebrick:"B22222",floralwhite:"FFFAF0",forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",ghostwhite:"F8F8FF",gold:"FFD700",goldenrod:"DAA520",gray:"808080",grey:"808080",green:"008000",greenyellow:"ADFF2F",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",lavenderblush:"FFF0F5",lawngreen:"7CFC00",lemonchiffon:"FFFACD",lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgrey:"D3D3D3",lightgreen:"90EE90",lightpink:"FFB6C1",lightsalmon:"FFA07A",lightseagreen:"20B2AA",lightskyblue:"87CEFA",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",maroon:"800000",mediumaquamarine:"66CDAA",mediumblue:"0000CD",mediumorchid:"BA55D3",mediumpurple:"9370D8",mediumseagreen:"3CB371",mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",mistyrose:"FFE4E1",moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",oldlace:"FDF5E6",olive:"808000",olivedrab:"6B8E23",orange:"FFA500",orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",palegreen:"98FB98",paleturquoise:"AFEEEE",palevioletred:"D87093",papayawhip:"FFEFD5",peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",powderblue:"B0E0E6",purple:"800080",rebeccapurple:"663399",red:"FF0000",rosybrown:"BC8F8F",royalblue:"4169E1",saddlebrown:"8B4513",salmon:"FA8072",sandybrown:"F4A460",seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",silver:"C0C0C0",skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",teal:"008080",thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",violet:"EE82EE",wheat:"F5DEB3",white:"FFFFFF",whitesmoke:"F5F5F5",yellow:"FFFF00",yellowgreen:"9ACD32"},d=.618033988749895,p={hue:null,saturation:null,value:null,base_color:"",greyscale:!1,grayscale:!1,golden:!0,full_random:!1,colors_returned:1,format:"hex"},m={scheme_type:"analogous",format:"hex"},f={golden:!1,format:"hex"};function h(e,t,n){var r=Math.random;return n instanceof E&&(r=n.random),Math.floor(r()*(t-e+1))+e}function g(e,t,n){var r=Math.random;return n instanceof E&&(r=n.random),r()*(t-e)+e}function y(e,t,n){return Math.max(t,Math.min(e,n))}function b(e,t){switch(e){case"hex":for(var n=0;n<t.length;n++)t[n]=c.HSV_to_HEX(t[n]);break;case"rgb":for(n=0;n<t.length;n++)t[n]=c.HSV_to_RGB(t[n]);break;case"rgb-string":for(n=0;n<t.length;n++){var r=c.HSV_to_RGB(t[n]);t[n]="rgb("+r.r+","+r.g+","+r.b+")"}break;case"hsv":break;default:console.log("Format not recognized.")}return t}function v(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function E(e){for(var t=[],n=0,r=0,a=0;a<256;a++)t[a]=a;for(var i=0,o=0;i<256;i++){o=(o+t[i]+e.charCodeAt(i%e.length))%256;var s=t[i];t[i]=t[o],t[o]=s}function l(){r=(r+t[n=(n+1)%256])%256;var e=t[n];return t[n]=t[r],t[r]=e,t[(t[n]+t[r])%256]}this.random=function(){for(var e=0,t=0,n=1;e<8;e++)t+=l()*n,n*=256;return t/0x10000000000000000}}c.NAME_to_HEX=function(e){if(e in u)return u[e];console.log("Color name not recognized.")},c.NAME_to_HSV=function(e){return c.HEX_to_RGB(c.NAME_to_HEX(e))},c.NAME_to_HSV=function(e){return c.HEX_to_HSV(c.NAME_to_HEX(e))},c.HEX_to_RGB=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},c.RGB_to_HEX=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},c.HSV_to_RGB=function(e){var t,n,r,a=e.h/360,i=e.s,o=e.v,s=Math.floor(6*a),l=6*a-s,c=o*(1-i),u=o*(1-l*i),d=o*(1-(1-l)*i);switch(s%6){case 0:t=o,n=d,r=c;break;case 1:t=u,n=o,r=c;break;case 2:t=c,n=o,r=d;break;case 3:t=c,n=u,r=o;break;case 4:t=d,n=c,r=o;break;case 5:t=o,n=c,r=u}return{r:Math.floor(255*t),g:Math.floor(255*n),b:Math.floor(255*r)}},c.RGB_to_HSV=function(e){var t,n,r;t=e.r/255,n=e.g/255,r=e.b/255;var a=Math.min(t,Math.min(n,r)),i=Math.max(t,Math.max(n,r));return a==i?{h:0,s:0,v:a}:{h:60*((t==a?3:r==a?1:5)-(t==a?n-r:r==a?t-n:r-t)/(i-a)),s:(i-a)/i,v:i}},c.HSV_to_HEX=function(e){return c.RGB_to_HEX(c.HSV_to_RGB(e))},c.HEX_to_HSV=function(e){return c.RGB_to_HSV(c.HEX_to_RGB(e))},c.make_scheme=function(e,t){var n=v(m);if(null!=t)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);var a=[e];function i(e){return{h:e.h,s:e.s,v:e.v}}switch(n.scheme_type.toLowerCase()){case"monochromatic":case"mono":for(var o=1;o<=2;o++){s=y(s=(u=i(e)).s+.1*o,0,1),l=y(l=u.v+.1*o,0,1),u.s=s,u.v=l,a.push(u)}for(o=1;o<=2;o++){var s,l;s=y(s=(u=i(e)).s-.1*o,0,1),l=y(l=u.v-.1*o,0,1),u.s=s,u.v=l,a.push(u)}break;case"complementary":case"complement":case"comp":(u=i(e)).h=(u.h+180)%360,a.push(u);break;case"split-complementary":case"split-complement":case"split":(u=i(e)).h=(u.h+165)%360,a.push(u),(u=i(e)).h=Math.abs((u.h-165)%360),a.push(u);break;case"double-complementary":case"double-complement":case"double":(u=i(e)).h=(u.h+180)%360,a.push(u),u.h=(u.h+30)%360;var c=i(u);a.push(u),u.h=(u.h+180)%360,a.push(c);break;case"analogous":case"ana":for(o=1;o<=5;o++){(u=i(e)).h=(u.h+20*o)%360,a.push(u)}break;case"triadic":case"triad":case"tri":for(o=1;o<3;o++){var u;(u=i(e)).h=(u.h+120*o)%360,a.push(u)}break;default:console.log("Color scheme not recognized.")}return b(n.format.toLowerCase(),a),a},c.make_color=function(e){var t=[],n=v(p);if(null!=e)for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);var a,i=null;"string"==typeof n.seed&&(i=new E(n.seed)),n.base_color.length>0&&(a=u[n.base_color.toLowerCase()],a=c.HEX_to_HSV(a));for(var o=0;o<n.colors_returned;o++){var s,l,m,f=h(0,360,i);null!=a?(s=h(a.h-5,a.h+5,i),l=g(.4,.85,i),m=g(.4,.85,i),t.push({h:s,s:l,v:m})):(s=1==n.greyscale||1==n.grayscale?0:1==n.golden?(f+f/d)%360:null==n.hue||1==n.full_random?f:y(n.hue,0,360),l=1==n.greyscale||1==n.grayscale?0:1==n.full_random?g(0,1,i):null==n.saturation?.4:y(n.saturation,0,1),m=1==n.full_random?g(0,1,i):1==n.greyscale||1==n.grayscale?g(.15,.75,i):null==n.value?.75:y(n.value,0,1),t.push({h:s,s:l,v:m}))}return b(n.format.toLowerCase(),t),1===t.length?t[0]:t},c.make_contrast=function(e,t){var n,r=v(f);if(null!=t)for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);var i,o,s,l,u=(i=e,(299*(o=c.HSV_to_RGB(i)).r+587*o.g+114*o.b)/1e3>=128?"dark":"light");1==r.golden?s=e.h*(1+d)%360:s=y(c.make_scheme(e,{scheme_type:"complementary",format:"hsv"})[1].h-30,0,360);return"dark"===u?l=y(e.v-.25,0,1):"light"===u&&(l=y(e.v+.25,0,1)),n=[{h:s,s:e.s,v:l}],b(r.format.toLowerCase(),n),n[0]};var w=c,M=n(5),S=n.n(M).a.memoize(function(e,t){return w.make_color({seed:e,saturation:"dark"===t?.35:1,value:"dark"===t?.95:.575})},function(e,t){return e+t});t.a=Object(l.a)(function(e){return{colorTheme:e.options.colorTheme}})(function(e){var t=e.colorTheme,n=e.children,r=e.value,i=o()(e,["colorTheme","children","value"]),l=r||n;return s.createElement("span",a()({},i,{style:a()({},e.style,{color:S(l,t)})}),n)})},,function(e,t,n){e.exports=n(440)},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return E});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(5)),d=n.n(u),p=n(4),m=n(30),f=["actions","contractValue"],h=[null,"asc","dsc"];function g(e,t,n){var r="string"==typeof e?e.localeCompare(t):e-t;return"dsc"===n&&(r*=-1),r}var y=c.createElement("i",{className:"fa fa-caret-up"}),b=c.createElement("i",{className:"fa fa-caret-down"}),v=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={sortType:r.props.initialSortKey?r.props.initialSortType||"dsc":null,sortKey:r.props.initialSortKey||""},r.compare=function(e,t){var n=r.props.customSorts,a=r.state,i=a.sortType,o=a.sortKey;if(n&&n[o])return n[o](e,t,i);var s=void 0,l=void 0;if(e._displayValues&&o in e._displayValues&&t._displayValues&&o in t._displayValues)s=e._displayValues[o],l=t._displayValues[o];else{if(!(o in e&&o in t))throw new Error("Unable to get comparison value for sort");s=e[o],l=t[o]}return g(s,l,i)},r.onHeaderClick=function(e){var t=e.currentTarget.getAttribute("data-id");r.sortBy(t)},r.sortBy=function(e,t){var n=r.state,a=n.sortType,i=n.sortKey!==e,o=t;o||(o=i?"asc":h[(h.indexOf(a)+1)%h.length]),(i||a!==o)&&r.setState({sortKey:e,sortType:o})},r.tableHeaderCellRenderer=function(e,t,n){var a=r.props,i=a.include,o=a.exclude,s=[].concat(o,f);return 0!==i.length&&!d.a.includes(i,e)||d.a.includes(s,e)?n:c.createElement("span",{"data-id":e,className:t,onClick:r.onHeaderClick},y,b,n)},i=n,o()(r,i)}return l()(t,e),t.prototype.getSortedData=function(e,t){if(null==t)return e;var n=void 0;if(e instanceof m.a)n=e.models.slice(0);else{if(!Array.isArray(e))throw new Error("Unable to parse data for sort");n=e.slice(0)}return n.sort(this.compare)},t.prototype.render=function(){var e=this.props,t=e.data,n=e.children,r=this.state,a=r.sortType,i=r.sortKey,o=this.getSortedData(t,a);return n?n({sortKey:i,sortType:a,sortedData:o,sortBy:this.sortBy,tableHeaderCellRenderer:this.tableHeaderCellRenderer}):null},t}(p.a);v.displayName="Sortable",v.defaultProps={include:[],exclude:[]};var E=function(e){return function(t,n,r){return g(t._values[e],n._values[e],r)}}},,,,function(e,t,n){"use strict";var r=n(180),a=Object(r.a)("localStorage");t.a=a},function(e,t,n){"use strict";(function(e){var r=n(26),a=n.n(r),i=n(6),o=n.n(i),s=n(0),l=n.n(s),c=n(3),u=(n.n(c),n(22)),d=n.n(u),p=n(77),m=n.n(p),f=n(18),h=n.n(f),g=n(5),y=n.n(g),b=n(357),v=n(362),E=n(364),w=n(11),M=n(365),S=n(267),x=n.n(S),k=n(386),T=n(127),C=(n(71),n(270)),N=(h()("frontend:app"),h()("frontend:dispatch")),P=new(function(){function t(){l()(this,t),this.views={}}return t.prototype.init=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.a;if(this._setInternalProperties(t,n),e.browser||e.native){var a=new b.a(this,n.websocketUrl);this.getWebSocketStream=a.getWebSocketStream.bind(a),this.websocket=a.websocket,this.streams=a.streams,this.symbolStreams=a.symbolStreams}var i=r(this),o=i.vault,s=i.fluxToData;this.stores=o,Object(T.b)(this.stores),this.flux=this._initFlux(o,s),this.flux.emitter=this._initGeneralEmitter(this.stores),this._loadStores(this.stores,t),this.websocket&&this.websocket.open(),n.prerender||this.flux.actions.fluxInit();var l=this.initialData.user.me,u=y.a.includes(["local","development","test"],"production")||l.preferences.debug,p=this.authenticated&&y.a.find(l.roles,{name:"admin"});return e.browser&&(u||p)&&(window.app=this,window.debug=h.a,window.React=c,window.ReactDOM=d.a),e.browser&&(window.BitMEX=Object(k.a)(this)),this},t.prototype.timeout=function(e){if(this.authenticated=!1,!this.timedOut){this.timedOut=!0;var t="/timeout?dest="+encodeURIComponent(window.location.pathname);e&&(t+="&msg="+encodeURIComponent(e)),window.location.href=t}},t.prototype._setInternalProperties=function(e,t){e.user=o()({},y.a.get(e,"user",{}),{me:o()({},y.a.get(e,"user.me",{}),{preferences:o()({},w.c,y.a.get(e,"user.me.preferences",{}))})}),this.settings=t,this.initialData=e,this.csrfToken=e.csrfToken,this.authenticated=Boolean(e.user&&e.user.me&&e.user.me.email),this.revision=e.revision,this.revisionDate=e.revisionDate},t.prototype._initFlux=function(t,n){var r=new m.a.Flux(t.stores,M);r.getState=function(e){return n(r,e)},Object(v.a)(r);var a=["SAVE_LAYOUT","BEFORE_NAVIGATE","AFTER_NAVIGATE"];return r.setDispatchInterceptor(function(t,n){N.enabled&&N((new Date).toISOString()+": "+Object(E.a)(t,3)),e.browser&&!y.a.includes(a,t.type)&&window.Raven&&window.Raven.captureBreadcrumb({message:t.type,category:"action",data:{payload:Object(E.a)(t.payload,2)}}),n(t)}),r},t.prototype._initGeneralEmitter=function(e){var t=this,n=new x.a,r=function(){return n.emit("change")};return a()(e.stores).forEach(function(n){e.stores[n].on("change",function(){return t.flux.queueChange(r)})}),n},t.prototype._loadStores=function(e,t){a()(e.stores).forEach(function(n){e.stores[n].load(t)})},t}());t.a=P}).call(t,n(12))},function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(22)),d=n.n(u),p=n(4),m=n(27),f=n.n(m),h=n(5),g=(n.n(h),n(140)),y=n(52),b=n.n(y),v=n(97),E=n(60),w=c.createElement("span",{className:"dropdown-caret fa fa-fw fa-caret-down"}),M=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={open:r.props.initialOpen,x:null,y:null},r.dropdownToggle=function(e){if(!r.props.disabled&&(r.setState({open:!r.state.open}),r.props.usePortal)){var t=d.a.findDOMNode(r);if(!(t instanceof HTMLElement))return;var n=t.getBoundingClientRect();r.setState({x:n.left,y:n.bottom})}e.preventDefault()},r.onPageClick=function(e){if(r.state.open){var t=e.target,n=Array.isArray(e.path)?e.path:Object(E.a)(t).concat(t),a=r,i=a.rootNode,o=a.openTriggerNode;if(i&&o){for(var s=!1,l=!1,c=!1,u=!1,d=0;d<n.length;d++){var p=n[d];"A"===p.nodeName&&(s=!0),p===i&&(c=!0),p===o&&(l=!0),p instanceof window.HTMLElement&&p.getAttribute("data-close")&&(u=!0)}(r.props.closeOnClick||u||s&&!l||!c)&&r.setState({open:!1})}}},i=n,o()(r,i)}return l()(t,e),t.prototype.componentWillUpdate=function(e,t){t.open!==this.state.open&&this.props.onToggle&&this.props.onToggle(t.open)},t.prototype.render=function(){var e=this,t=void 0,n=void 0;this.props.icon&&(t=c.createElement("i",{className:"dropdown-toggle-icon fa fa-fw fa-"+this.props.icon})),this.props.showCaret&&(n=w);var r=f()(this.props.className,{dropdown:!0,disabled:this.props.disabled,open:this.state.open,"dropdown-fixed":this.props.usePortal}),a=f()(this.props.dropdownClassName,{"dropdown-menu":!0,"dropdown-menu-right":this.props.alignRight}),i=null;if(this.state.open){var o=this.props.children;if(i=c.createElement("ul",{className:a,role:"menu"},c.createElement(b.a,{onClick:this.onPageClick,passive:!0}),this.props.title?c.createElement("div",{className:"dropdown-title"},this.props.title):null,"function"==typeof o?o():o),this.props.usePortal){var s={position:"fixed",display:"block",top:this.state.y,left:this.state.x};i=Object(v.a)(c.createElement("div",{className:r,style:s},i),"modal-root")}else i=c.createElement(g.a,null,i)}return c.createElement("div",{className:r,ref:function(t){e.rootNode=t}},c.createElement("a",{href:"#",title:this.props.titleStr,className:this.props.buttonClassName+" dropdown-toggle noColor",onClick:this.dropdownToggle,ref:function(t){e.openTriggerNode=t}},t,this.props.toggle,n),i)},t}(p.a);M.displayName="Dropdown",M.defaultProps={alignRight:!1,buttonClassName:"",className:"",closeOnClick:!1,children:null,dropdownClassName:"",disabled:!1,initialOpen:!1,showCaret:!1,titleStr:"",usePortal:!1}},function(e,t,n){"use strict";t.a=function(e){var t=[];for(;e.parentNode;)e=e.parentNode,t.push(e);return t},t.b=function(e,t){for(;e.parentNode;){var n=e.parentNode;if(t(e))return e;e=n}return!1}},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=c.createElement("span",{key:"loading",className:"loadingImage"}),p=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return c.createElement("div",{className:"loadingContainer "+this.props.className},c.createElement("span",{className:"loadingText"},this.props.text||""),d)},t}(u.a);p.displayName="Loading",p.defaultProps={className:""}},,,function(e,t,n){var r=n(32),a=n(17),i=n(63);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",o)}},function(e,t,n){var r=n(129).EventEmitter,a=n(130),i=!0,o=null,s=null;function l(){if(!(this instanceof l))return new l;var e=this;r.call(this),this.supported=!!s,this.supported?document.addEventListener(o,function(){var t=!document[s];e.emit("change",t),e.emit(t?"show":"hide")},!1):(document.addEventListener("focusout",function(){e.emit("change",!1),e.emit("hide"),i=!1},!1),document.addEventListener("focusin",function(){e.emit("change",!0),e.emit("show"),i=!0},!1)),window.addEventListener("unload",function(){e.emit("exit")},!1)}e.exports=l,void 0!==document.hidden?(s="hidden",o="visibilitychange"):void 0!==document.mozHidden?(s="mozHidden",o="mozvisibilitychange"):void 0!==document.webkitHidden?(s="webkitHidden",o="webkitvisibilitychange"):void 0!==document.webkitHidden&&(s="webkitHidden",o="webkitvisibilitychange"),a(l,r),l.prototype.hidden=function(){return this.supported?!!document[s]:!i},l.prototype.visible=function(){return this.supported?!document[s]:i}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(4)),m=n(16),f=d.createElement("sup",null,d.createElement("i",{className:"fa fa-question-circle"})),h=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e="helpCircle "+(this.props.className||"");return d.createElement(m.a,a()({component:"a"},this.props,{className:e}),f)},t}(p.a);h.displayName="HelpCircle"},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r,a=n(6),i=n.n(a),o=n(0),s=n.n(o),l=n(1),c=n.n(l),u=n(2),d=n.n(u),p=n(3),m=(n.n(p),n(4)),f=n(45),h=n.n(f),g=n(248),y=n(38),b=n.n(y).a.decorate(h.a)(r=function(e){function t(){var n,r,a;s()(this,t);for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return n=r=c()(this,e.call.apply(e,[this].concat(o))),r.state={currentTab:(r.props.initialTab||0)%r.props.titles.length},r.onTabSwitch=function(e){r.setState({currentTab:e})},a=n,c()(r,a)}return d()(t,e),t.prototype.getStateFilterKeys=function(){return"number"==typeof this.props.initialTab?[]:["currentTab"]},t.prototype.componentDidUpdate=function(){var e=this.props.titles.length;this.state.currentTab>=e&&this.setState({currentTab:0})},t.prototype.render=function(){var e=this.props.localStorageKey,t="string"==typeof e&&e+"_panel";return p.createElement(g.a,i()({},this.props,{localStorageKey:t,currentTab:this.state.currentTab,onTabSwitch:this.onTabSwitch}))},t}(m.a))||r;b.displayName="TabbedPanel",b.SCUDeep=!0},function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(24),o=n.n(i),s=n(34),l=n.n(s),c=n(0),u=n.n(c),d=n(1),p=n.n(d),m=n(2),f=n.n(m),h=n(3),g=n(14),y=n.n(g),b=n(4),v=n(8),E=n(53),w=n(20),M=n.n(w),S=n(30),x=(n(5),n(37)),k=n(7),T=h.createElement("i",{className:"fa fa-angle-double-left"}),C=h.createElement(k.FormattedMessage,{id:"paginatedTable.action.previousPage",defaultMessage:"Previous Page",description:"Text for navigating to the previous page"}),N=h.createElement(k.FormattedMessage,{id:"paginatedTable.tableStatus.loading",defaultMessage:"Loading...",description:"Paginated table status text for table loading"}),P=h.createElement(k.FormattedMessage,{id:"paginatedTable.tableStatus.loaded",defaultMessage:"Showing Results",description:"Paginated table status text for after table loaded"}),O=h.createElement(k.FormattedMessage,{id:"paginatedTable.action.nextPage",defaultMessage:"Next Page",description:"Text for navigating to the next page"}),F=h.createElement("i",{className:"fa fa-angle-double-right"}),I=function(e){function t(){var n,r,a;u()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=p()(this,e.call.apply(e,[this].concat(o))),r.onNextPage=function(e){var t=r.props,n=t.pageSize,a=t.start+n;r.props.onNextPage(a)},r.onPrevPage=function(e){var t=r.props,n=t.pageSize,a=t.start;if(0!==a){var i=Math.max(0,a-n);r.props.onPrevPage(i)}},a=n,p()(r,a)}return f()(t,e),t.prototype.render=function(){var e=this.props,t=(e.onPrevPage,e.onNextPage,e.pageSize),n=e.start,r=M()(e,["onPrevPage","onNextPage","pageSize","start"]),a=this.props.data.length===t,i=0!==n;return h.createElement("div",{className:"paginatedTable"},h.createElement("div",{className:"controls row"},h.createElement("div",{className:"col-xs-4"},i?h.createElement("div",{className:"prev text-left linkify",onClick:this.onPrevPage},T,C):null),h.createElement("div",{className:"col-xs-4"},h.createElement("div",{className:"status text-center text-strong"},this.props.loading?N:P,this.props.loading?"":" "+n+" - "+(n+this.props.data.length))),h.createElement("div",{className:"col-xs-4"},a?h.createElement("div",{className:"next text-right linkify",onClick:this.onNextPage},O,F):null)),h.createElement(x.a,r))},t}(b.a);I.displayName="PaginatedTable",I.propTypes={data:y.a.oneOfType([y.a.array,y.a.instanceOf(S.a)]).isRequired,onNextPage:y.a.func.isRequired,onPrevPage:y.a.func.isRequired,pageSize:y.a.number.isRequired,start:y.a.number.isRequired};var L=n(150),A=n(9),D=Object(k.defineMessages)({clickValues:{id:"historyView.placeholder.clickValues",defaultMessage:"Click values below to filter",description:"Placeholder text for instructions to filter"}}),B=function(e){function t(){var n,r,a;u()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=p()(this,e.call.apply(e,[this].concat(s))),r.state={loading:!1,filter:"",start:r.props.start,showFilterForm:!1},r.clearFilter=function(e){e.preventDefault(),r.setState({filter:"",start:0}),r.fetch("")},r.filterBy=function(e,t){var n=r.state.filter;try{(n=JSON.parse(n))&&"object"===(void 0===n?"undefined":l()(n))||(n={})}catch(e){n={}}n[e]===t?delete n[e]:n[e]=t,n=o()(n),r.props.addQuery({start:0}),r.setState({filter:n}),r.fetch(n,0)},r.onNextPage=function(e){r.fetch(r.state.filter,e),r.setState({start:e}),r.props.addQuery({start:e})},r.onPrevPage=function(e){r.fetch(r.state.filter,e),r.setState({start:e}),r.props.addQuery({start:e})},r.onSaveAsCSV=function(e){var t=r.props.data;Object(L.a)({data:t,fileName:r.props.csvFileName,query:r.state.filter,columns:r.props.tableProps.columns})},r.onSubmit=function(e){e.preventDefault(),r.fetch(r.state.filter)},a=n,p()(r,a)}return f()(t,e),t.prototype.componentDidMount=function(){this.fetch(this.state.filter),this.props.filterByThunk&&this.props.filterByThunk(this.filterBy)},t.prototype.componentWillUpdate=function(e,t){e.data!==this.props.data&&(this.state.loading||t.loading)&&this.setState({loading:!1})},t.prototype.fetch=function(e,t){this.setState({loading:!0}),t="number"==typeof t?t:this.props.useInternalParams?this.state.start:this.props.start,this.props.fetch(e,t,this.props.pageSize)},t.prototype.filterForm=function(){var e=this.context.intl.formatMessage;return h.createElement("form",{id:"filter-form",className:"form form-inline label-left",onSubmit:this.onSubmit},h.createElement("fieldset",null,h.createElement("div",{className:"control-group"},h.createElement("div",{className:"row"},h.createElement("div",{className:"col-sm-6"},h.createElement("input",a()({type:"text",id:"filter",name:"filter",className:"form-control"},this.linkState("filter"),{placeholder:e(D.clickValues)}))),h.createElement("div",{className:"col-sm-6"},h.createElement("button",{type:"reset",className:"btn btn-danger btn-inline",onClick:this.clearFilter},A.a.Clear),h.createElement("button",{type:"submit",className:"btn btn-primary btn-inline"},A.a.Search))))))},t.prototype.render=function(){var e=this,t=this.props.data,n=this.props.useInternalParams?this.state.start:this.props.start;return h.createElement("div",{className:"historyView"},h.createElement("div",{className:"utils"},h.createElement("button",{className:"btn btn-primary btn-inline",onClick:this.onSaveAsCSV},A.a["Save as CSV"])),this.props.showFilterForm?this.filterForm():null,h.createElement(E.b,{data:t},function(t){var r=t.sortedData,i=t.tableHeaderCellRenderer,o=t.sortKey,s=t.sortType;return h.createElement(I,a()({loading:e.state.loading,data:r,start:n,headerCellRenderer:i,sortKey:o,sortType:s,pageSize:e.props.pageSize,onNextPage:e.onNextPage,onPrevPage:e.onPrevPage,scrollable:!1},e.props.tableProps))}))},t}(b.a);B.displayName="HistoryView",B.defaultProps={pageSize:100,start:0},B.propTypes={addQuery:y.a.func.isRequired,csvFileName:y.a.string.isRequired,data:y.a.oneOfType([y.a.array,y.a.instanceOf(S.a)]).isRequired,fetch:y.a.func.isRequired,filterByThunk:y.a.func,pageSize:y.a.number,showFilterForm:y.a.bool,start:y.a.number,tableProps:y.a.object,useInternalParams:y.a.bool};t.a=Object(v.a)(function(e){return{addQuery:e.actions.addQuery}})(B)},,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),i=function(){function e(t){a()(this,e),this.stores=t}return e.prototype.getStore=function(e){var t=this.stores[e];if(!t)throw new Error;return t},e}()},,,function(e,t,n){"use strict";n.d(t,"a",function(){return T}),t.b=function(e){var t=x.a[e.typeName];{if(!t)throw new Error("Schema for "+e.typeName+" not found.");e.props=M.a.mergeWith({},t.types,e.props,function(e,t){if("string"==typeof e&&M.a.isObject(t))return c()({type:e},t)})}var n=[];e.derived||(e.derived={});for(var r=e.derived,a=e.props,i=m()(r||{}),o=Array.isArray(i),s=0,i=o?i:d()(i);;){var l;if(o){if(s>=i.length)break;l=i[s++]}else{if((s=i.next()).done)break;l=s.value}var u=l;C(e,u),n.push(u)}for(var p=m()(a||{}),f=Array.isArray(p),h=0,p=f?p:d()(p);;){var g;if(f){if(h>=p.length)break;g=p[h++]}else{if((h=p.next()).done)break;g=h.value}var y=g;N(e,y),n.push(y)}return e.keys=n,e._primed=!0,e};var r=n(342),a=(n.n(r),n(158)),i=n.n(a),o=n(21),s=n.n(o),l=n(6),c=n.n(l),u=n(28),d=n.n(u),p=n(26),m=n.n(p),f=n(177),h=(n.n(f),n(34)),g=n.n(h),y=n(345),b=n.n(y),v=n(0),E=n.n(v),w=n(5),M=n.n(w),S=n(179),x=n.n(S),k=n(127),T=(n(71),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];E()(this,e),this._cache={},b()(this,{_cache:{value:{},enumerable:!1},_values:{value:t||{}},stores:{value:Object(k.a)()}}),this.initialize(t,n)}return e.prototype.initialize=function(){},e.prototype.getID=function(){return this.constructor.idAttribute?this._values[this.constructor.idAttribute]:""},e.prototype.getType=function(e){var t=this.constructor.props[e];return t?"string"==typeof t?t:t.type:null},e.prototype.clone=function(){return this.new(this._values)},e.prototype.new=function(e,t){var n=void 0,r=new this.constructor(e,t);if(e===this._values)n=this._cache;else{n={};for(var a in this._cache)if(this._cache.hasOwnProperty(a)&&this.constructor.derived.hasOwnProperty(a)){var i=this.constructor.derived[a].deps,o=!1;if(i){var s=i,l=Array.isArray(s),c=0;for(s=l?s:d()(s);;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var p=u;if(e[p]!==this._values[p]){o=!0;break}}}o||(n[a]=this._cache[a])}}return Object.defineProperty(r,"_cache",{value:n}),r},e.prototype.newWithProps=function(e){return e?this.new(c()({},this._values,e)):this.clone()},e.prototype.entries=s.a.mark(function e(){var t,n,r,a,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.constructor.keys,n=t,r=Array.isArray(n),a=0,n=r?n:d()(n);case 2:if(!r){e.next=8;break}if(!(a>=n.length)){e.next=5;break}return e.abrupt("break",17);case 5:i=n[a++],e.next=12;break;case 8:if(!(a=n.next()).done){e.next=11;break}return e.abrupt("break",17);case 11:i=a.value;case 12:return o=i,e.next=15,[o,this[o]];case 15:e.next=2;break;case 17:case"end":return e.stop()}},e,this)}),e.prototype.keys=s.a.mark(function(){var e,t,n,r,a,i;return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=this.constructor.keys,t=e,n=Array.isArray(t),r=0,t=n?t:d()(t);case 2:if(!n){o.next=8;break}if(!(r>=t.length)){o.next=5;break}return o.abrupt("break",17);case 5:a=t[r++],o.next=12;break;case 8:if(!(r=t.next()).done){o.next=11;break}return o.abrupt("break",17);case 11:a=r.value;case 12:return i=a,o.next=15,i;case 15:o.next=2;break;case 17:case"end":return o.stop()}},e,this)}),e.prototype.values=s.a.mark(function e(){var t,n,r,a,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.constructor.keys,n=t,r=Array.isArray(n),a=0,n=r?n:d()(n);case 2:if(!r){e.next=8;break}if(!(a>=n.length)){e.next=5;break}return e.abrupt("break",17);case 5:i=n[a++],e.next=12;break;case 8:if(!(a=n.next()).done){e.next=11;break}return e.abrupt("break",17);case 11:i=a.value;case 12:return o=i,e.next=15,this[o];case 15:e.next=2;break;case 17:case"end":return e.stop()}},e,this)}),e.prototype.toJSON=function(){return this._values},e.prototype._getDerivedProperty=function(e){var t=this.constructor.derived[e];return!1===t.cache?t.fn.call(this):(this._cache.hasOwnProperty(e)||(this._cache[e]=t.fn.call(this)),this._cache[e])},e.prototype._getDateProperty=function(e){return this._cache[e]||(this._cache[e]=function(e){if(!e)return null;var t=new Date(e);0;return t}(this._values[e])),this._cache[e]},e}());function C(e,t){i()(e.prototype,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError('"'+t+"\" is a derived property, it can't be set directly.")},enumerable:!0})}function N(e,t){var n=e.props[t]||{},r="object"===(void 0===n?"undefined":g()(n))&&n.hasOwnProperty("default"),a=r?n.default:null,o="string"==typeof n?"date"===n:"date"===n.type,s=void 0;s=r?function(){var e=this._values[t];return null==e?a:o?this._getDateProperty(t):e}:o?function(){return this._getDateProperty(t)}:function(){return this._values[t]},i()(e.prototype,t,{get:s,set:P,enumerable:!0})}T._primed=!1;function P(){throw new TypeError("Model values are not settable.")}},function(e,t,n){"use strict";t.a=function(e,t,n){return i({endpoint:"/logView",callAPI:!1,redirect401:!1,json:{action:e,url:t,data:n}}).catch(function(e){0})},t.b=function(e,t,n,r){return i({endpoint:"/logEvent",callAPI:!1,redirect401:!1,json:{e_c:e,e_a:t,e_n:n,e_v:r}}).catch(function(e){0})};var r=n(25),a=n(5),i=n.n(a).a.throttle(r.d,250)},function(e,t,n){e.exports={default:n(193),__esModule:!0}},,function(e,t,n){e.exports={default:n(358),__esModule:!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),t.e=function(e,t){return t.turnover24h-e.turnover24h},t.c=function(e,t){if(!e.expiry)return-1;if(!t.expiry)return 1;var n=e.expiry.valueOf()-t.expiry.valueOf();if(0===n)return e.relistInterval?t.relistInterval?e.relistInterval.valueOf()-t.relistInterval.valueOf():1:-1;return n},t.d=function(e,t){return y(e)-y(t)},t.b=y;var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(5),u=n.n(c),d=n(30),p=n(96),m=["XBT","XBU","XBE","XBJ"],f=["B","BFX","DASH","ETH","ETC","FCT","LTC","LSK","XMR","REP","XRP","USD","ZEC"],h=m.concat(f),g=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getOrCreate=function(e){return this.get(e)||new p.a({symbol:e})},t}(d.a);function y(e){var t=e.rootSymbol,n=h.indexOf(t);return-1===n&&(n=u.a.sortedIndex(f,t),f.splice(n,0,t),h=m.concat(f)),n}g.model=p.a,g._rootSymbolIterationOrder=h,g.comparator=function(e){return y(e)+(e.expiry?.1:0)}},function(e,t,n){"use strict";var r=n(217),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(19),p=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t}(d.a),m=(n(5),n(10)),f=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.getIndicativePnl=function(){var e=this.currentQty,t=this.symbol,n=new(0,this.stores.getStore("OrderStore").myOrders.constructor.model)({symbol:t,orderQty:-e,price:e*(-1/0)}).getFillPrice().avgPx;return this.getIndicativePnlAtPrice(n)},t.prototype.getIndicativePnlAtPrice=function(e){var t=this.unrealisedCost,n=this.currentQty,r=this.instrument;if(!r)return{pnl:0,pnlPcnt:0,roePcnt:0};var a=r.multiplier,i=m.v(a,n,e)-t,o=i/Math.abs(t);return{pnl:i,pnlPcnt:o,roePcnt:o*this.leverage}},t}(p);f.typeName="Position",f.idAttribute="symbol",f.props={crossMargin:{default:!0}},f.derived={assignedMargin:{deps:["unrealisedPnl","posMargin"],fn:function(){return this.instrument&&this.instrument.taxed?this.unrealisedPnl+this.posMargin:this.maintMargin}},combinedRealisedPnl:{deps:["realisedPnl","rebalancedPnl"],fn:function(){return this.realisedPnl+this.rebalancedPnl}},expired:{deps:[],fn:function(){return!this.instrument||this.instrument.expired}},effectiveLeverage:{deps:["liquidationPrice","crossMargin","assignedMargin","posMaint"],fn:function(){var e=this.instrument;if(e&&!this.crossMargin&&e.taxed){if(0===this.currentQty)return this.leverage||e.initialLeverage;var t=this.maintMarginReq+(Math.abs(e.fundingRate)||0);return(this.posMaint-this.posComm)*(1/t)/(this.assignedMargin-this.posComm)||0}return this.stores.getStore("MeStore").getPrimaryMargin().marginLeverage},cache:!1},foreignNotionalCurr:{deps:["foreignNotional","quoteCurrency"],fn:function(){if("XXX"===this.quoteCurrency)return"-.--";var e=this.stores.getStore("OptionStore").getOptions().currency;return h(this,this.quoteCurrency,this.foreignNotional,e)},cache:!1},fundingCost:{deps:["markValue"],fn:function(){var e=this.currentQty,t=this.instrument,n=this.markValue,r=t.fundingRate;return a()(e)*r*Math.abs(n)}},homeNotionalCurr:{deps:["homeNotional","underlying"],fn:function(){var e=this.stores.getStore("OptionStore").getOptions().currency;return h(this,this.underlying,this.homeNotional,e)},cache:!1},indicativeFundingCost:{deps:["markValue"],fn:function(){var e=this.currentQty,t=this.instrument,n=this.markValue,r=t.indicativeFundingRate;return a()(e)*r*Math.abs(n)}},initialLeverage:{deps:["initMarginReq","instrument","riskLimit"],fn:function(){if(!this.instrument)return null;var e=this.instrument,t=e.initMargin,n=e.maintMargin;return 1/(t+(this.maintMarginReq-n))||null}},instrument:{deps:["symbol"],fn:function(){return this.stores.getStore("InstrumentStore").getInstrumentNoStub(this.symbol)},cache:!1},instrumentIdx:{deps:["symbol"],fn:function(){return this.stores.getStore("InstrumentStore").indexOfSymbol(this.symbol)}},maintLeverage:{deps:["maintMarginReq","riskLimit"],fn:function(){return 1/this.maintMarginReq||null}},minTick:{deps:["symbol"],fn:function(){return null!=this.instrument?this.instrument.minTick:this.tickSize}},posWithdrawable:{deps:["posCross","posLoss","unrealisedGrossPnl","commission"],fn:function(){return Math.floor(Math.max(0,this.posCross-this.posLoss+Math.min(0,this.unrealisedGrossPnl))*(1+this.commission))}},side:{deps:["currentQty"],fn:function(){return 0===this.currentQty?"Flat":this.currentQty>0?"Long":"Short"}},tickSize:{deps:["symbol"],fn:function(){return null!=this.instrument?this.instrument.tickSize:.01}}},f.displayTypes={avgCostPrice:d.b.fixedNumberMinTick,avgEntryPrice:d.b.fixedNumberMinTick,assignedMargin:d.b.currency,effectiveLeverage:d.b.multiplier,foreignNotional:d.b.currency,fundingCost:d.b.currency,homeNotional:d.b.currency,indicativeFundingCost:d.b.currency,leverage:d.b.multiplier,liquidationPrice:d.b.fixedNumber,initMargin:d.b.currency,markPrice:d.b.fixedNumberMinTick,maintMargin:d.b.currency,markValue:d.b.currency,posMargin:d.b.currency,rebalancedPnl:d.b.currency,prevRealisedPnl:d.b.currency,combinedRealisedPnl:d.b.currency,realisedPnl:d.b.currency,unrealisedPnl:d.b.currency,unrealisedRoePcnt:d.b.percentageHundredths};t.a=Object(d.c)(f);function h(e,t,n,r){return isNaN(n)&&(n=0),n=Math.abs(n),/xbt/i.test(t)?m.g(n,r,t):/usd/i.test(t)?"$"+n.toFixed(2):/jpy/i.test(t)?"ÂĄ"+n.toFixed(0):n.toFixed(2)+" "+t}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(3),a=(n.n(r),n(7)),i=n(132),o=n(9),s=r.createElement(a.FormattedMessage,{id:"instrument.type.volatility",defaultMessage:"Volatility",description:"Instrument type text for volatility conts"}),l=r.createElement(a.FormattedMessage,{id:"instrument.type.inverse",defaultMessage:"Inverse",description:"Instrument type text for inverse futs/swaps"}),c=r.createElement(a.FormattedMessage,{id:"instrument.type.quanto",defaultMessage:"Quanto",description:"Instrument type text for quanto futs"}),u=r.createElement(a.FormattedMessage,{id:"instrument.type.capped",defaultMessage:"Prediction",description:"Instrument type text for predciton markets"}),d=r.createElement(a.FormattedMessage,{id:"instrument.type.linear",defaultMessage:"Linear",description:"Instrument type text for linear futs"}),p={expiryMessage:function(e){if(e.isMultiLeg){var t=void 0;return e.stores&&(t=e.stores.getStore("InstrumentStore").getInstrument(e.sellLeg)),t&&t.relistIntervalReal?this["expiry.multiLegWithInterval"](t.relistIntervalReal,e.expired):this["expiry.multiLeg"](e,e.expired)}return e.relistIntervalReal?this["expiry.interval"](e.relistIntervalReal,e.expired):this["expiry.typical"](this.niceExpiryDateMessage(e),e.expired)},humanReadableSummaryMessage:function(e){return e.isMultiLeg&&e.stores?this["humanReadableSummary.multiLeg"](e):e.isIndex?this["humanReadableSummary.index"](e):e.isSwap?this["humanReadableSummary.swap"](e):e.isBinary?this["humanReadableSummary.binary"](e):this.humanReadableSummary(e)},"humanReadableSummary.multiLeg":function(e){return r.createElement(a.FormattedMessage,{id:"instrument.humanReadableSummary.multiLeg",defaultMessage:"{pairMessage} {expiryMessage} Calendar Spread",description:"Ticker text for hovered calendar spread description",values:{pairMessage:this["symbol.pair"](e),expiryMessage:this.expiryMessage(e)}})},"humanReadableSummary.index":function(e){return r.createElement(a.FormattedMessage,{id:"instrument.humanReadableSummary.index",defaultMessage:"{symbol} Index ({indexPair} Spot)",description:"Ticker text for hovered index description",values:{symbol:e.symbol,indexPair:this["symbol.pair"](e)}})},"humanReadableSummary.swap":function(e){return r.createElement(a.FormattedMessage,{id:"instrument.humanReadableSummary.swap",defaultMessage:"{pairMessage} {type} Perpetual",description:"Ticker text for hovered swap description",values:{pairMessage:this["symbol.pair"](e),type:this.type(e)}})},"humanReadableSummary.binary":function(e){return r.createElement(a.FormattedMessage,{id:"instrument.humanReadableSummary.binary",defaultMessage:"{rootSymbol} {expiryMessage} {type} Contract",description:"Ticker text for hovered binary description",values:{rootSymbol:e.rootSymbol,expiryMessage:this.expiryMessage(e),type:this.type(e)}})},humanReadableSummary:function(e){return r.createElement(a.FormattedMessage,{id:"instrument.humanReadableSummary",defaultMessage:"{pairMessage} {expiryMessage} {type} Futures Contract",description:"Ticker text for hovered futures contract description",values:{pairMessage:this["symbol.pair"](e),expiryMessage:this.expiryMessage(e),type:this.type(e)}})},niceExpiryDateMessage:function(e){return e.expiry?this["expiry.date"](e.expiry):o.a.Perpetual},"symbol.pair":function(e){return r.createElement(a.FormattedMessage,{id:"instrument.symbol.pair",defaultMessage:"{underlyingMessage}/{quoteCurrencyMessage}",description:"Symbol pair text",values:{underlyingMessage:function(t){return t.messages["symbol."+e.underlying]||e.underlying},quoteCurrencyMessage:function(t){return t.messages["symbol."+e.quoteCurrency]||e.quoteCurrency}}})},type:function(e){return"BVOL"===e.rootSymbol?s:e.isInverse?l:e.isQuanto?c:e.capped?u:d},"expiry.multiLegWithInterval":function(e,t){return r.createElement(a.FormattedMessage,{id:"instrument.expiry.multiLegWithInterval",defaultMessage:"{relistTimeIntervalMessage} Spread {isExpired, select, true {{expiredMessage}} other {}}",description:"Expiry text for a multi leg instrument with a relist interval",values:{relistTimeIntervalMessage:i.a["interval.detect"](e),isExpired:t,expiredMessage:this["expiry.expired"]}})},"expiry.multiLeg":function(e,t){return r.createElement(a.FormattedMessage,{id:"instrument.expiry.multiLeg",defaultMessage:"{sellLeg} - {buyLeg} {isExpired, select, true {{expiredMessage}} other {}}",description:"Expiry text for a multi leg instrument that does not have a relist interval",values:{sellLeg:e.sellLeg.replace(e.rootSymbol,""),buyLeg:e.buyLeg.replace(e.rootSymbol,""),isExpired:t,expiredMessage:this["expiry.expired"]}})},"expiry.interval":function(e,t){return r.createElement(a.FormattedMessage,{id:"instrument.expiry.interval",defaultMessage:"{relistTimeIntervalMessage} {isExpired, select, true {{expiredMessage}} other {}}",description:"Expiry text for a non multi leg instrument with a relist interval",values:{relistTimeIntervalMessage:i.a["interval.detect"](e),isExpired:t,expiredMessage:this["expiry.expired"]}})},"expiry.typical":function(e,t){return r.createElement(a.FormattedMessage,{id:"instrument.expiry.typical",defaultMessage:"{expiryDateMessage} {isExpired, select, true {{expiredMessage}} other {}}",description:"Expiry text for a multi leg instrument with a relist interval",values:{expiryDateMessage:e,isExpired:t,expiredMessage:this["expiry.expired"]}})},"expiry.expired":r.createElement(a.FormattedMessage,{id:"instrument.expiry.expired",defaultMessage:"(Expired)",description:"Expiry text for a multi leg instrument with a relist interval"}),"expiry.date":function(e){return r.createElement(a.FormattedDate,{value:e,month:"short",day:"2-digit"})}}},function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(4)),h=n(8),g=n(439),y=n(27),b=n.n(y),v=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=e.sidebarSide,i=e.sidebarHidden,s=e.sticky,l=e.stickyOptions,c=(e.currentRoute,e.shareKeys,e.spec,e._,e._query,o()(e,["className","children","sidebarSide","sidebarHidden","sticky","stickyOptions","currentRoute","shareKeys","spec","_","_query"])),u=b()("sideWrap",r,t,{responsiveOpen:!i,sidebarHidden:i});return s?m.createElement("div",a()({},c,{className:u}),m.createElement(g.a,a()({className:"sidebar"},l),n)):m.createElement("div",a()({},c,{className:u}),m.createElement("div",{className:"sidebar"},n))},t}(f.a);v.displayName="Sidebar",v.defaultProps={className:"",children:"",sticky:!1,stickyOptions:{}},t.a=Object(h.a)(function(e){return{sidebarHidden:e.sidebarHidden,sidebarSide:e.sidebarSide}})(v)},function(e,t,n){"use strict";var r=n(28),a=n.n(r),i=n(6),o=n.n(i),s=n(34),l=n.n(s),c=n(0),u=n.n(c),d=n(1),p=n.n(d),m=n(2),f=n.n(m),h=n(3),g=n(4),y=n(5),b=n.n(y),v=n(223),E=n(211),w=n(139),M=h.createElement("sup",null,h.createElement("i",{className:"fa fa-external-link"})),S=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.render=function(){var e=this.props,t=e.action,n=e.className,r=e.external,a=e.icon,i=e.isActive,o=e.label,s=e.link,l=h.createElement("a",{href:s||"#",rel:r?"external":null,onClick:t},a?h.createElement("i",{className:"item-icon fa fa-fw fa-"+a}):null,h.createElement("span",{className:"name"},o,r?M:null));return"/logout"===s&&(l=h.createElement(w.a,null,l)),h.createElement("li",{className:"item "+(i?"active":"")+" "+n},l)},t}(g.a);S.displayName="SidebarLink",S.defaultProps={className:"",external:!1,isActive:!1},n.d(t,"a",function(){return x}),t.c=function(e){return new RegExp("^("+function(e){var t=[];return function e(n){for(var r=n,i=Array.isArray(r),o=0,r=i?r:a()(r);;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if((o=r.next()).done)break;s=o.value}var l=s;l.link&&t.push(l.link),l.subLinks&&l.subLinks.length>0&&e(l.subLinks)}}(e),t}(e).map(E.a).join("|")+")$")},t.b=function(e,t){return e.filter(function e(n){return n.subLinks&&(n.subLinks=n.subLinks.filter(e)),!b.a.isBoolean(n.authenticated)||n.authenticated===t.me.authenticated}).filter(function e(n){return n.subLinks&&(n.subLinks=n.subLinks.filter(e)),!Array.isArray(n.roles)||b.a.some(n.roles,function(e){return t.me.hasRole(e)})})};var x=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.isActive=function(e,t){return Boolean(t===e.link||e.matchLink&&e.matchLink.test(t))},t.prototype.isSubActive=function(e,t){var n=this;return b.a.some(b.a.map(e,function(e){return n.isActive(e,t)}))},t.prototype.createLinks=function(e){var t=this,n=this.props.currentRoute.split("?")[0];return e.map(function(e,r){var a=e.subLinks;if(Array.isArray(a)){var i=t.isSubActive(a,n);return h.createElement(v.a,{initialOpen:i||e.alwaysOpen,alwaysOpen:e.alwaysOpen,className:"item "+(i?"active":""),key:r,href:e.link,showCaret:!1,title:h.createElement("span",null,h.createElement("i",{className:"item-icon fa fa-fw fa-"+(e.icon||""),key:"icon"}),h.createElement("span",{className:"name",key:"name"},e.label))},t.createLinks(a))}return"object"===l()(e.separator)||"string"==typeof e.separator?h.createElement("li",{key:r,className:"separator"},e.separator):"boolean"==typeof e.separator&&!0===e.separator?h.createElement("li",{key:r,className:"separator empty"}):h.createElement(S,o()({},e,{key:e.link,isActive:t.isActive(e,n)}))})},t.prototype.render=function(){return h.createElement("ul",{className:"linksBar"},this.createLinks(this.props.spec))},t}(g.a);x.displayName="LinksBar"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(7),a=n(3),i=(n.n(a),{"Active Orders{value}":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.activeOrders",defaultMessage:"Active Orders [{len, number}]",description:"Text for active orders",values:{len:e}})},"Chart ({value})":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.chart",defaultMessage:"Chart ({symbol})",description:"Text for Chart",values:{symbol:e||""}})},"Cost: {value}":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.cost",defaultMessage:"Cost: {imBuySell}",description:"Text for Chart",values:{imBuySell:e||""}})},"Loading page {value} failed.":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.loadingPageFailed",defaultMessage:"Loading page {pageName} failed.",description:"Display text for when the loading of a page fails",values:{pageName:e||""}})},"Order Controls ({value})":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.orderControls",defaultMessage:"Order Controls ({symbol})",description:"Order Controls panel label",values:{symbol:e||""}})},"Positions{value}":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.positions",defaultMessage:"Positions [{len, number}]",description:"Positions panel label",values:{len:e}})},"Recent Trades ({value})":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.recentTrades",defaultMessage:"Recent Trades ({symbol})",description:"Recent Trades panel label",values:{symbol:e||""}})},"Stops{value}":function(e){return a.createElement(r.FormattedMessage,{id:"common.value.stops",defaultMessage:"Stops [{len, number}]",description:"Stops Tab label",values:{len:e}})}})},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n(3),a=(n.n(r),n(7)),i=r.createElement(a.FormattedMessage,{id:"orderType.stop",defaultMessage:"Stop Market",description:"Order type text for a stop market order"}),o={CloseLimit:r.createElement(a.FormattedMessage,{id:"orderType.closeLimit",defaultMessage:"Close Limit",description:"Order type text for a Close Limit order"}),CloseMarket:r.createElement(a.FormattedMessage,{id:"orderType.closeMarket",defaultMessage:"Close Market",description:"Order type text for a Close Market order"}),Limit:r.createElement(a.FormattedMessage,{id:"orderType.limit",defaultMessage:"Limit",description:"Order type text for a Limit order"}),LimitIfTouched:r.createElement(a.FormattedMessage,{id:"orderType.limitIfTouched",defaultMessage:"Take Profit Limit",description:"Order type text for a Limit If Touched (Take Profit Limit) order"}),Market:r.createElement(a.FormattedMessage,{id:"orderType.market",defaultMessage:"Market",description:"Order type text for a Market order"}),MarketWithLeftOverAsLimit:r.createElement(a.FormattedMessage,{id:"orderType.marketWithLeftOverAsLimit",defaultMessage:"Market With Left Over As Limit",description:"Order type text for a Market With Left Over As Limit order"}),MarketIfTouched:r.createElement(a.FormattedMessage,{id:"orderType.marketIfTouched",defaultMessage:"Take Profit Market",description:"Order type text for a Market If Touched (Take Profit) order"}),Stop:i,StopLimit:r.createElement(a.FormattedMessage,{id:"orderType.stopLimit",defaultMessage:"Stop Limit",description:"Order type text for a Stop Limit order"}),StopMarket:i,TrailingStop:r.createElement(a.FormattedMessage,{id:"orderType.trailingStop",defaultMessage:"Trailing Stop",description:"Text for Trailing Stop"}),TrailingStopMarket:r.createElement(a.FormattedMessage,{id:"orderTypeMessages.trailingStopMarket",defaultMessage:"Trailing Stop",description:"Text for Trailing Stop Market"})},s={Limit:r.createElement(a.FormattedMessage,{id:"orderTypeTooltip.limit",defaultMessage:"A Limit Order is an order to buy or sell at a given price or better. This is the most common order type.",description:"Tooltip for Limit Orders"}),Market:r.createElement(a.FormattedMessage,{id:"orderTypeTooltip.market",defaultMessage:"A Market Order is the fastest way to get an order into the market. It will execute at the best price present in the book at the time of execution. Note that latency may cause you get a better or worse price than you expect.",description:"Tooltip for Market Orders"}),Stop:r.createElement(a.FormattedMessage,{id:"orderTypeTooltip.stop",defaultMessage:"A Stop Order is an order that does not enter the order book until the market reaches a certain Trigger Price. Traders use this type of order for two main strategies: \n\n1. As a risk-management tool to limit losses on existing positions \n2. As an automatic tool to enter the market at a desired entry point without manually waiting for the market to place the order.\n\nA Stop Order will become a Market Order when the Stop Price is reached.",description:"Tooltip for Stop Orders"}),StopLimit:r.createElement(a.FormattedMessage,{id:"orderTypeTooltip.stopLimit",defaultMessage:"A Stop Limit Order is like a Stop Order, but allows you to set the price of the order once your Stop Price is triggered. Use this as an alternative to Stop orders if you wish to control your exit.\n\nNote that, if your triggered order does not match against any orders in the book, your position may remain open. Set a deep price for best results.",description:"Tooltip for Stop Market Orders"}),TrailingStopMarket:r.createElement(a.FormattedMessage,{id:"orderTypeTooltip.trailingStopMarket",defaultMessage:"A Trailing Stop Order is similar to a Stop Market Order, whereby you specify the Trailing Value differential to the Trigger Price, and if triggered then a Market Order will be placed.\n\nNote, a positive Trail Value indicates a trailing Buy whilst a negative Trail Value indicates a trailing Sell.",description:"Tooltip for Trailing Stop Orders"}),MarketIfTouched:r.createElement(a.FormattedMessage,{id:"orderTypeTooltip.marketIfTouched",defaultMessage:"A Take Profit Order can be used to set a target price on a position. It is like a Stop, but triggers are set in the opposite direction.\n\nUse this to exit a position in profit, or to set an entry point for a new position. A Take Profit Order becomes a Market Order once triggered.",description:"Tooltip for MarketIfTouched (Take Profit) Orders"}),LimitIfTouched:r.createElement(a.FormattedMessage,{id:"orderTypeTooltip.limitIfTouched",defaultMessage:"A Take Profit Limit Order can be used to set a target price on a position. It is like a Stop, but triggers are set in the opposite direction. \n\nUse this to exit a position in profit, or to set an entry point for a new position.",description:"Tooltip for LimitIfTouched (Take Profit Limit) Orders"})}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(8)),d=n(4),p=n(84),m=22,f=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.lastHash=null,r.scrollToHash=function(){try{var e=r.contentEl;if(!window.location.hash||!e)return;var t=window.location.hash.slice(1),n=e.querySelector("#"+t);if(!(n instanceof HTMLElement||(n=e.querySelector("*[id^="+t+" i]"))instanceof HTMLElement))return;if(r.lastHash===window.location.hash)return;r.lastHash=window.location.hash;var a=r.props.tickerPinned,i=n.getBoundingClientRect().top,o=a?-m:0;window.scroll(0,i+o+window.pageYOffset),n.classList.add("bg-warning")}catch(e){}},i=n,o()(r,i)}return l()(t,e),t.prototype.componentDidMount=function(){this.getContent()?this.scrollToHash():this.requestPage(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=this.props.pageName!==e.pageName,n=this.props.locale!==e.locale;(t||n)&&this.requestPage(e)},t.prototype.componentDidUpdate=function(e){this.scrollToHash()},t.prototype.getContent=function(){return this.props.staticPages[this.props.pageName]||""},t.prototype.requestPage=function(e){var t=e.pageName,n=e.type;this.props.fetch({pageName:t,type:n})},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.pageName,a=this.getContent()||'<progress class="verticalAlign"></progress>';return a instanceof Error&&(a=this.context.intl.formatMessage(p.a["Loading page {value} failed."](r).props,{pageName:r})),c.createElement("div",{className:"staticContent "+r+" "+n,ref:function(t){return e.contentEl=t},dangerouslySetInnerHTML:{__html:a}})},t}(d.a);f.displayName="StaticPage",f.defaultProps={className:"",type:"md"},t.a=Object(u.a)(function(e){var t=e.actions,n=e.locale,r=e.options,a=e.staticPages;return{fetch:t.fetchStaticPage,locale:n,tickerPinned:r.tickerPinned,staticPages:a}})(f)},,,function(e,t,n){var r=n(111),a=n(41)("iterator"),i=n(90);e.exports=n(17).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[r(e)]}},,function(e,t,n){var r=n(54),a=n(122),i=n(123),o=n(55),s=n(109),l=n(89),c={},u={};(t=e.exports=function(e,t,n,d,p){var m,f,h,g,y=p?function(){return e}:l(e),b=r(n,d,t?2:1),v=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(m=s(e.length);m>v;v++)if((g=t?b(o(f=e[v])[0],f[1]):b(e[v]))===c||g===u)return g}else for(h=y.call(e);!(f=h.next()).done;)if((g=a(h,b,f.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t,n){"use strict";t.a=function(e,t,n){var r=this.constructor.SCUDeep?m:d,a=this.constructor.SCUSelector||{};return!r(this.props,e,a.props)||!r(this.state,t,a.state)||!r(this.context,n,a.context)},t.b=d;var r=n(336),a=n.n(r),i=n(26),o=n.n(i),s=n(34),l=n.n(s),c=n(30),u=n(74);function d(e,t,n){if(e===t)return!0;if("object"!==(void 0===e?"undefined":l()(e))||null===e||"object"!==(void 0===t?"undefined":l()(t))||null===t)return!1;var r=n||o()(e),a=n||o()(t);if(!n&&r.length!==a.length)return!1;for(var i=0,s=r.length;i<s;i++){var c=r[i];if(e[c]!==t[c])return!1}return!0}var p=a()("react.element");function m(e,t,n){if(e===t)return!0;if("object"!==(void 0===e?"undefined":l()(e))||null===e||"object"!==(void 0===t?"undefined":l()(t))||null===t)return!1;var r=Array.isArray(e),a=Array.isArray(t);if(r&&a){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!m(e[i],t[i]))return!1;return!0}if(e instanceof c.a&&t instanceof c.a||e instanceof u.a&&t instanceof u.a)return e===t;e.$$typeof===p&&t.$$typeof===p&&(n=["type","props","state"]);var s=n||o()(e);if(s.length!==o()(t).length)return!1;for(var d=0;d<s.length;d++){var f=s[d];if(!m(e[f],t[f]))return!1}return!0}},function(e,t,n){var r=n(17),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(325),u=n.n(c),d=n(350),p=n.n(d),m=n(324),f=n.n(m),h=n(76),g=n.n(h),y=n(353),b=n.n(y);var v=function(e){function t(n){a()(this,t);var r=o()(this,e.call(this,n));return r.name=r.constructor.name,r.message=String(n),Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(r,r.constructor):Object.defineProperty(r,"stack",{value:(new Error).stack,configurable:!0,enumerable:!0,writable:!0}),r}return l()(t,e),t}(function(e){function t(){var t=b()(e,g()(arguments));return f()(t,p()(this)),t}return t.prototype=u()(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),f.a?f()(t,e):t.__proto__=e,t}(Error));n.d(t,"a",function(){return E});var E=function(e){function t(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a()(this,t);var s=o()(this,e.call(this,n)),l="",c=500;if("number"==typeof n&&"string"==typeof r)l=r,c=n;else if("string"==typeof n&&"number"==typeof r){var u=[String(n),Number(r)];l=u[0],c=u[1]}else r||"number"!=typeof n||(c=n);return s.message=l,Object.defineProperty(s,"status",{value:c,enumerable:!0}),Object.defineProperty(s,"code",{value:c,enumerable:!0}),Object.defineProperty(s,"meta",{value:i,enumerable:!0}),s}return l()(t,e),t.prototype.toString=function(){var e=this.name+": ";return this.status&&(e+="("+this.status+") "),e+(this.message||"")},t}(v)},,function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(19),p=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t}(d.a),m=(n(5),n(44)),f=n(23),h=n(10),g=["XBTBUSD"],y=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.initialize=function(e){},t.prototype.getCostsForQuantityAndPrice=function(e,t){var n=new m.a({price:t,orderQty:e,symbol:this.symbol});if(this.isMultiLeg){var r=new m.a({price:this.sellLegMarkPrice+t,orderQty:e,symbol:this.buyLeg});return{grossValue:r.grossValue,initialMarginBuy:n.getMarginRequirement(e),initialMarginSell:n.getMarginRequirement(-e),commissionDef:r.getUserCommission()[this.symbol],commissionAmt:r.getTakerCommission()}}return{grossValue:n.grossValue,initialMarginBuy:n.getMarginRequirement(e),initialMarginSell:n.getMarginRequirement(-e),commissionDef:n.getUserCommission()[this.symbol],commissionAmt:n.getTakerCommission()}},t.prototype.getPricingSource=function(e){for(var t=this;t&&"BMEX"===t.reference;)t=e.get(t.referenceSymbol);return t!==this?t:null},t}(p);y.typeName="Instrument",y.idAttribute="symbol",y.derived={absFundingRate:{deps:["fundingRate"],fn:function(){return Math.abs(this.fundingRate||0)}},buyLegExpiry:{deps:["buyLeg","isMultiLeg"],fn:function(){return this.isMultiLeg?this.stores.getStore("InstrumentStore").instruments.get(this.buyLeg).expiry:null}},contractValue:{deps:["isInverse","markPrice"],fn:function(){return this.isQuanto?this.contractValueXBT:this.isInverse?Math.abs(this.multiplier/1e8):this.capped?Math.abs(this.underlyingToSettleMultiplier/this.multiplier*this.maxPrice):1}},contractValueXBT:{deps:["markPrice"],fn:function(){return Math.abs(h.v(this.multiplier,1,this.markPrice))}},displayRootSymbol:{deps:["rootSymbol","typ"],fn:function(){return"FFICSX"===this.typ?"B":this.rootSymbol}},expired:{deps:["state"],fn:function(){return"Expired"===this.state||"Settled"===this.state||"Archived"===this.state}},expirySymbol:{deps:["symbol","rootSymbol"],fn:function(){return this.symbol.replace(this.rootSymbol,"")}},isBinary:{deps:["typ"],fn:function(){return"FFICSX"===this.typ}},isIndex:{deps:["symbol"],fn:function(){return"."===this.symbol[0]}},isLendingRate:{deps:["typ","reference"],fn:function(){return"MRRXXX"===this.typ&&"BMEX"!==this.reference}},isPremiumRate:{deps:["typ","reference"],fn:function(){return"MRRXXX"===this.typ&&"BMEX"===this.reference}},isMultiLeg:{deps:["buyLeg","sellLeg","typ"],fn:function(){return"FMXXS"===this.typ||Boolean(this.buyLeg&&this.sellLeg)}},isSpot:{deps:["typ"],fn:function(){return"RCSXXX"===this.typ}},isSwap:{deps:["typ"],fn:function(){return"FFWCSX"===this.typ}},initialLeverage:{deps:["initMargin","maintMargin","taxed"],fn:function(){return 1/this.initMargin||null}},maintLeverage:{deps:["maintMargin"],fn:function(){return 1/this.maintMargin||0}},maintMarginWithFunding:{deps:["maintMargin","fundingRate"],fn:function(){return this.maintMargin+Math.abs(this.fundingRate||0)}},minTick:{deps:["reference","referenceSymbol"],fn:function(){if("BMEX"!==this.reference||"MRCXXX"===this.typ||"MRRXXX"===this.typ||"MRIXXX"===this.typ)return this.tickSize;var e=this.stores.getStore("InstrumentStore").getInstrumentNoStub(this.referenceSymbol);return e?e.tickSize:this.tickSize}},nextFundingTimestamp:{deps:["fundingTimestamp","fundingInterval","isSwap"],fn:function(){if(!this.isSwap)return null;try{return new Date(this.fundingTimestamp.valueOf()+(this.fundingInterval.valueOf()-f.b.valueOf())).toISOString()}catch(e){return console.error(e),null}}},niceLastPrice:{deps:["lastPrice","tickSize"],fn:function(){return this.lastPrice?h.t(this.lastPrice,this.tickSize):"--.-"}},open:{deps:["state"],fn:function(){return"Open"===this.state}},quoteCurrencyString:{deps:["quoteCurrency"],fn:function(){return"XXX"===this.quoteCurrency?"%":this.quoteCurrency}},profitAdjustment:{deps:["indicativeTaxRate"],fn:function(){return this.indicativeTaxRate}},relistIntervalReal:{deps:["relistInterval","inverseLeg","settle","listing"],fn:function(){return this.inverseLeg&&this.relistInterval?new Date(f.b.valueOf()+(this.settle-this.listing)):this.relistInterval}},sellLegExpiry:{deps:["isMultiLeg","sellLeg"],fn:function(){return this.isMultiLeg?this.stores.getStore("InstrumentStore").instruments.get(this.sellLeg).expiry:null}},sellLegMarkPrice:{deps:["isMultiLeg","sellLeg"],fn:function(){if(!this.isMultiLeg)return 0;var e=this.stores.getStore("InstrumentStore").getInstrument(this.sellLeg);return e?e.markPrice:0}},sellLegSettle:{deps:["isMultiLeg","sellLeg"],fn:function(){return this.isMultiLeg?this.stores.getStore("InstrumentStore").instruments.get(this.sellLeg).settle:null}},uiVisible:{deps:["symbol"],fn:function(){return-1===g.indexOf(this.symbol)}},underlyingIsIndex:{deps:["underlying"],fn:function(){return"."===this.underlying[0]}}},y.props={limitUpPrice:{type:"number",default:1/0},limitDownPrice:{type:"number",default:-1/0},state:{type:"string",default:"Expired"},tickSize:{type:"number",default:.01}},y.displayOmitColumns=["open","capped","timestamp","indicativeTaxRate"],y.displayTypes={initMargin:d.b.percentageHundredths,maintMargin:d.b.percentageHundredths,limit:d.b.percentageInt,volume:d.b.numCommas,volume24h:d.b.numCommas,prevTotalVolume:d.b.numCommas,totalVolume:d.b.numCommas,openInterest:d.b.numCommas,makerFee:d.b.percentage,takerFee:d.b.percentage,settlementFee:d.b.percentage,insuranceFee:d.b.percentage,profitAdjustment:d.b.percentageHundredths,contractValue:function(e,t){if(this.isQuanto||this.capped)return d.b.currency(e,t);var n=this.quoteToSettleMultiplier?this.underlying:this.quoteCurrency;return d.b.currencyFiat(e,a()({label:n},t))},contractValueXBT:d.b.currency,relistInterval:d.b.interval,sessionInterval:d.b.interval,fundingInterval:d.b.interval,turnover:d.b.currency,turnover24h:d.b.currency,totalTurnover:d.b.currency,prevTotalTurnover:d.b.currency,openValue:d.b.currency,fairBasisRate:d.b.percentageInt,lastChangePcnt:d.b.percentageHundredths,limitUpPrice:d.b.fixedNumber,limitDownPrice:d.b.fixedNumber,indicativeSettlePrice:d.b.fixedNumberMinTick,bankruptLimitUpPrice:d.b.fixedNumber,bankruptLimitDownPrice:d.b.fixedNumber,fairPrice:d.b.fixedNumberMinTick,lastPrice:d.b.fixedNumber,markPrice:d.b.fixedNumberMinTick,bidPrice:d.b.fixedNumber,midPrice:d.b.fixedNumberNearest,askPrice:d.b.fixedNumber,highPrice:d.b.fixedNumber,lowPrice:d.b.fixedNumber,maxPrice:d.b.numCommas,vwap:d.b.fixedNumber,impactMidPrice:d.b.fixedNumber,impactBidPrice:d.b.fixedNumber,impactAskPrice:d.b.fixedNumber,prevClosePrice:d.b.fixedNumberMinTick,settledPrice:d.b.fixedNumberMinTick,fundingRate:d.b.percentageToFixed(4),absFundingRate:d.b.percentageToFixed(4),indicativeFundingRate:d.b.percentageToFixed(4),riskLimit:d.b.currencyToFixed(0),riskStep:d.b.currencyToFixed(0),buyLegExpiry:d.b.dateMonthYear,sellLegExpiry:d.b.dateMonthYear,sellLegSettle:d.b.dateSettlement,maxOrderQty:d.b.numCommas,lotSize:d.b.numCommas};t.a=Object(d.c)(y)},function(e,t,n){"use strict";(function(e){t.a=function(t,n){if(!e.browser)return t;if(!i[n]&&(i[n]=document.getElementById(n),!i[n])){var r=document.createElement("span");r.id=n,r.style.zIndex="1",document.body&&document.body.insertBefore(r,document.body.lastElementChild),i[n]=r}return a.a.createPortal(t,i[n])};var r=n(22),a=n.n(r),i={}}).call(t,n(12))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(435),p=function(t){function n(){var e,r,i;a()(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=r=o()(this,t.call.apply(t,[this].concat(l))),r.state={error:null,info:null},r.onButtonClick=function(e){r.props.onButtonClick&&r.props.onButtonClick(e),e.defaultPrevented||r.setState({error:null,info:null})},i=e,o()(r,i)}return l()(n,t),n.prototype.componentDidCatch=function(t,n){this.setState({error:!0,info:n}),e.browser&&window.Raven&&window.Raven.captureException(t,{extra:{info:n}})},n.prototype.render=function(){if(this.state.error){var e=this.props.showButton;return c.createElement(d.a,{error:this.state.error,info:this.state.info,showButton:e,onButtonClick:this.onButtonClick})}return this.props.children},n}(u.a);p.displayName="ErrorBoundary",p.defaultProps={showButton:!0}}).call(t,n(12))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(11),u=(n(5),n(3)),d=n(4),p=n(8),m=n(224),f=n.n(m);var h=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return this.props.children?u.Children.only(this.props.children):null},t}(u.Component);h.displayName="DocumentTitle",h.displayName="DocumentTitle";var g=f()(function(e){var t=e[e.length-1];if(t)return t.title},function(e){var t=e||"";t!==document.title&&(document.title=t)})(h),y=n(7),b={contract:function(e){var t=e.symbol;return u.createElement(y.FormattedMessage,{id:"titles.contract",defaultMessage:"{symbol}: Contract Specification",description:"Title of a specified contract page",values:{symbol:t}})},trade:function(e){var t=e.symbol;return u.createElement(y.FormattedMessage,{id:"titles.trade",defaultMessage:"({symbol}) Trade",description:"Trading Dashboard Title",values:{symbol:t}})},seriesGuide:function(e){var t=e.symbol;return u.createElement(y.FormattedMessage,{id:"titles.seriesGuide",defaultMessage:"{rootMessage} Series ({symbol}) Guide",description:"Series Guide Title",values:{rootMessage:function(e){return e.messages["symbol."+t]||t},symbol:t}})}},v=n(31);t.b=M;var E=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={title:""},i=n,o()(r,i)}return l()(t,e),t.prototype.componentWillMount=function(){this.setTitleInState(this.props,this.context)},t.prototype.componentWillReceiveProps=function(e){this.setTitleInState(e,this.context)},t.prototype.setTitleInState=function(e,t){this.setState({title:function(e){var t=e.match,n=e.selectedInstrument,r=e.intl,a={pageName:function(e,t){if(!e.route||!e.route.props.path)return t.messages["titles.notFound"];return M(e.matchedPath,t)}(t,r),price:null,siteName:"BitMEX"};if(0===t.path.indexOf(c.b+"trade")){var i=n.lastTickDirection,o=n.niceLastPrice;o&&(a.price=(i?w[i]:"")+" "+o)}return s=a,("string"==typeof s.price?s.price+" ":"")+(s.pageName?s.pageName+" - ":"")+s.siteName;var s}({match:e.match,notifications:e.notifications,selectedInstrument:e.selectedInstrument,intl:t.intl})})},t.prototype.shouldComponentUpdate=function(e,t){return this.props.notifications.length!==e.notifications.length||this.props.match.path!==e.match.path||this.props.selectedInstrument.lastPrice!==e.selectedInstrument.lastPrice},t.prototype.render=function(){return u.createElement(g,{title:this.state.title})},t}(d.a);E.displayName="BitMEXTitle";t.a=Object(p.a)(function(e){return{notifications:e.notifications,selectedInstrument:e.selectedInstrument}})(E);var w={MinusTick:"â–Ľ",ZeroMinusTick:"â–Ľ",PlusTick:"â–˛",ZeroPlusTick:"â–˛"};function M(e,t){var n=(e||"").replace(c.b,"");if(!n)return"";var r=n.split("/"),a=r[0],i=r[1],o=void 0,s=b[a];return s?("function"==typeof s&&(s=s({symbol:i})),o=Object(v.e)(s,t)):o=t.messages["titles."+n],o||""}},function(e,t,n){"use strict";t.a=function(e){var t=e.autoTickDirection,n=void 0!==t&&t,r=e.className,i=e.formattedValue,l=e.formatFn,c=void 0===l?p.basic:l,m=e.showIcon,f=void 0!==m&&m,h=e.tickDirection,g=(e.tickSize,e.value),y=o()(e,["autoTickDirection","className","formattedValue","formatFn","showIcon","tickDirection","tickSize","value"]),b=i||c(g||0,e),v=h;!v&&n&&(v=g>0?"PlusTick":g<0?"MinusTick":"");var E=u()("priceWidget",r,v),w=f&&v?s.createElement("i",{className:"fa fa-fw fa-"+d[v]}):null;return s.createElement("span",a()({},y,{className:E}),b,w)};var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(3),l=(n.n(s),n(10)),c=n(27),u=n.n(c),d={PlusTick:"arrow-up",ZeroPlusTick:"caret-up",MinusTick:"arrow-down",ZeroMinusTick:"caret-down"};var p={basic:function(e,t){return"number"==typeof t.tickSize?Object(l.t)(e,t.tickSize):String(e)},relative:function(e,t){var n=p.basic(e,t);return e>0&&(n="+"+n),n}}},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return u}),t.i=function(e){return e>=l&&e<=u||e===a||e===r||e===d||e===o||e===i},t.j=function(e){return e>=p&&e<=m||e>=f&&e<=h},t.h=function(e){return e===w||e===v||e===g||e===b},t.g=function(e){return e===y||e===E};var r=8,a=9,i=13,o=14,s=27,l=33,c=38,u=40,d=46,p=48,m=57,f=96,h=105,g=108,y=109,b=110,v=188,E=189,w=190},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),m.createElement("div",null)),h=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.lastDimensions={width:0,height:0,ref:null},r.onScroll=function(){r.rafTimeout&&window.cancelAnimationFrame(r.rafTimeout),r.rafTimeout=window.requestAnimationFrame(function(){if(r.wrapper){var e=r.getDimensions();e&&r.haveDimensionsChanged(e)&&(r.lastDimensions=e,r.props.onResize(e),r.resetTriggers())}})},a=n,u()(r,a)}return p()(t,e),t.prototype.componentDidMount=function(){this.resetTriggers()},t.prototype.resetTriggers=function(){var e=this.contract,t=this.expand;if(e&&t){e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight;var n=t.firstChild.style;n.width=t.offsetWidth+1+"px",n.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight}},t.prototype.getDimensions=function(){var e=this.wrapper;if(e&&e.lastChild){var t=e.lastChild;return{width:t.offsetWidth,height:t.offsetHeight,ref:t}}return this.lastDimensions},t.prototype.haveDimensionsChanged=function(e){return e.width!==this.lastDimensions.width||e.height!==this.lastDimensions.height},t.prototype.render=function(){var e=this,t=this.props,n=(t.onResize,o()(t,["onResize"])),r=(this.props.className||"")+" resizesensor-wrapper";return m.createElement("div",a()({},n,{ref:function(t){return e.wrapper=t},className:r}),this.props.children,m.createElement("div",{className:"resizesensor-trigger"},m.createElement("div",{ref:function(t){return e.expand=t},onScroll:this.onScroll},f),m.createElement("div",{className:"resizeSensor-contract",ref:function(t){return e.contract=t},onScroll:this.onScroll},m.createElement("div",{style:{width:"200%",height:"200%"}}))))},t}(m.Component);h.displayName="ResizeSensor"},,,,,,,,function(e,t,n){(function(t){var n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function r(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"[object String]"===Object.prototype.toString.call(e)}function o(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function s(e,t){var n,a;if(r(e.length))for(n in e)l(e,n)&&t.call(null,n,e[n]);else if(a=e.length)for(n=0;n<a;n++)t.call(null,n,e[n])}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e){var t,n,r,a,o,s=[];if(!e||!e.tagName)return"";if(s.push(e.tagName.toLowerCase()),e.id&&s.push("#"+e.id),(t=e.className)&&i(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)s.push("."+n[o]);var l=["type","name","title","alt"];for(o=0;o<l.length;o++)r=l[o],(a=e.getAttribute(r))&&s.push("["+r+'="'+a+'"]');return s.join("")}function u(e,t){return!!(!!e^!!t)}function d(e,t){if(u(e,t))return!1;var n,r,a=e.frames,i=t.frames;if(a.length!==i.length)return!1;for(var o=0;o<a.length;o++)if(n=a[o],r=i[o],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch({}.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return o()&&"[object ErrorEvent]"==={}.toString.call(e)},isUndefined:r,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:i,isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:o,supportsFetch:function(){if(!("fetch"in n))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:s,objectMerge:function(e,t){return t?(s(t,function(t,n){e[t]=n}),e):e},truncate:function(e,t){return!t||e.length<=t?e:e.substr(0,t)+"â€¦"},objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:l,joinRegExp:function(e){for(var t,n=[],r=0,a=e.length;r<a;r++)i(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")},urlencode:function(e){var t=[];return s(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")},uuid4:function(){var e=n.crypto||n.msCrypto;if(!r(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var a=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return a(t[0])+a(t[1])+a(t[2])+a(t[3])+a(t[4])+a(t[5])+a(t[6])+a(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,n=[],r=0,a=0,i=" > ".length;e&&r++<5&&!("html"===(t=c(e))||r>1&&a+n.length*i+t.length>=80);)n.push(t),a+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:c,isSameException:function(e,t){return!u(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,a=t.stacktrace,(!r(n)||!r(a))&&d(e.stacktrace,t.stacktrace)));var n,a},isSameStacktrace:d,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){var a=e[t];e[t]=n(a),e[t].__raven__=!0,e[t].__orig__=a,r&&r.push([e,t,a])}}}).call(t,n(36))},function(e,t,n){var r=n(119),a=n(41)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:i?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},,,,,,,,,,,function(e,t,n){var r=n(55);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(90),a=n(41)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e)}},function(e,t,n){var r=n(47);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){n(126),e.exports=n(17).Object.keys},function(e,t,n){var r=n(64),a=n(108);n(65)("keys",function(){return function(e){return a(r(e))}})},function(e,t,n){"use strict";t.a=function(){return r},t.b=function(e){r=e};n(71);var r=void 0},function(e,t,n){(function(t){var r=n(188),a="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i=a.Raven,o=new r;o.noConflict=function(){return a.Raven=i,o},o.afterLoad(),e.exports=o}).call(t,n(36))},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),o=(c=n.slice()).length,l=0;l<o;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function a(){this.removeListener(e,a),n||(n=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},n.prototype.removeListener=function(e,t){var n,i,o,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(10),a={number:{XBT:{style:"decimal",currency:"XBT",minimumFractionDigits:r.d.XBT.tickLog,maximumFractionDigits:r.d.XBT.tickLog},mXBT:{style:"decimal",currency:"mXBT",minimumFractionDigits:r.d.mXBT.tickLog,maximumFractionDigits:r.d.mXBT.tickLog},"ÎĽXBT":{style:"decimal",currency:"ÎĽXBT",minimumFractionDigits:r.d["ÎĽXBT"].tickLog,maximumFractionDigits:r.d["ÎĽXBT"].tickLog},XBt:{style:"decimal",currency:"XBt",minimumFractionDigits:r.d.XBt.tickLog,maximumFractionDigits:r.d.XBt.tickLog},USD:{style:"currency",currency:"usd"},multiplier:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}},time:{short:{hour:"numeric",minute:"numeric"},short24:{hour:"numeric",minute:"numeric",hour12:!1},shortTZ:{hour:"numeric",minute:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric"},full24:{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},UTC:{hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC",timeZoneName:"short"}},date:{dateOnly:{year:"numeric",month:"numeric",day:"numeric"},monthYearLong:{month:"long",year:"numeric"},monthYear:{month:"short",year:"numeric"},weekdayLong:{weekday:"long"},monthLong:{month:"long"},short:{month:"short",day:"numeric"},medium:{month:"short",day:"numeric",hour:"numeric",minute:"numeric"},mediumLongMonth:{month:"long",day:"numeric",hour:"numeric",minute:"numeric"},full:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},fullSeconds:{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}}};t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(3),a=(n.n(r),n(23)),i=n(5),o=(n.n(i),n(7)),s={"interval.detect":function(e){var t=a.t(e),n=t.amount,r=t.unit,i=t.dayStr;if(1===n){if("d"===r)return this["interval.daily"];if("w"===r)return i?this["interval.every {dayOfWeek}"](i):this["interval.weekly"];if("m"===r)return this["interval.monthly"];if("y"===r)return this["interval.yearly"]}return this["interval.every {value} {interval}"](n,r)},"interval.daily":r.createElement(o.FormattedMessage,{id:"time.interval.daily",defaultMessage:"daily",description:"Time interval message for every day"}),"interval.every {dayOfWeek}":function(e){return r.createElement(o.FormattedMessage,{id:"time.interval.dayOfWeek",defaultMessage:"every {dayOfWeek}",description:"Time interval message for every week on a given day",values:{dayOfWeek:e}})},"interval.every {value} {interval}":function(e,t){return r.createElement(o.FormattedMessage,{id:"time.interval.every.months",defaultMessage:"every {valueAndInterval}",description:"Time interval message for some amount of time",values:{valueAndInterval:a.g(e,{unit:t})}})},"interval.weekly":r.createElement(o.FormattedMessage,{id:"time.interval.weekly",defaultMessage:"weekly",description:"Time interval message for every week"}),"interval.monthly":r.createElement(o.FormattedMessage,{id:"time.interval.monthly",defaultMessage:"monthly",description:"Time interval message for every month"}),"interval.yearly":r.createElement(o.FormattedMessage,{id:"time.interval.yearly",defaultMessage:"yearly",description:"Time interval message for every year"}),"timeout.last friday of the month":r.createElement(o.FormattedMessage,{id:"time.interval.lastFridayOfMonth",defaultMessage:"last Friday of the month",description:"Timeout message for the last friday of the month"})}},,function(e,t,n){"use strict";t.a=function(){return r},t.b=function(e){r=e};var r=void 0},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),a=(n.n(r),n(7)),i={"APIKeyStore.CreateSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.CreateSuccess.Title",defaultMessage:"API Key Created.",description:"Notification title text for when an API key is successfully created"}),body:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.CreateSuccess.Body",defaultMessage:"Please write down the secret key and enable this key when ready. Write it down somewhere safe! The secret key will no longer be available once you leave this page.",description:"Notification body text for when an API key is successfully created"})},"APIKeyStore.CreateDTCSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.CreateDTCSuccess.Title",defaultMessage:"Connected to Sierra Chart.",description:"Notification title text for when Sierra Chart is connected"}),body:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.CreateDTCSuccess.Body",defaultMessage:"Please open your Sierra Chart client and connect with your username: '{username}'.",description:"Notification body text for when Sierra Chart is connected"})},"APIKeyStore.CreateError":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.CreateError.Title",defaultMessage:"Error creating API Key.",description:"Notification title text for when an API key fails to be created"})},"APIKeyStore.DeleteSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.DeleteSuccess.Title",defaultMessage:"Deleted API key",description:"Notification title text for when an API is successfully deleted"}),body:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.DeleteSuccess.Body",defaultMessage:"The API key was successfully deleted.",description:"Notification body text for when an API is successfully deleted"})},"APIKeyStore.DeleteError":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.DeleteError.Title",defaultMessage:"Error deleting API key",description:"Notification title text for when an API key fails to be deleted"})},"APIKeyStore.DisableSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.DisableSuccess.Title",defaultMessage:"Disabled API key",description:"Notification title text for when an API key is successfully disabled"}),body:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.DisableSuccess.Body",defaultMessage:"The API key was successfully disabled.",description:"Notification body text for when an API key is successfully disabled"})},"APIKeyStore.DisableError":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.DisableError.Title",defaultMessage:"Error disabling API key",description:"Notification title text for when an API key fails to be disabled"})},"APIKeyStore.EnableSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.EnableSuccess.Title",defaultMessage:"Enabled API key",description:"Notification title text for when an API key is successfully enabled"}),body:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.EnableSuccess.Body",defaultMessage:"The API key was successfully enabled.",description:"Notification body text for when an API key is successfully enabled"})},"APIKeyStore.EnableError":{title:r.createElement(a.FormattedMessage,{id:"notification.APIKeyStore.EnableError.Title",defaultMessage:"Error enabling API key",description:"Notification title text for when an API key fails to be enabled"})},"BrowserStore.ClearStorage":{title:r.createElement(a.FormattedMessage,{id:"notification.BrowserStore.ClearStorage.Title",defaultMessage:"Browser Storage Cleared.",description:"Notification title text for when browser storage is successfully cleared"}),body:r.createElement(a.FormattedMessage,{id:"notification.BrowserStore.ClearStorage.Body",defaultMessage:"Please refresh for the changes to take effect.",description:"Notification body text for when browser storage is successfully cleared"})},"BrowserStore.LocaleSwitchFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.BrowserStore.LocaleSwitchFailure.Title",defaultMessage:"Unable to set locale",description:"Notification title text for when locale fails to switch"}),body:r.createElement(a.FormattedMessage,{id:"notification.BrowserStore.LocaleSwitchFailure.Body",defaultMessage:"Please try again. Error: {errorMessage}",description:"Notification body text for when locale fails to switch"})},"BVOLIndex.FetchError":{title:r.createElement(a.FormattedMessage,{id:"notification.BVOLIndex.FetchError.Title",defaultMessage:"Unable to fetch .BVOL Index History.",description:"Notification title text for when an API key fails to be enabled"})},"ChatStore.ChatError":{title:r.createElement(a.FormattedMessage,{id:"notification.ChatStore.ChatError.Title",defaultMessage:"Error posting message:",description:"Notification title text for when a user gets a chat error"})},"ChatStore.ChatMention":{title:r.createElement(a.FormattedMessage,{id:"notification.ChatStore.ChatMention.Title",defaultMessage:"You were mentioned in the following message:",description:"Notification title text for when a user is mentioned in the chat"})},"ChatStore.ChatBanned":{title:r.createElement(a.FormattedMessage,{id:"notification.ChatStore.ChatBanned.Title",defaultMessage:"Message not sent.",description:"Notification title text for when a user is banned from chat and attempts to chat"}),body:r.createElement(a.FormattedMessage,{id:"notification.ChatStore.ChatBanned.Body",defaultMessage:"You have been banned from chat.",description:"Notification title body for when a user is banned from chat and attempts to chat"})},"ExecutionStore.Deleverage":{title:r.createElement(a.FormattedMessage,{id:"notification.ExecutionStore.Deleverage.Title",defaultMessage:"Deleverage Notice",description:"Notification title text for giving notice of deleverage on a position"}),body:r.createElement(a.FormattedMessage,{id:"notification.ExecutionStore.Deleverage.Body",defaultMessage:"Your {isLong, select, true {long} other {short}} position of {oldQty, number} {symbol} {oldQty, plural, one {contract} other {contracts}} has been deleveraged by {delta, number} {delta, plural, one {contract} other {contracts}}. Your position is now {isLong, select, true {long} other {short}} {newQty, number} {newQty, plural, one {contract} other {contracts}}.",description:"Notification body text for giving notice of deleverage on a position"})},"HistoryStore.FetchFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.HistoryStore.FetchFailure.Title",defaultMessage:"Unable to fetch data.",description:"Notification title text for when retrieval of history data"})},"InstrumentStore.SelectFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.InstrumentStore.SelectFailure.Title",defaultMessage:"Could not switch to {symbol}.",description:"Notification title text for when an instrument cannot be selected"}),body:r.createElement(a.FormattedMessage,{id:"notification.InstrumentStore.SelectFailure.Body",defaultMessage:"{symbol} does not exist or has expired. {fallbackSymbol} has been selected instead.",description:"Notification body text for when an instrument cannot be selected"})},"LiquidationStore.Insert":{title:r.createElement(a.FormattedMessage,{id:"notification.LiquidationStore.Insert.Title",defaultMessage:"{symbol} {isBuy, select, true {Short} other {Long}} Liquidation",description:"Notification title text for when a liquidation happens"}),body:r.createElement(a.FormattedMessage,{id:"notification.LiquidationStore.Insert.Body",defaultMessage:"{isBuy, select, true {Buy} other {Sell}} {leavesQty} Cont @ {price}",description:"Notification title text for when user is getting liquidated"})},"MeStore.State.Liquidation":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.State.Liquidation.Title",defaultMessage:"Attention: Account is being liquidated",description:"Notification title text for when user is getting liquidated"}),body:r.createElement(a.FormattedMessage,{id:"notification.MeStore.State.Liquidation.Body",defaultMessage:"Your maintenance margin now exceeds your Margin Balance and your positions are being liquidated.  Please begin manually reducing your position to bring your Available Balance above {targetExcessMargin} or deposit more funds to prevent forced liquidation.",description:"Notification body text explaining why they are being liquidated"})},"MeStore.TFAEnableSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.TFAEnableSuccess.Title",defaultMessage:"Two-Factor Authentication enabled!",description:"Notification title text for when user successfully enables two factor authentication"}),body:r.createElement(a.FormattedMessage,{id:"notification.MeStore.TFAEnableSuccess.Body",defaultMessage:"2FA has successfully been added to your account. It will be required for logins and critical account actions.",description:"Notification body text for when user successfully enables two factor authentication"})},"MeStore.TFAEnableFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.TFAEnableFailure.Title",defaultMessage:"Unable to confirm two-factor auth token.",description:"Notification title text for when user fails to enable two factor authentication"})},"MeStore.TFADisableSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.TFADisableSuccess.Title",defaultMessage:"Two-Factor Authentication disabled.",description:"Notification title text for when user successfully disables two factor authentication"}),body:r.createElement(a.FormattedMessage,{id:"notification.MeStore.TFADisableSuccess.Body",defaultMessage:"2FA has successfully been removed from your account.",description:"Notification body text for when user successfully disables two factor authentication"})},"MeStore.TFADisableFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.TFADisableFailure.Title",defaultMessage:"Unable to disable two-factor auth.",description:"Notification title text for when user fails to disable two factor authentication"})},"MeStore.TFARequestFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.TFARequestFailure.Title",defaultMessage:"Unable to request two-factor auth token.",description:"Notification title text for when user fails to request a two factor token"})},"MeStore.UpdateSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.UpdateSuccess.Title",defaultMessage:"Success.",description:"Notification title text for when user successfully updates profile"}),body:r.createElement(a.FormattedMessage,{id:"notification.MeStore.UpdateSuccess.Body",defaultMessage:"User updated.",description:"Notification body text for when user successfully updates profile"})},"MeStore.UpdateFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.MeStore.UpdateFailure.Title",defaultMessage:"User update failed.",description:"Notification title text for when user fails to update profile"})},"Notificationify.OperationSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.Notificationify.OperationSuccess.Title",defaultMessage:"Operation Success",description:"Notification title text for when an operation is completed successfully"})},"Notificationify.OperationFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.Notificationify.OperationFailure.Title",defaultMessage:"Operation Failure",description:"Notification title text for when an operation fails to complete"})},"OptionStore.SetOptionFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.OptionStore.SetOptionFailure.Title",defaultMessage:"Could not set option.",description:"Notification title text for when an option fails to set."})},"OrderStore.AmendFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.AmendFailure.Title",defaultMessage:"Order Amend Error.",description:"Notification title text for when an order fails to amend"}),body:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.AmendFailure.Body",defaultMessage:"Order could not be amended: {errorMessage}",description:"Notification body text for when an order fails to amend"})},"OrderStore.AmendSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.AmendSuccess.Title",defaultMessage:"Order Amended.",description:"Notification title for when an order successfully amends."}),body:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.AmendSuccess.Body",defaultMessage:"{symbol} Order {key} amended from {oldValue} to {value}.",description:"Notification body text for when an order successfully amends"})},"OrderStore.CancelFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.CancelFailure.Title",defaultMessage:"Order Cancellation Error.",description:"Notification title text for when an order fails to cancel"}),body:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.CancelFailure.Body",defaultMessage:"Order could not be cancelled: {errorMessage}",description:"Notification body text for when an order fails to cancel"})},"OrderStore.OrderStatus":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.OrderStatus.Title",defaultMessage:"Order {status}:",description:"Notification title text for when an order status changes"})},"OrderStore.SubmitSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.SubmitSuccess.Title",defaultMessage:"Order Submitted:",description:"Notification title text for when order submits successfully"})},"OrderStore.SubmitFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.SubmitFailure.Title",defaultMessage:"Order Submission Error.",description:"Notification title text for when an order fails to submit"}),body:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.SubmitFailure.Body",defaultMessage:"Order could not be submitted: {errorMessage}",description:"Notification body text for when an order fails to submit"}),errorMessage:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.SubmitFailure.UnknownError",defaultMessage:"Unknown Order Submission Error.",description:"Notification body text for when an order fails to submit"})},"OrderStore.UpdateOrder.Filled":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.UpdateOrder.Filled.Title",defaultMessage:"Order Filled:",description:"Notification title text for when an order is filled"}),body:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.UpdateOrder.Filled.Body",defaultMessage:"{delta, number} {delta, plural, one {contract} other {contracts}} of {symbol} {side, select, Buy {bought} other {sold}} at {price}. The order has fully filled.",description:"Notification title text for when an order fails to submit"})},"OrderStore.UpdateOrder.PartialFill":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.UpdateOrder.PartialFill.Title",defaultMessage:"{delta, number} {delta, plural, one {contract} other {contracts}} {side, select, Buy {Bought} other {Sold}}:",description:"Notification title text for when a order is partially filled"}),body:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.UpdateOrder.PartialFill.Body",defaultMessage:"{delta, number} {delta, plural, one {contract} other {contracts}} of {symbol} {side, select, Buy {bought} other {sold}} at {price}. {quantityLeft, number} {quantityLeft, plural, one {contract} other {contracts}} {quantityLeft, plural, one {remains} other {remain}} in the order.",description:"Notification title text for when an order fails to submit"})},"OrderStore.UpdateOrder.Stop":{title:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.UpdateOrder.Stop.Title",defaultMessage:"Stop Triggered:",description:"Notification title text for when a stop is triggered."}),body:r.createElement(a.FormattedMessage,{id:"notification.OrderStore.UpdateOrder.Stop.Body",defaultMessage:"A stop to {side, select, Buy {buy} other {sell}} {orderQty, number} {orderQty, plural, one {contract} other {contracts}} of {symbol} at {price} has been triggered.",description:"Notification title text for when a stop is triggered."})},"PositionStore.CloseFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.CloseFailure.Title",defaultMessage:"Unable to close position: {symbol}.",description:"Notification title text for when a position fails to close"})},"PositionStore.IsolateFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.IsolateFailure.Title",defaultMessage:"Unable to isolate margin on position: {symbol}.",description:"Notification title text for when a position fails to isolate margin"})},"PositionStore.Liquidation":{title:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.Liquidation.Title",defaultMessage:"Liquidation Notice",description:"Notification title text for giving notice of liquidation on a position"}),body:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.Liquidation.Body",defaultMessage:"Your {isLong, select, true {long} other {short}} position of {quantity, number} {symbol} {quantity, plural, one {contract} other {contracts}} has reached its liquidation price of {price} and has been liquidated.",description:"Notification body text for giving notice of liquidation on a position"})},"PositionStore.RiskLimitSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.RiskLimitSuccess.Title",defaultMessage:"Successfully set risk limit.",description:"Notification title text for when a new risk limit is set successfully"}),body:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.RiskLimitSuccess.Body",defaultMessage:"Your new {symbol} risk limit is {riskLimit}.",description:"Notification body text for when a new risk limit is set successfully"})},"PositionStore.TransferMarginSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.TransferMarginSuccess.Title",defaultMessage:"Successfully transferred margin.",description:"Notification title text for when a new risk limit is set successfully"}),body:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.TransferMarginSuccess.Body",defaultMessage:"{isAdded, select, true {Added} other {Subtracted}} {currencyString} {isAdded, select, true {to} false {from} other {from}} your {symbol} position.",description:"Notification body text for when a new risk limit is set successfully"})},"PositionStore.TransferMarginFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.TransferMarginFailure.Title",defaultMessage:"Unable to transfer margin on position: {symbol}.",description:"Notification title text for when a new risk limit fails to be set"})},"PositionStore.UpdateLeverageFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.PositionStore.UpdateLeverageFailure.Title",defaultMessage:"Unable to update leverage on position: {symbol}.",description:"Notification title text for when a new leverage ails to be set"})},"PriceIndex.FetchError":{title:r.createElement(a.FormattedMessage,{id:"notification.PriceIndex.FetchError.Title",defaultMessage:"Unable to fetch {symbol} Index History",description:"Notification title text for when a user is mentioned in the chat"})},"TradeStore.FetchFailure":{title:r.createElement(a.FormattedMessage,{id:"notification.TradeStore.FetchFailure.Title",defaultMessage:"Unable to fetch trades.",description:"Notification title text for when additional trades fail to be retrieved"})},"WalletStore.CancelWithdrawalSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.CancelWithdrawalSuccess.Title",defaultMessage:"Withdrawal Canceled",description:"Notification title text for when a user successfully cancels a withdrawal"}),body:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.CancelWithdrawalSuccess.Body",defaultMessage:"Your withdrawal has been successfully canceled. The funds have been returned to your wallet.",description:"Notification body text for when a user successfully cancels a withdrawal"})},"WalletStore.CancelWithdrawalError":{title:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.CancelWithdrawalError.Title",defaultMessage:"Withdrawal Not Canceled",description:"Notification title text for when a user fails to cancel a withdrawal"}),body:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.CancelWithdrawalError.Body",defaultMessage:"Your withdrawal could not be canceled: {errorMessage}",description:"Notification body text for when a user fails to cancel a withdrawal"})},"WalletStore.WithdrawalSuccess":{title:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.WithdrawalSuccess.Title",defaultMessage:"Withdrawal Completed",description:"Notification title text for when a user successfully withdraws from their account"}),body:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.WithdrawalSuccess.Body",defaultMessage:"A withdrawal for {amount} has been successfully completed.",description:"Notification body text for when a user successfully withdraws from their account"})},"WalletStore.WithdrawalRequested":{title:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.WithdrawalRequested.Title",defaultMessage:"Withdrawal Requested",description:"Notification title text for when a user requests a withdrawal from their account"}),body:r.createElement(a.FormattedMessage,{id:"notification.WalletStore.WithdrawalRequested.Body",defaultMessage:"A withdrawal for {amount} has been successfully requested. Please check your email to confirm this transaction.",description:"Notification body text for when a user requests a withdrawal from their account"})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"ORDER_TYPES",function(){return E}),n.d(t,"TIF_TYPES",function(){return w}),n.d(t,"default",function(){return S});var r=n(6),a=n.n(r),i=n(35),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(33),f=n(5),h=n.n(f),g=n(18),y=n.n(g),b=n(206),v=n(10),E=(y()("frontend:ui:OrderInputStore"),["Limit","Market","StopLimit","Stop","TrailingStopMarket","LimitIfTouched","MarketIfTouched"]),w=["GoodTillCancel","ImmediateOrCancel","FillOrKill"],M={price:0,stopPx:0,pegOffsetValue:0,orderQty:1,displayQty:null,ordType:"Limit",postOnlyExecInst:!1,lastPriceExecInst:!0,indexPriceExecInst:!1,closeExecInst:!0,reduceOnlyExecInst:!1,timeInForce:"GoodTillCancel"},S=function(t){function n(){var e,r,a;l()(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u()(this,t.call.apply(t,[this].concat(o))),r.orderInputMap={},r.orderInputUpdatedMap={},a=e,u()(r,a)}return p()(n,t),n.prototype.load=function(e){this.selectedSymbol=e.selectedSymbol},n.prototype.getOrderInput=function(e){if(e||(e=this.selectedSymbol),!this.orderInputMap[e]||!this.orderInputUpdatedMap[e]){var t=this.app.stores.getStore("InstrumentStore").getSelectedInstrument();this.orderInputMap[e]=(n=this.orderInputMap[e],i=k(r=t),h.a.mapValues(a()({},M,n,(o=i,s=r.tickSize,{price:o,stopPx:x(o>0?o-s:o+s,s)})),function(e,t){return null==e?M[t]:e})),this.orderInputUpdatedMap[e]=!0}var n,r,i,o,s;return this.orderInputMap[e]},n.prototype.onChangeInput=function(t){var n=this,r=this.orderInputMap[this.selectedSymbol],i=(t=h.a.mapValues(t,function(t,r){if("number"==typeof M[r]&&"number"!=typeof t){if("number"!=typeof t)throw new Error("Order Input "+r+" must be a number!");if(!o()(t)&&(t=0,e.browser&&window.Raven)){var a=new Error("OrderInput change to "+r+" was "+t+". Resetting to 0.");window.Raven.captureException(a)}}return"orderQty"===r||"displayQty"===r?Math.floor(t):"price"===r||"stopPx"===r?x(t,n.app.stores.getStore("InstrumentStore").getSelectedInstrument().tickSize):t})).ordType;"Market"!==i&&"Stop"!==i||(t.price=k(this.app.stores.getStore("InstrumentStore").getSelectedInstrument())),i&&!h.a.includes(E,i)&&(t.ordType="Market"),t.timeInForce&&!h.a.includes(w,t.timeInForce)&&(t.timeInForce="GoodTillCancel"),"number"==typeof r.displayQty&&r.postOnlyExecInst&&(t.displayQty=null,t.postOnlyExecInst=!1);var s=a()({},r,t);h.a.isEqual(r,s)||(this.orderInputMap[this.selectedSymbol]=s,this.emit("change"))},n.prototype.onDisableInput=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.name;if("displayQty"!==r)throw new Error("Only displayQty can be disabled.");this.orderInputMap[this.selectedSymbol]=a()({},this.orderInputMap[this.selectedSymbol],((t={})[r]=null,t)),!1!==n.emit&&this.emit("change")},n.prototype.onSelectInstrument=function(e){if(this.selectedSymbol!==e.symbol){var t=this.orderInputMap[this.selectedSymbol];this.selectedSymbol=e.symbol;var n=this.orderInputMap[e.symbol]||a()({},M);n.ordType=t.ordType,this.orderInputMap[e.symbol]=n,this.emit("change")}},n}(m.a);function x(e,t){return parseFloat(Object(v.t)(e,t))}function k(e){var t=e.midPrice,n=e.lastPrice,r=e.tickSize;return x(t||n||1,r)}S.actions={CHANGE_ORDER_INPUT:"onChangeInput",DISABLE_ORDER_INPUT:"onDisableInput",SELECT_INSTRUMENT:"onSelectInstrument"},S.mixins=[Object(b.a)({name:"OrderInput",keys:["orderInputMap"]})]}.call(t,n(12))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(19),u=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(c.a));u.typeName="Trade",u.idAttribute="trdMatchID";t.a=Object(c.c)(u)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(28),a=n.n(r),i=n(428),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(4)),h=n(23),g=n(5),y=n.n(g),b=n(7),v=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.state={time:Date.now()},r.tick=function(e){r.mounted&&r.setState({time:e})},a=n,u()(r,a)}return p()(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,function(e){w.size||(M=setTimeout(S,E));w.add(e)}(this.tick)},t.prototype.componentWillUnmount=function(){var e;this.mounted=!1,e=this.tick,w.delete(e),0===w.size&&clearTimeout(M)},t.prototype.render=function(){var e=this.props.component,t=this.state.time?this.props.renderer(this.state.time,this.props.countdown,this.context.timezoneOffset):"";return m.createElement(e,{className:"currentTime"},t)},t}(f.a);v.displayName="CurrentTime",v.defaultProps={component:"div",renderer:function(e,t,n){if(t)return y.a.upperFirst(h.h(e,t,{addSuffix:!0}));return m.createElement(b.FormattedTime,{format:"full",value:e})}};var E=1e3,w=new o.a,M=void 0;function S(){var e=Math.round(Date.now()/E)*E,t=w.values(),n=Array.isArray(t),r=0;for(t=n?t:a()(t);;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}i(e)}var o=E-Date.now()%E;M=setTimeout(S,o)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(8),p=n(58),m=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={csrfToken:"placeholder"},r.onFormLinkClick=function(e){e.preventDefault();var t=e.currentTarget.parentNode;r.setState({csrfToken:p.a.csrfToken},function(){t.submit()})},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=c.Children.only(this.props.children),t="/logout"+(this.props.logoutAll?"?all=true":"");return c.createElement("form",{method:"POST",action:t},c.cloneElement(e,{onClick:this.onFormLinkClick}),c.createElement("input",{type:"hidden",name:"_csrf",value:this.state.csrfToken}))},t}(u.a);m.displayName="Logout",t.a=Object(d.a)(function(e){return{actions:e.actions,me:e.me}})(m)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onWheel=function(e){var t=e.currentTarget;t.scrollHeight<=t.clientHeight||(t.clientHeight+t.scrollTop+e.deltaY>=t.scrollHeight?(e.preventDefault(),t.scrollTop=t.scrollHeight):t.scrollTop+e.deltaY<=0&&(e.preventDefault(),t.scrollTop=0))},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){return this.props.children?c.cloneElement(c.Children.only(this.props.children),{onWheel:this.onWheel}):null},t}(c.Component));u.displayName="PreventBodyScrolling"},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(8),p=n(5),m=(n.n(p),function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onChange=function(e){var t;if(e.target instanceof window.HTMLInputElement){var n=e.target.checked;r.props.value!==n&&r.props.setOption(((t={})[r.props.keyName]=n,t))}},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.disabled,r=e.keyName,a=e.value;return c.createElement("input",{id:r,type:"checkbox",className:t,name:r,disabled:n,defaultChecked:Boolean(a),onChange:this.onChange})},t}(u.a));m.displayName="CheckboxSelector",m.defaultProps={className:"",disabled:!1},t.a=Object(d.a)(function(e){return{setOption:e.actions.setOption}})(m)},function(e,t,n){var r;!function(t){"use strict";var a=function(){},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function o(){this.reads=[],this.writes=[],this.raf=i.bind(t),a("initialized",this)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){a("flush");var t,n=e.writes,r=e.reads;try{a("flushing reads",r.length),l(r),a("flushing writes",n.length),l(n)}catch(e){t=e}e.scheduled=!1,(r.length||n.length)&&s(e);if(t){if(a("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)),a("flush scheduled"))}function l(e){var t;for(a("run tasks");t=e.shift();)t()}function c(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}o.prototype={constructor:o,measure:function(e,t){a("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){a("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return a("clear",e),c(this.reads,e)||c(this.writes,e)},extend:function(e){if(a("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new o;void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r)}("undefined"!=typeof window?window:this)},,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(3),a=(n.n(r),n(7)),i={alertOnLiquidations:r.createElement(a.FormattedMessage,{id:"preferences.label.alertOnLiquidations",defaultMessage:"Alert on Liquidations",description:"Tooltip title text for the alert on liquidations option"}),"Always Show On Mobile":r.createElement(a.FormattedMessage,{id:"preferences.label.alwaysConfirm",defaultMessage:"Always Show On Mobile",description:"Label for always show confirm dialog option"}),"Amending Price Would Match":r.createElement(a.FormattedMessage,{id:"preferences.label.amendWouldMatch",defaultMessage:"Amending Price Would Match",description:"Label for amending order price, would hit book"}),"Amending Stop Price Would Trigger":r.createElement(a.FormattedMessage,{id:"preferences.label.amendWouldTrigger",defaultMessage:"Amending Stop Price Would Trigger",description:"Label for amending order stopPx, would trigger"}),animationsEnabled:r.createElement(a.FormattedMessage,{id:"preferences.label.animations",defaultMessage:"Animations",description:"Option label text for animations"}),"Chat Mention":r.createElement(a.FormattedMessage,{id:"preferences.label.chatMention",defaultMessage:"Chat Mention",description:"Label text for chat mention preference"}),"Confirmation Dialogs":r.createElement(a.FormattedMessage,{id:"preferences.legend.confirmationDialogs",defaultMessage:"Confirmation Dialogs",description:"Legend for confirmation dialogs preferences section"}),Currency:r.createElement(a.FormattedMessage,{id:"preferences.label.currency",defaultMessage:"Currency",description:"Label for currency preference option"}),Debug:r.createElement(a.FormattedMessage,{id:"preferences.legend.debug",defaultMessage:"Debug",description:"Legend for debug preferences section"}),Deleverage:r.createElement(a.FormattedMessage,{id:"preferences.label.deleverage",defaultMessage:"Deleverage",description:"Label text for deleverage preference"}),Deposit:r.createElement(a.FormattedMessage,{id:"preferences.label.deposit",defaultMessage:"Deposit",description:"Label text for deposit notification preference"}),"Deposit Confirmed":r.createElement(a.FormattedMessage,{id:"preferences.label.depositConfirmed",defaultMessage:"Deposit Confirmed",description:"Label for deposit confirmed preference"}),"Deposit Pending":r.createElement(a.FormattedMessage,{id:"preferences.label.depositPending",defaultMessage:"Deposit Pending",description:"Label for deposit pending email notification option"}),"Email Notifications":r.createElement(a.FormattedMessage,{id:"preferences.legend.emailNotifications",defaultMessage:"Email Notifications",description:"Legend for email notification options section"}),"Fat Finger Protection":r.createElement(a.FormattedMessage,{id:"preferences.label.fatFingerProtection",defaultMessage:"Fat Finger Protection",description:"Label text for fat finger protection dialog preference"}),General:r.createElement(a.FormattedMessage,{id:"preferences.legend.general",defaultMessage:"General",description:"Legend for general preference options section"}),Leaderboard:r.createElement(a.FormattedMessage,{id:"preferences.legend.leaderboard",defaultMessage:"Leaderboard",description:"Legend for leaderboard preferences section"}),"Limit Close Position":r.createElement(a.FormattedMessage,{id:"preferences.label.confirmLimitClose",defaultMessage:"Limit Close Position",description:"Label text for confirm limit close dialog preference"}),"Limit Order":r.createElement(a.FormattedMessage,{id:"preferences.label.confirmLimit",defaultMessage:"Limit Order",description:"Label text for confirm limit dialog preference"}),Liquidation:r.createElement(a.FormattedMessage,{id:"preferences.label.liquidation",defaultMessage:"Liquidation",description:"Label text for liquidation preference"}),"Liquidation or Margin call":r.createElement(a.FormattedMessage,{id:"preferences.label.liquidationMarginCall",defaultMessage:"Liquidation or Margin call",description:"Label text for liquidation or margin call preference"}),"Market Order":r.createElement(a.FormattedMessage,{id:"preferences.label.confirmMarket",defaultMessage:"Market Order",description:"Label text for confirm market dialog preference"}),"Order Amended":r.createElement(a.FormattedMessage,{id:"preferences.label.orderAmended",defaultMessage:"Order Amended",description:"Label for order amended preference"}),"Order Canceled":r.createElement(a.FormattedMessage,{id:"preferences.label.orderCanceled",defaultMessage:"Order Canceled",description:"Label for oder canceled preference"}),"Order Filled":r.createElement(a.FormattedMessage,{id:"preferences.label.orderFilled",defaultMessage:"Order Filled",description:"Label for order filled preference"}),"Order Partially Filled":r.createElement(a.FormattedMessage,{id:"preferences.label.orderPartiallyFilled",defaultMessage:"Order Partially Filled",description:"Label text for order partially filled notification preference"}),"Order Submitted":r.createElement(a.FormattedMessage,{id:"preferences.label.orderSubmitted",defaultMessage:"Order Submitted",description:"Label text for order submitted preference"}),showLocaleNumbers:r.createElement(a.FormattedMessage,{id:"preferences.label.showLocaleNumbers",defaultMessage:"Show Number Separators",description:"Label text for locale numbers preferences"}),"Show Connection Modal":r.createElement(a.FormattedMessage,{id:"preferences.label.connectionModal",defaultMessage:"Show Connection Modal",description:"Label for option that makes connection modal show when internet issues arise"}),"Show in Leaderboard":r.createElement(a.FormattedMessage,{id:"preferences.label.joinLeaderboard",defaultMessage:"Show in Leaderboard",description:"Label text for leaderboard option"}),"Show Real Username":r.createElement(a.FormattedMessage,{id:"preferences.label.showUsername",defaultMessage:"Show Real Username",description:"Label text for showing username option"}),"Site Notifications":r.createElement(a.FormattedMessage,{id:"preferences.legend.siteNotifications",defaultMessage:"Site Notifications",description:"Legend for site notification options section"}),Sounds:r.createElement(a.FormattedMessage,{id:"preferences.legend.sounds",defaultMessage:"Sounds",description:"Legend for sound preferences section"}),"Stop Limit Order":r.createElement(a.FormattedMessage,{id:"preferences.label.confirmStopLimit",defaultMessage:"Stop Limit Order",description:"Label text for confirm stop limit dialog preference"}),"Stop Market Order":r.createElement(a.FormattedMessage,{id:"preferences.label.confirmStopMarket",defaultMessage:"Stop Market Order",description:"Label text for confirm stop market dialog preference"}),"Stop Triggered":r.createElement(a.FormattedMessage,{id:"preferences.label.stopTriggered",defaultMessage:"Stop Triggered",description:"Label text for stop triggered notification preference"}),Theme:r.createElement(a.FormattedMessage,{id:"preferences.label.theme",defaultMessage:"Theme",description:"Label for theme preference option"}),"Withdrawal Completed":r.createElement(a.FormattedMessage,{id:"preferences.label.withdrawalCompleted",defaultMessage:"Withdrawal Completed",description:"Label for withdrawal completed email notification option"}),"Withdrawal Sent":r.createElement(a.FormattedMessage,{id:"preferences.label.withdrawal",defaultMessage:"Withdrawal Sent",description:"Label text for withdrawal notification preference"})},o={alertOnLiquidations:r.createElement(a.FormattedMessage,{id:"preferences.help.alertOnLiquidations",defaultMessage:"Show BitMEX alerts when liquidations enter the orderbook.",description:"Tooltip text describing liquidation alerts"}),alwaysConfirm:r.createElement(a.FormattedMessage,{id:"preferences.help.alwaysConfirm",defaultMessage:"On mobile devices, due to possible fat-fingering, we force-enable all confirmation dialogs. You can disable this behavior here.",description:"Help text for always show confirm dialog option"}),animationsEnabled:r.createElement(a.FormattedMessage,{id:"preferences.help.animationsEnabled",defaultMessage:"To save CPU power, you can disable BitMEX animations. This is good to do if the site is running slowly or you wish to save battery life.",description:"Help text for always show confirm dialog option"}),fatFingerProtection:r.createElement(a.FormattedMessage,{id:"preferences.help.fatFingerProtection",defaultMessage:"If an order is placed to deep into the market, the system will re-prompt you to confirm your price before placing the order. Disable this protection with caution! Most users should leave it on.",description:"Help text for fat finger protection dialog preference"}),joinLeaderboard:r.createElement(a.FormattedMessage,{id:"preferences.help.joinLeaderboard",defaultMessage:"If ticked, your account may show in the leaderboard.",description:"Help text for leaderboard option"}),hideConnectionModal:r.createElement(a.FormattedMessage,{id:"preferences.helpText.hideConnectionModal",defaultMessage:"BitMEX is a fast-moving platform. When you lose your market data connection, we disable trading to help protect you from unseen market movements. You can disable this if your connection is unstable and you are willing to accept the tradeoffs.",description:"Help text for the option to enable/disable a modal being shown when internet issues arise"}),showLocaleNumbers:r.createElement(a.FormattedMessage,{id:"preferences.help.showLocaleNumbers",defaultMessage:'If set, will input locale-aware number separators in some panels, like "3,000,000". Uncheck to remove these.',description:"Help text for showing number locale separators"}),showUsername:r.createElement(a.FormattedMessage,{id:"preferences.help.showUsername",defaultMessage:"Tick to show your real username in the leaderboard, instead of our generated one.",description:"Help text for showing username option"})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(52),p=n.n(d),m=n(245),f=(n.n(m),n(22)),h=n.n(f),g=n(40),y=n(5),b=n.n(y),v=n(9),E=c.createElement("i",{className:"fa fa-close"}),w=function(t){function n(){var e,r,i;a()(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=r=o()(this,t.call.apply(t,[this].concat(l))),r.checkHeight=function(){var e=h.a.findDOMNode(r.panel);if(e instanceof HTMLElement&&e.parentNode instanceof HTMLElement){var t=e.clientHeight>window.innerHeight;e.parentNode.parentNode.classList[t?"add":"remove"]("overflowedVert")}},r.onKeyDown=function(e){27===e.keyCode&&r.props.showCancel?r.onCancel(e):13!==e.keyCode||r.props.confirmDisabled||r.onConfirm(e)},r.onCancel=function(e){r.props.onCancel(e)},r.onConfirm=function(e){r.props.onConfirm(e)},r.onMaskClick=function(e){if(e.target===e.currentTarget)return r.onCancel(e)},i=e,o()(r,i)}return l()(n,t),n.prototype.componentDidMount=function(){if(!h.a.findDOMNode.__mocked){var e=h.a.findDOMNode(this.confirm);e instanceof HTMLElement&&e.focus();try{var t=document.querySelectorAll(".tooltipWrapper.hovered, .tooltipWrapper.rendering"),n=new MouseEvent("mouseout",{bubbles:!0,cancelable:!1,view:window});b.a.each(t,function(e){e.dispatchEvent(n)})}catch(e){}this.checkHeight()}},n.prototype.render=function(){var t=this,n=c.createElement(g.a,{className:"dialog",title:this.props.title,showFullscreen:!1,showMinimize:!1,ref:function(e){return t.panel=e},key:"panel"},this.props.children," ",this.props.showCancel?c.createElement("i",{className:"fa fa-close cornerClose",onClick:this.onCancel}):null,c.createElement("div",{className:"buttons pin-bottom"},this.props.showCancel?c.createElement("button",{className:"btn-lg btn btn-default",onClick:this.onCancel},E," ",this.props.cancelText||v.a.Cancel):null,c.createElement("button",{className:"btn-lg btn btn-primary",onClick:this.onConfirm,disabled:this.props.confirmDisabled,ref:function(e){return t.confirm=e}},this.props.confirmText||v.a.Confirm)));return this.props.animated&&e.browser&&(n=c.createElement(m.CSSTransition,{classNames:"dialogOpen",enter:!1,exit:!1,appear:!0,timeout:300,in:!0},n)),c.createElement("div",{className:"dialogWrapper verticalAlignFlexParent "+this.props.className,onClick:this.props.showCancel?this.onMaskClick:null},c.createElement(p.a,{onResize:this.checkHeight,target:e.browser?window:null,passive:!0}),c.createElement(p.a,{onKeyDown:this.onKeyDown,passive:!0}),n)},n}(u.a);w.displayName="Dialog",w.defaultProps={animated:!0,className:"",confirmDisabled:!1,showCancel:!0}}).call(t,n(12))},function(e,t,n){"use strict";var r=n(28),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(5),p=(n.n(d),n(3)),m=(n.n(p),n(224)),f=n.n(m),h=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){return this.props.children?p.Children.only(this.props.children):null},t}(p.Component);h.displayName="DocumentClassName";var g=[];t.a=f()(function(e){return e.map(function(e){return e.className})},function(e){var t=document.body.classList,n=e,r=Array.isArray(n),i=0;for(n=r?n:a()(n);;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var s=o;t.add(s)}var l=g,c=Array.isArray(l),u=0;for(l=c?l:a()(l);;){var p;if(c){if(u>=l.length)break;p=l[u++]}else{if((u=l.next()).done)break;p=u.value}var m=p;Object(d.includes)(e,m)||t.remove(m)}g=e})(h)},function(e,t,n){"use strict";t.a=function(){if(document.getElementById("iframe-hack"))return;s("iframe","pointer-events","none")},t.b=function(){s("iframe","pointer-events","all")};var r=n(28),a=n.n(r),i=n(76),o=n.n(i);function s(e,t,n){var r=o()(document.querySelectorAll(e)),i=Array.isArray(r),s=0;for(r=i?r:a()(r);;){var l;if(i){if(s>=r.length)break;l=r[s++]}else{if((s=r.next()).done)break;l=s.value}l.style[t]=n}}},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(27),f=n.n(m),h=n(3),g=(n.n(h),h.createElement("span",{className:"track"})),y=h.createElement("span",{className:"button"}),b=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(){r.props.onChange&&r.props.onChange(!r.props.checked)},a=n,u()(r,a)}return p()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.checked,r=(e.onChange,e.name),i=o()(e,["className","checked","onChange","name"]),s=f()("u-switch",{"is-checked":n},t);return h.createElement("label",a()({},i,{onClick:this.handleClick,className:s}),h.createElement("input",{type:"hidden",name:r,value:n?"yes":"no"}),g,y)},t}(h.Component);b.displayName="InputSwitch",b.defaultProps={checked:!1,className:""}},function(e,t,n){"use strict";(function(e){var r=n(24),a=n.n(r),i=n(6),o=n.n(i),s=n(26),l=n.n(s),c=n(28),u=n.n(c),d=n(0),p=n.n(d),m=n(1),f=n.n(m),h=n(2),g=n.n(h),y=n(3),b=(n.n(y),n(4)),v=n(8),E=n(7),w=n(10),M=n(5),S=n.n(M),x=n(85),k=n(11),T={},C=y.createElement("span",null),N=y.createElement(E.FormattedMessage,{id:"tradingViewChart.button.touchEnable",defaultMessage:"Touch to enable chart.",description:"Text instructing user to touch the button to enable chart"}),P=y.createElement(E.FormattedMessage,{id:"tradingViewChart.button.clickEnable",defaultMessage:"Click to enable chart.",description:"Text instructing user to click the button to enable chart"}),O=function(t){function n(){var e,r,a;p()(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=f()(this,t.call.apply(t,[this].concat(o))),r.state={childMounted:!1,explicitlyEnabled:!1,mounted:!1,restartCount:0,url:r.generateURL(r.props),useForeignOrigin:!0},r.cmdQueue=[],r.streams={},r.liquidationStreams={},r.onEnableChart=function(e){r.setState({explicitlyEnabled:!0})},r.onTVMessage=function(e){if(e.data&&"tradingView"===e.data.id){var t=e.data.data;if("chartReady"===t.event)r.setState({childMounted:!0}),r._sendMessage({cmd:"chartReadyAck"}),r.updatePosition(),r.updateOrders(),r._sendMessage({cmd:"changeReferenceSymbol",data:r.getReferenceSymbol(r.props)}),r.cmdQueue.forEach(r._sendMessage),r.cmdQueue=[];else if("orderCancel"===t.event)r.props.actions.cancelOrder({orderID:t.data});else if("orderAmend"===t.event){var n,a=t.data.id,i=r.props.myOpenOrders.get(a);if(!i)return;var o=i.isStop,s=i.isTrailing,l=o?"stopPx":"price",c=t.data.price,u=r.props.selectedPosition.tickSize;c="Buy"===i.side?Number(w.t(c,u)):Number(w.u(c,u)),s&&(l="pegOffsetValue",c=c-i.stopPx+i.pegOffsetValue),r.props.actions.amendOrder(((n={orderID:a})[l]=c,n.cb=function(e){e&&(r.lastOrders=[],r.updateOrders())},n))}else"gotBars"===t.event?r.loadLatestTrade(t.symbol):"showLiquidationMarkers"===t.event?r.props.actions.openDialog({component:"DisplayLiquidationsDialog",props:{},dialogKey:"displayLiquidationDialog"}):"addStream"===t.event?r.addStream(t.symbol):"endStream"===t.event?r.endStream(t.symbol):"error"===t.event&&r.onTVError(t.message)}},r.onInstrumentUpdate=function(e,t){if(e&&e.data&&e.data.length){var n=e.data[0];n&&n.indicativeSettlePrice&&(t||(t=r.getReferenceSymbol(r.props,n.symbol)),r.updateTrades([{timestamp:n.timestamp,price:n.indicativeSettlePrice,symbol:t}]))}},r.onTrade=function(e){if("insert"===e.action){var t=e.data;t&&r.updateTrades(t)}},r.onLiquidation=function(e){if("insert"===e.action&&e.data&&e.data.length){var t=e.data,n=Array.isArray(t),a=0;for(t=n?t:u()(t);;){var i;if(n){if(a>=t.length)break;i=t[a++]}else{if((a=t.next()).done)break;i=a.value}var o=i;r.addLiquidation(o)}}},r._sendMessage=function(e){var t=r.parentFrame;t&&t.contentWindow&&r.state.childMounted?t.contentWindow.postMessage(e,r.getChartOrigin()):r.cmdQueue.push(e)},a=e,f()(r,a)}return g()(n,t),n.prototype.componentDidMount=function(){this.setState({mounted:!0}),window.addEventListener("message",this.onTVMessage)},n.prototype.componentDidUpdate=function(e,t){var n=e.selectedPosition!==this.props.selectedPosition,r=e.myOpenOrders!==this.props.myOpenOrders,a=e.selectedSymbol!==this.props.selectedSymbol,i=e.options.colorTheme!==this.props.options.colorTheme;a&&(this._sendMessage({cmd:"changeSymbol",data:this.props.selectedSymbol}),this._sendMessage({cmd:"changeReferenceSymbol",data:this.getReferenceSymbol(this.props)}),r=!0,n=!0),i&&this.restartChart(),r&&this.updateOrders(),n&&this.updatePosition(),e.connectionStatus.websocket!==this.props.connectionStatus.websocket&&"connected"===this.props.connectionStatus.websocket&&this.reloadBins()},n.prototype.componentWillReceiveProps=function(t){if(e.browser){var n=this.props.locale!==t.locale;(!F(this.props.responsiveSize)&&!this.state.explicitlyEnabled||n)&&this.setState({url:this.generateURL(t)})}},n.prototype.componentWillUnmount=function(){var e=this;l()(o()({},this.streams,this.liquidationStreams)).forEach(function(t){return e.endStream(t)}),window.removeEventListener("message",this.onTVMessage),this.parentFrame&&this.parentFrame.contentWindow&&(this.parentFrame.contentWindow.location.href="about:blank"),delete this.parentFrame},n.prototype.addStream=function(e){var t=this.props.getWebSocketStream;if(!this.streams[e]&&t)if("."===e[0]){var n=this.props.selectedSymbol;this.streams[e]=t("instrument:"+n,!1),this.streams[e].on("data",this.onInstrumentUpdate)}else{if(this.streams[e]=t("trade:"+e),this.streams[e].on("data",this.onTrade),this.liquidationStreams[e])return;(this.liquidationStreams[e]=t("liquidation")).on("data",this.onLiquidation)}},n.prototype.endStream=function(e){for(var t=[this.streams,this.liquidationStreams],n=0;n<t.length;n++){var r=t[n],a=r[e];a&&(a.end(),a.removeListener("data",this.onTrade),a.removeListener("data",this.onInstrumentUpdate),a.removeListener("data",this.onLiquidation),delete r[e])}},n.prototype.generateURL=function(e,t){var n=e.locale,r=e.options,a=e.revision,i=e.selectedSymbol,o=t&&t.restartCount||0;return this.getChartOrigin(e,t)+"/chartEmbed?symbol="+i+"&cache="+a+"&theme="+r.colorTheme+"&locale="+n+"&restart="+o+"&origin="+e.thisOrigin},n.prototype.getChartOrigin=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t&&!1===t.useForeignOrigin?e.thisOrigin:e.chartOrigin},n.prototype.getReferenceSymbol=function(e,t){if(t||(t=e.selectedSymbol),"string"==typeof T[t])return T[t];for(var n=t;;){var r=e.instruments.get(n)||e.indices.get(n);if(!r){n="";break}if(r.calcInterval&&Number(r.calcInterval)===Number(r.publishInterval)){n=r.referenceSymbol;break}if("MRRXXX"===r.typ||r.isMultiLeg||"BVOL"===r.rootSymbol){n="";break}if("BMEX"!==r.reference)break;n=r.referenceSymbol}if(n===e.selectedSymbol)n="";else{var a=e.indices.get(n);a&&null!=a.lastPrice||(n="")}return T[t]=n,n},n.prototype.loadLatestTrade=function(e){var t=this.props,n=t.instruments,r=t.selectedSymbol,a=t.trades;e===r?this.updateTrades(a.models.slice(0,1)):"."===e[0]?this.onInstrumentUpdate({data:[n.getOrCreate(r)]},e):console.warn("TradingViewChart: Unexpected Trade load request for symbol",e)},n.prototype.reloadBins=function(){this._sendMessage({cmd:"reloadBins"})},n.prototype.restartChart=function(){var e=this;this.setState({childMounted:!1,restartCount:this.state.restartCount+1},function(){e.setState({url:e.generateURL(e.props,e.state)})})},n.prototype.updateOrders=function(){var e=this,t=this.props.myOpenOrders.models.filter(function(t){return t.symbol===e.props.selectedSymbol&&!t.terminated}).map(function(t){var n=t.isMarket,r=t.isTakeProfit,a=t.orderID,i=t.orderQty,o=t.side,s=t.stopPx,l=t.triggered,c=t.isStop,u=t.ordType,d=t.price;c&&"StopOrderTriggered"===l&&(c=!1,u="Limit"),n&&(d="");var p="Sell"===t.side^r?"<=":">=",m=x.a[u],f=m?e.context.intl.formatMessage(m.props):u;return"Limit"===f&&(f="L"),{id:a,price:c?s:d,qty:i,text:f+":"+(d?" "+d:"")+(c?" Trigger "+p+" "+s:""),color:e._getColor("Sell"===o?-i:i)}});S.a.isEqual(this.lastOrders,t)||(this.lastOrders=t,this._sendMessage({cmd:"updateOrders",data:t,symbol:this.props.selectedSymbol}))},n.prototype.updatePosition=function(){var e=this.props.selectedPosition;if(e&&!S.a.isEqual(e.toJSON(),this.lastPos)){this.lastPos=e.toJSON();var t=e.unrealisedPnl>0?"â–˛":e.unrealisedPnl<0?"â–Ľ":"-",n=w.e(e.unrealisedPnl,this.props.options.currency);this._sendMessage({cmd:"updatePosition",data:{price:e.avgCostPrice,qty:e.currentQty,text:t+" "+n,color:this._getColor(e.unrealisedPnl)},symbol:this.props.selectedSymbol})}},n.prototype.updateTrades=function(e){var t=this,n=S.a.groupBy(e,"symbol");S.a.each(n,function(e,n){t._sendMessage({cmd:"addTrades",data:JSON.parse(a()(e)),symbol:n})})},n.prototype.addLiquidation=function(e){e.symbol===this.props.selectedSymbol&&this._sendMessage({cmd:"addLiquidation",data:e,symbol:e.symbol})},n.prototype.onTVError=function(e){this.state.restartCount<10&&/time order violation/i.test(e)?this.restartChart():/localStorage/i.test(e)&&this.state.useForeignOrigin&&this.setState({useForeignOrigin:!1,url:this.generateURL(this.props,o()({},this.state,{useForeignOrigin:!1}))})},n.prototype._getColor=function(e){return e<0?"rgb(226,83,46)":e>0?"rgb(63,160,94)":"rgb(0, 113, 224)"},n.prototype.render=function(){var e=this,t=this.state,n=t.mounted,r=t.explicitlyEnabled,a=this.props,i=a.isTouch,o=a.responsiveSize;if(!n)return C;if(!F(o)&&!r)return y.createElement("div",{className:"enableChartWrapper"},y.createElement("div",{onClick:this.onEnableChart,className:"enableChart verticalAlign"},y.createElement("span",{className:"btn btn-large btn-primary"},i?N:P)));return y.createElement("iframe",{src:this.state.url,ref:function(t){return e.parentFrame=t},className:"tradingViewIframe",frameBorder:"0",allowtransparency:"true",scrolling:"no",sandbox:"allow-scripts allow-same-origin allow-popups"})},n}(b.a);function F(e){return"md"===e||"lg"===e}O.displayName="TradingViewChart",O.defaultProps={isTouch:!1,chartOrigin:k.a||(e.browser?window.location.origin:""),thisOrigin:e.browser?window.location.origin:"",responsiveSize:"lg",revision:"dev"},t.a=Object(v.a)(function(e){return{actions:e.actions,connectionStatus:e.connectionStatus,getWebSocketStream:e.getWebSocketStream,indices:e.indices,instruments:e.instruments,isTouch:e.isTouch,locale:e.locale,myOpenOrders:e.myOpenOrders,options:e.options,responsiveSize:e.responsiveSize,revision:e.revision,selectedPosition:e.selectedPosition,selectedSymbol:e.selectedSymbol,trades:e.trades}})(O)}).call(t,n(12))},function(e,t,n){"use strict";t.a=function(e){var t=e.data,n=e.fileName,r=e.query,a=e.columns;n||(n="export");i=function(e,t){e instanceof c.a&&(e=e.models);var n=t||l.a.keys(e[0]),r=e.map(function(e){return n.map(function(t){return e[t]})});return[n].concat(r).map(function(e){return e.map(d).toString()}).join("\r\n")}(t,a),o=function(e,t){null!=t&&(e+=" "+t.replace(/\{/g,"(").replace(/\}/g,")").replace(/:/g,"=").replace(/"/g,""));var n=new Date;return e+" "+[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()].join("-")+".csv"}(n,r),u(i,o,"text/csv;charset=utf-8;");var i,o};var r,a=n(21),i=n.n(a),o=n(15),s=(n.n(o),n(5)),l=n.n(s),c=n(30),u=(r=Object(o.coroutine)(i.a.mark(function e(t,r,a){var o,s,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(12).then(n.bind(null,586));case 2:o=e.sent,s=o.saveAs,l=new Blob([t],{type:a}),s(l,r);case 6:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)});function d(e){return e instanceof Date&&(e=e.toLocaleString()),'"'+(e=String(e).replace(/"/g,'""'))+'"'}},,,,,,,,,,,,,function(e,t,n){var r;r=function(){var e,t=[],n=document,r="DOMContentLoaded",a=(n.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return a||n.addEventListener(r,e=function(){for(n.removeEventListener(r,e),a=1;e=t.shift();)e()}),function(e){a?setTimeout(e,0):t.push(e)}},e.exports=r()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(57),p=c.createElement("header",null,"Not Loading?"),m=c.createElement("p",null,"It appears BitMEX is having some trouble running on your system."),f=c.createElement("p",null,"Here are some things to try:"),h=c.createElement("i",{className:"fa fa-refresh fa-fw"}),g=c.createElement("li",null,"Try another browser. BitMEX works best on modern browsers, such as Chrome, Firefox, IE Edge or Safari."),y=c.createElement("li",null,"Tried everything? ",c.createElement("a",{href:"mailto:support@bitmex.com"},"Email Us")),b=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onReload=function(){d.a.clear(),window.location.reload(!0)},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){return c.createElement("div",{className:"loadError verticalAlignFlexParent",style:{height:"100%"}},c.createElement("div",{className:"widget"},p,c.createElement("div",{className:"body"},m,f,c.createElement("ul",null,c.createElement("li",null,c.createElement("span",{className:"btn btn-info",onClick:this.onReload},h,"Â  Clear Cache and Refresh")),g,y))))},t}(u.a);b.displayName="LoadError"},,,function(e,t,n){e.exports={default:n(326),__esModule:!0}},function(e,t,n){"use strict";var r=n(51).f,a=n(118),i=n(169),o=n(54),s=n(170),l=n(91),c=n(262),u=n(318),d=n(328),p=n(56),m=n(120).fastKey,f=n(124),h=p?"_s":"size",g=function(e,t){var n,r=m(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=r&&l(r,n,e[c],e)});return i(u.prototype,{clear:function(){for(var e=f(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var n=f(this,t),r=g(n,e);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[h]--}return!!r},forEach:function(e){f(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(f(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return f(this,t)[h]}}),u},def:function(e,t,n){var r,a,i=g(e,t);return i?i.v=n:(e._l=i={i:a=m(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[h]++,"F"!==a&&(e._i[a]=i)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=f(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){var r=n(87);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:r(e,a,t[a]);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";var r=n(46),a=n(32),i=n(120),o=n(63),s=n(87),l=n(169),c=n(91),u=n(170),d=n(47),p=n(165),m=n(51).f,f=n(329)(0),h=n(56);e.exports=function(e,t,n,g,y,b){var v=r[e],E=v,w=y?"set":"add",M=E&&E.prototype,S={};return h&&"function"==typeof E&&(b||M.forEach&&!o(function(){(new E).entries().next()}))?(E=t(function(t,n){u(t,E,e,"_c"),t._c=new v,void 0!=n&&c(n,y,t[w],t)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in M&&(!b||"clear"!=e)&&s(E.prototype,e,function(n,r){if(u(this,E,e),!t&&b&&!d(n))return"get"==e&&void 0;var a=this._c[e](0===n?0:n,r);return t?this:a})}),b||m(E.prototype,"size",{get:function(){return this._c.size}})):(E=g.getConstructor(t,e,y,w),l(E.prototype,n),i.NEED=!0),p(E,e),S[e]=E,a(a.G+a.W+a.F,S),b||g.setStrong(E,e,y),E}},function(e,t,n){var r=n(111),a=n(333);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(32),a=n(112),i=n(54),o=n(91);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return a(this),(t=void 0!==l)&&a(l),void 0==e?new this:(n=[],t?(r=0,s=i(l,arguments[2],2),o(e,!1,function(e){n.push(s(e,r++))})):o(e,!1,n.push,n),new this(n))}})}},function(e,t,n){n(103),n(72),e.exports=n(176)},function(e,t,n){var r=n(55),a=n(89);e.exports=n(17).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){e.exports={default:n(340),__esModule:!0}},,function(e,t){e.exports={APIKey:{types:{id:"string",secret:"string",name:"string",nonce:{type:"integer",default:0},cidr:"string",permissions:{type:"array",default:[]},enabled:{type:"boolean",default:!1},userId:"integer",created:"date"},keys:["id"]},Affiliate:{types:{account:"integer",currency:"string",prevPayout:"integer",prevTurnover:"integer",prevComm:"integer",prevTimestamp:"date",execTurnover:"integer",execComm:"integer",totalReferrals:"integer",totalTurnover:"integer",totalComm:"integer",payoutPcnt:"number",pendingPayout:"integer",timestamp:"date",referrerAccount:"number"},keys:["account","currency"]},Announcement:{types:{id:"integer",link:"string",title:"string",content:"string",date:"date"},keys:["id"]},Chat:{types:{id:"integer",date:"date",user:"string",message:"string",html:"string",fromBot:{type:"boolean",default:!1},channelID:"number",mentioned:"boolean"},keys:["id"]},Execution:{types:{execID:"string",orderID:"string",clOrdID:"string",clOrdLinkID:"string",account:"integer",symbol:"string",side:"string",lastQty:"integer",lastPx:"number",underlyingLastPx:"number",lastMkt:"string",lastLiquidityInd:"string",simpleOrderQty:"number",orderQty:"integer",price:"number",displayQty:"integer",stopPx:"number",pegOffsetValue:"number",pegPriceType:"string",currency:"string",settlCurrency:"string",execType:"string",ordType:"string",timeInForce:"string",execInst:"string",contingencyType:"string",exDestination:"string",ordStatus:"string",triggered:"string",workingIndicator:"boolean",ordRejReason:"string",simpleLeavesQty:"number",leavesQty:"integer",simpleCumQty:"number",cumQty:"integer",avgPx:"number",commission:"number",tradePublishIndicator:"string",multiLegReportingType:"string",text:"string",trdMatchID:"string",execCost:"integer",execComm:"integer",homeNotional:"number",foreignNotional:"number",transactTime:"date",timestamp:"date"},keys:["execID"]},IndexComposite:{types:{timestamp:"date",symbol:"string",indexSymbol:"string",reference:"string",lastPrice:"number",weight:"number",logged:"date"},keys:["timestamp"]},Instrument:{types:{symbol:"string",rootSymbol:"string",state:"string",typ:"string",listing:"date",front:"date",expiry:"date",settle:"date",relistInterval:"date",inverseLeg:"string",sellLeg:"string",buyLeg:"string",positionCurrency:"string",underlying:"string",quoteCurrency:"string",underlyingSymbol:"string",reference:"string",referenceSymbol:"string",calcInterval:"date",publishInterval:"date",publishTime:"date",maxOrderQty:"integer",maxPrice:"number",lotSize:"integer",tickSize:"number",multiplier:"integer",settlCurrency:"string",underlyingToPositionMultiplier:"integer",underlyingToSettleMultiplier:"integer",quoteToSettleMultiplier:"integer",isQuanto:"boolean",isInverse:"boolean",initMargin:"number",maintMargin:"number",riskLimit:"integer",riskStep:"integer",limit:"number",capped:"boolean",taxed:"boolean",deleverage:"boolean",makerFee:"number",takerFee:"number",settlementFee:"number",insuranceFee:"number",fundingBaseSymbol:"string",fundingQuoteSymbol:"string",fundingPremiumSymbol:"string",fundingTimestamp:"date",fundingInterval:"date",fundingRate:"number",indicativeFundingRate:"number",rebalanceTimestamp:"date",rebalanceInterval:"date",openingTimestamp:"date",closingTimestamp:"date",sessionInterval:"date",prevClosePrice:"number",limitDownPrice:"number",limitUpPrice:"number",bankruptLimitDownPrice:"number",bankruptLimitUpPrice:"number",prevTotalVolume:"integer",totalVolume:"integer",volume:"integer",volume24h:"integer",prevTotalTurnover:"integer",totalTurnover:"integer",turnover:"integer",turnover24h:"integer",prevPrice24h:"number",vwap:"number",highPrice:"number",lowPrice:"number",lastPrice:"number",lastPriceProtected:"number",lastTickDirection:"string",lastChangePcnt:"number",bidPrice:"number",midPrice:"number",askPrice:"number",impactBidPrice:"number",impactMidPrice:"number",impactAskPrice:"number",hasLiquidity:"boolean",openInterest:"integer",openValue:"integer",fairMethod:"string",fairBasisRate:"number",fairBasis:"number",fairPrice:"number",markMethod:"string",markPrice:"number",indicativeTaxRate:"number",indicativeSettlePrice:"number",settledPrice:"number",timestamp:"date"},keys:["symbol"]},Liquidation:{types:{orderID:"string",symbol:"string",side:"string",price:"number",leavesQty:"integer"},keys:["orderID"]},Margin:{types:{account:{type:"integer",default:0},currency:"string",riskLimit:{type:"integer",default:0},prevState:"string",state:"string",action:"string",amount:{type:"integer",default:0},pendingCredit:{type:"integer",default:0},pendingDebit:{type:"integer",default:0},confirmedDebit:{type:"integer",default:0},prevRealisedPnl:{type:"integer",default:0},prevUnrealisedPnl:{type:"integer",default:0},grossComm:{type:"integer",default:0},grossOpenCost:{type:"integer",default:0},grossOpenPremium:{type:"integer",default:0},grossExecCost:{type:"integer",default:0},grossMarkValue:{type:"integer",default:0},riskValue:{type:"integer",default:0},taxableMargin:{type:"integer",default:0},initMargin:{type:"integer",default:0},maintMargin:{type:"integer",default:0},sessionMargin:{type:"integer",default:0},targetExcessMargin:{type:"integer",default:0},varMargin:{type:"integer",default:0},realisedPnl:{type:"integer",default:0},unrealisedPnl:{type:"integer",default:0},indicativeTax:{type:"integer",default:0},unrealisedProfit:{type:"integer",default:0},syntheticMargin:{type:"integer",default:0},walletBalance:{type:"integer",default:0},marginBalance:{type:"integer",default:0},marginBalancePcnt:{type:"number",default:0},marginLeverage:{type:"number",default:0},marginUsedPcnt:{type:"number",default:0},excessMargin:{type:"integer",default:0},excessMarginPcnt:{type:"number",default:0},availableMargin:{type:"integer",default:0},withdrawableMargin:{type:"integer",default:0},timestamp:"date"},keys:["account","currency"]},Order:{types:{orderID:"string",clOrdID:"string",clOrdLinkID:"string",account:"integer",symbol:"string",side:"string",simpleOrderQty:"number",orderQty:"integer",price:"number",displayQty:"integer",stopPx:"number",pegOffsetValue:"number",pegPriceType:"string",currency:"string",settlCurrency:"string",ordType:"string",timeInForce:"string",execInst:"string",contingencyType:"string",exDestination:"string",ordStatus:"string",triggered:"string",workingIndicator:"boolean",ordRejReason:"string",simpleLeavesQty:"number",leavesQty:"integer",simpleCumQty:"number",cumQty:"integer",avgPx:"number",multiLegReportingType:"string",text:"string",transactTime:"date",timestamp:"date"},keys:["orderID"]},OrderBookL2:{types:{symbol:"string",id:"integer",side:"string",size:"integer",price:"number",binSize:"?number"},keys:["symbol","id","side"]},Position:{types:{account:{type:"integer",default:0},symbol:"string",currency:"string",underlying:"string",quoteCurrency:"string",commission:{type:"number",default:0},initMarginReq:{type:"number",default:0},maintMarginReq:{type:"number",default:0},riskLimit:{type:"integer",default:0},leverage:{type:"number",default:0},crossMargin:"boolean",deleveragePercentile:{type:"number",default:0},rebalancedPnl:{type:"integer",default:0},prevRealisedPnl:{type:"integer",default:0},prevUnrealisedPnl:{type:"integer",default:0},prevClosePrice:{type:"number",default:0},openingTimestamp:"date",openingQty:{type:"integer",default:0},openingCost:{type:"integer",default:0},openingComm:{type:"integer",default:0},openOrderBuyQty:{type:"integer",default:0},openOrderBuyCost:{type:"integer",default:0},openOrderBuyPremium:{type:"integer",default:0},openOrderSellQty:{type:"integer",default:0},openOrderSellCost:{type:"integer",default:0},openOrderSellPremium:{type:"integer",default:0},execBuyQty:{type:"integer",default:0},execBuyCost:{type:"integer",default:0},execSellQty:{type:"integer",default:0},execSellCost:{type:"integer",default:0},execQty:{type:"integer",default:0},execCost:{type:"integer",default:0},execComm:{type:"integer",default:0},currentTimestamp:"date",currentQty:{type:"integer",default:0},currentCost:{type:"integer",default:0},currentComm:{type:"integer",default:0},realisedCost:{type:"integer",default:0},unrealisedCost:{type:"integer",default:0},grossOpenCost:{type:"integer",default:0},grossOpenPremium:{type:"integer",default:0},grossExecCost:{type:"integer",default:0},isOpen:"boolean",markPrice:{type:"number",default:0},markValue:{type:"integer",default:0},riskValue:{type:"integer",default:0},homeNotional:{type:"number",default:0},foreignNotional:{type:"number",default:0},posState:"string",posCost:{type:"integer",default:0},posCost2:{type:"integer",default:0},posCross:{type:"integer",default:0},posInit:{type:"integer",default:0},posComm:{type:"integer",default:0},posLoss:{type:"integer",default:0},posMargin:{type:"integer",default:0},posMaint:{type:"integer",default:0},posAllowance:{type:"integer",default:0},taxableMargin:{type:"integer",default:0},initMargin:{type:"integer",default:0},maintMargin:{type:"integer",default:0},sessionMargin:{type:"integer",default:0},targetExcessMargin:{type:"integer",default:0},varMargin:{type:"integer",default:0},realisedGrossPnl:{type:"integer",default:0},realisedTax:{type:"integer",default:0},realisedPnl:{type:"integer",default:0},unrealisedGrossPnl:{type:"integer",default:0},longBankrupt:{type:"integer",default:0},shortBankrupt:{type:"integer",default:0},taxBase:{type:"integer",default:0},indicativeTaxRate:{type:"number",default:0},indicativeTax:{type:"integer",default:0},unrealisedTax:{type:"integer",default:0},unrealisedPnl:{type:"integer",default:0},unrealisedPnlPcnt:{type:"number",default:0},unrealisedRoePcnt:{type:"number",default:0},simpleQty:{type:"number",default:0},simpleCost:{type:"number",default:0},simpleValue:{type:"number",default:0},simplePnl:{type:"number",default:0},simplePnlPcnt:{type:"number",default:0},avgCostPrice:{type:"number",default:0},avgEntryPrice:{type:"number",default:0},breakEvenPrice:{type:"number",default:0},marginCallPrice:{type:"number",default:0},liquidationPrice:{type:"number",default:0},bankruptPrice:{type:"number",default:0},timestamp:"date"},keys:["account","symbol","currency"]},Quote:{types:{timestamp:"date",symbol:"string",bidSize:"integer",bidPrice:"number",askPrice:"number",askSize:"integer"},keys:["timestamp","symbol"]},Trade:{types:{timestamp:"date",symbol:"string",side:"string",size:"integer",price:"number",tickDirection:"string",trdMatchID:"string",grossValue:"integer",homeNotional:"number",foreignNotional:"number"},keys:["timestamp","symbol"]},Transaction:{types:{transactID:"string",account:"integer",currency:"string",transactType:"string",amount:"integer",fee:"integer",transactStatus:"string",address:"string",tx:"string",text:"string",transactTime:"date",timestamp:"date"},keys:["transactID"]},User:{types:{id:"integer",ownerId:"integer",firstname:"string",lastname:"string",username:"string",email:"string",phone:"string",created:"date",lastUpdated:"date",preferences:{type:"object",default:{}},TFAEnabled:"string",affiliateID:"string",pgpPubKey:"string",country:"string",commission:"object",OTPSecret:"string",roles:"object"},keys:["id"]},ConnectedUsers:{types:{users:"integer",bots:"integer"},keys:[]},Notification:{types:{id:"integer",date:"date",title:"string",body:"string",ttl:"integer",type:"string",closable:{type:"boolean",default:!0},persist:{type:"boolean",default:!0},waitForVisibility:{type:"boolean",default:!0},sound:"string"},keys:["id"]},UserCommission:{types:{makerFee:"number",takerFee:"number",settlementFee:"number",maxFee:"number"},keys:[]},UserPreferences:{types:{alertOnLiquidations:"boolean",animationsEnabled:"boolean",announcementsLastSeen:"date",chatChannelID:"number",colorTheme:"string",currency:"string",debug:"boolean",disableEmails:"array",hideConfirmDialogs:"array",hideConnectionModal:"boolean",hideFromLeaderboard:{type:"boolean",default:!1},hideNameFromLeaderboard:{type:"boolean",default:!0},hideNotifications:"array",locale:{type:"string",default:"en-US"},msgsSeen:"array",orderBookBinning:"object",orderBookType:"string",orderClearImmediate:{type:"boolean",default:!1},orderControlsPlusMinus:"boolean",showLocaleNumbers:{type:"boolean",default:!0},sounds:"array",strictIPCheck:{type:"boolean",default:!1},strictTimeout:{type:"boolean",default:!0},tickerGroup:"string",tickerPinned:"boolean",tradeLayout:"string"},keys:[]},Wallet:{types:{account:"integer",currency:"string",prevDeposited:"integer",prevWithdrawn:"integer",prevTransferIn:"integer",prevTransferOut:"integer",prevAmount:"integer",prevTimestamp:"date",deltaDeposited:"integer",deltaWithdrawn:"integer",deltaTransferIn:"integer",deltaTransferOut:"integer",deltaAmount:"integer",deposited:"integer",withdrawn:"integer",transferIn:"integer",transferOut:"integer",amount:"integer",pendingCredit:"integer",pendingDebit:"integer",confirmedDebit:"integer",timestamp:"date",addr:"string",script:"string",withdrawalLock:"array"},keys:["account","currency"]}}},function(e,t,n){"use strict";(function(e,r){var a=n(24),i=n.n(a),o=n(26),s=n.n(o),l=n(18),c=n.n(l);t.a=function(t){c()("frontend:utils:"+t);var n={},a=function(t){if(!e.browser)return!1;var n=r[t];try{return n.setItem("__test","1"),n.removeItem("__test"),n}catch(e){try{n&&(n.setItem=function(){})}catch(e){}return!1}}(t);a||(n.error=!0);var o={get:"getItem",set:"setItem",remove:"removeItem"};return["getItem","setItem","clear","removeItem"].concat(s()(o)).forEach(function(e){var t=o[e]||e;n[e]=function(e){if(!a)return;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];"setItem"===e&&"string"!=typeof n[1]&&(n[1]=i()(n[1]));try{var o=a[e].apply(a,n);if("getItem"===e)try{o=JSON.parse(o)}catch(e){}return o}catch(e){}}.bind(null,t)}),n.getKeys=function(){return a?s()(a):[]},n}}).call(t,n(12),n(36))},function(e,t,n){"use strict";t.a=function(e){if(!e)throw new Error("No env set, cannot boot.");return a.a.merge({},i.common,i[e])};var r=n(5),a=n.n(r);var i={common:{root:"/app/",irc:{channel:"#bitmex"},freshdesk:{url:"https://bitmex.freshdesk.com"},ravenDSN:"https://c18c1af165214b358dfd796aea7b662f@sentry.bitmex.com/3",websocket:{heartbeatExpectationInterval:1e4},dtc:{permissionKey:"sierra-dtc"},latency:{levels:{bad:1e3,ok:500},sampleInterval:1e3}},local:n(182),development:n(183),test:n(184),stage:n(185),production:n(186)}},function(e,t){e.exports={environment:"local",debug:"*"}},function(e,t){e.exports={environment:"development",debug:"*"}},function(e,t){e.exports={environment:"test",debug:""}},function(e,t){e.exports={environment:"stage",debug:"*"}},function(e,t){e.exports={environment:"production",debug:"",ravenDSN:"https://5a2d0d5524c54b908d447fe1ca308d25@sentry.bitmex.com/2"}},function(e,t,n){"use strict";t.a=function(e,t){if(-1===["stage","production"].indexOf(o))return void(window.Raven={captureMessage:console.warn,captureException:console.error,captureBreadcrumb:function(){}});var r=n(128),a={},l={ignoreErrors:["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can't find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","bmi_SafeAddOnload","EBCallBackMessageReceived","conduitPage"],ignoreUrls:[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome:\/\//i,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i]};r.config(e.ravenDSN,{release:t,stacktrace:!0,ignoreErrors:[/tradingview is not defined/i,/ondrag called before ondragstart/i,/network request failed/i,/too many requests/i,/got timeout from websocket/i,/the system is currently overloaded/i,/"status":401/,/networkerror/i,/failed to fetch/i,/NS_ERROR/i,/Foxbrowser/i,/Unsupported time zone specified undefined/i,/insufficient available balance/i,/Kaspersky/i].concat(l.ignoreErrors),ignoreUrls:[].concat(l.ignoreUrls),shouldSendCallback:function(e){var t=i()(e.exception);return!(a[t]&&Date.now()-a[t]<=s)&&(a[i()(e.exception)]=Date.now(),!0)},debug:!1}).install(),window.addEventListener("unhandledrejection",function(e){e.preventDefault();var t=e.detail&&e.detail.reason||e.reason||e;r.captureException(t)}),window.Raven=r};var r=n(6),a=(n.n(r),n(24)),i=n.n(a),o=String("production"),s=3e5},function(e,t,n){(function(t){var r=n(189),a=n(190),i=n(191),o=n(110),s=o.isError,l=o.isObject,c=o.isErrorEvent,u=o.isUndefined,d=o.isFunction,p=o.isString,m=o.isArray,f=o.isEmptyObject,h=o.each,g=o.objectMerge,y=o.truncate,b=o.objectFrozen,v=o.hasKey,E=o.joinRegExp,w=o.urlencode,M=o.uuid4,S=o.htmlTreeAsString,x=o.isSameException,k=o.isSameStacktrace,T=o.parseUrl,C=o.fill,N=o.supportsFetch,P=n(192).wrapMethod,O="source protocol user pass host port path".split(" "),F=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function I(){return+new Date}var L="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},A=L.document,D=L.navigator;function B(e,t){return d(t)?function(n){return t(n,e)}:t}function _(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!u(A),this._hasNavigator=!u(D),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:L.SENTRY_RELEASE&&L.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:"origin"},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=L.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=I(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=L.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var e in this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}_.prototype={VERSION:"3.22.1",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var a=n._globalOptions;t&&h(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:a[e]=t}),n.setDSN(e),a.ignoreErrors.push(/^Script error\.?$/),a.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),a.ignoreErrors=E(a.ignoreErrors),a.ignoreUrls=!!a.ignoreUrls.length&&E(a.ignoreUrls),a.whitelistUrls=!!a.whitelistUrls.length&&E(a.whitelistUrls),a.includePaths=E(a.includePaths),a.maxBreadcrumbs=Math.max(0,Math.min(a.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=a.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=g(i,o):!1!==o&&(o=i),a.autoBreadcrumbs=o;var s={tryCatch:!0},l=a.instrument;return"[object Object]"==={}.toString.call(l)?l=g(s,l):!1!==l&&(l=s),a.instrument=l,r.collectWindowErrors=!!a.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),a=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+a+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return d(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(u(t)&&!d(e))return e;if(d(e)&&(t=e,e=void 0),!d(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function a(){var a=[],i=arguments.length,o=!e||e&&!1!==e.deep;for(n&&d(n)&&n.apply(this,arguments);i--;)a[i]=o?r.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,a)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var i in t)v(t,i)&&(a[i]=t[i]);return a.prototype=t.prototype,t.__raven_wrapper__=a,a.__raven__=!0,a.__orig__=t,a},uninstall:function(){return r.report.uninstall(),this._unpatchFunctionToString(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){var n=!s(e),a=!c(e),i=c(e)&&!e.error;if(n&&a||i)return this.captureMessage(e,g({trimHeadFrames:1,stacktrace:!0},t));c(e)&&(e=e.error),this._lastCapturedException=e;try{var o=r.computeStackTrace(e);this._handleStackInfo(o,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,a=g({message:e+""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=r.computeStackTrace(n),o=m(i.stack)&&i.stack[1],s=o&&o.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t&&t.stacktrace){t=g({fingerprint:e,trimHeadFrames:(t.trimHeadFrames||0)+1},t);var l=this._prepareFrames(i,t);a.stacktrace={frames:l.reverse()}}return this._send(a),this}}},captureBreadcrumb:function(e){var t=g({timestamp:I()/1e3},e);if(d(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(l(n)&&!f(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(a(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=B(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=B(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=B(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=L.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(A){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new i("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new i("Missing DSN");var r=encodeURIComponent,a="";a+="?eventId="+r(t),a+="&dsn="+r(n);var o=e.user||this._globalContext.user;o&&(o.name&&(a+="&name="+r(o.name)),o.email&&(a+="&email="+r(o.email)));var s=this._getGlobalServer(this._parseDSN(n)),l=A.createElement("script");l.async=!0,l.src=s+"/api/embed/error-page/"+a,(A.head||A.body).appendChild(l)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),A.createEvent?(n=A.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=A.createEventObject()).eventType=e;for(r in t)v(t,r)&&(n[r]=t[r]);if(A.createEvent)A.dispatchEvent(n);else try{A.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=S(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var a=e._keypressTimeout;a||e._breadcrumbEventHandler("input")(t),clearTimeout(a),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=T(this._location.href),r=T(t),a=T(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===a.protocol&&n.host===a.host&&(e=a.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var a=new Array(arguments.length),i=0;i<a.length;++i)a[i]=arguments[i];var o=a[0];return d(o)&&(a[0]=e.wrap(o)),t.apply?t.apply(this,a):t(a[0],a[1])}}var r=this._globalOptions.autoBreadcrumbs;function a(n){var a=L[n]&&L[n].prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(C(a,"addEventListener",function(t){return function(a,i,o,s){try{i&&i.handleEvent&&(i.handleEvent=e.wrap(i.handleEvent))}catch(e){}var l,c,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(c=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),l=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?c(e):"keypress"===t?u(e):void 0}}),t.call(this,a,e.wrap(i,void 0,l),o,s)}},t),C(a,"removeEventListener",function(e){return function(t,n,r,a){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,a)}},t))}C(L,"setTimeout",n,t),C(L,"setInterval",n,t),L.requestAnimationFrame&&C(L,"requestAnimationFrame",function(t){return function(n){return t(e.wrap(n))}},t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<i.length;o++)a(i[o])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;if(t.xhr&&"XMLHttpRequest"in L){var r=XMLHttpRequest.prototype;C(r,"open",function(t){return function(n,r){return p(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},n),C(r,"send",function(t){return function(){var n=this;function r(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var a,i,o=["onload","onerror","onprogress"],s=0;s<o.length;s++)(a=o[s])in(i=n)&&d(i[a])&&C(i,a,function(t){return e.wrap(t)});return"onreadystatechange"in n&&d(n.onreadystatechange)?C(n,"onreadystatechange",function(t){return e.wrap(t,void 0,r)}):n.onreadystatechange=r,t.apply(this,arguments)}},n)}t.xhr&&N()&&C(L,"fetch",function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var a,i=n[0],o="GET";if("string"==typeof i?a=i:"Request"in L&&i instanceof L.Request?(a=i.url,i.method&&(o=i.method)):a=""+i,-1!==a.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(o=n[1].method);var s={method:o,url:a,status_code:null};return t.apply(this,n).then(function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})}},n),t.dom&&this._hasDocument&&(A.addEventListener?(A.addEventListener("click",e._breadcrumbEventHandler("click"),!1),A.addEventListener("keypress",e._keypressEventHandler(),!1)):(A.attachEvent("onclick",e._breadcrumbEventHandler("click")),A.attachEvent("onkeypress",e._keypressEventHandler())));var a=L.chrome,i=!(a&&a.app&&a.app.runtime)&&L.history&&history.pushState&&history.replaceState;if(t.location&&i){var o=L.onpopstate;L.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),o)return o.apply(this,arguments)};var s=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};C(history,"pushState",s,n),C(history,"replaceState",s,n)}if(t.console&&"console"in L&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};h(["debug","info","warn","error","log"],function(e,t){P(console,t,l)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_drainPlugins:function(){var e=this;h(this._plugins,function(t,n){var r=n[0],a=n[1];r.apply(e,[e].concat(a))})},_parseDSN:function(e){var t=F.exec(e),n={},r=7;try{for(;r--;)n[O[r]]=t[r]||""}catch(t){throw new i("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new i("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(h(e.stack,function(t,a){var i=n._normalizeFrame(a,e.url);i&&r.push(i)}),t&&t.trimHeadFrames))for(var a=0;a<t.trimHeadFrames&&a<r.length;a++)r[a].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,a,i){var o,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(a&&a.length?(n=a[0].filename||n,a.reverse(),o={frames:a}):n&&(o={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var l=g({exception:{values:[{type:e,value:t,stacktrace:o}]},culprit:n},i);this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=y(e.message,t)),e.exception){var n=e.exception.values[0];n.value=y(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=y(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=y(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,a=["to","from","url"],i=0;i<e.values.length;++i)if((n=e.values[i]).hasOwnProperty("data")&&l(n.data)&&!b(n.data)){r=g({},n.data);for(var o=0;o<a.length;++o)t=a[o],r.hasOwnProperty(t)&&r[t]&&(r[t]=y(r[t],this._globalOptions.maxUrlLength));e.values[i].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&D.userAgent&&(e.headers={"User-Agent":navigator.userAgent}),L.location&&L.location.href&&(e.url=L.location.href),this._hasDocument&&A.referrer&&(e.headers||(e.headers={}),e.headers.Referer=A.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&I()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.culprit!==t.culprit)&&(e.stacktrace||t.stacktrace?k(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||x(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=N()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=I()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=g(n,e)).tags=g(g({},this._globalContext.tags),e.tags),e.extra=g(g({},this._globalContext.extra),e.extra),e.extra["session:duration"]=I()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),Object.keys(e).forEach(function(t){(null==e[t]||""===e[t]||f(e[t]))&&delete e[t]}),d(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!f(e)&&(d(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_getUuid:function(){return M()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var a={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(a.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var o=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:o,auth:a,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:o}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:o}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+w(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),N()){r.body=a(e.data);var i=g({},this._fetchDefaults),o=g(i,r);return n&&(o.headers=n),L.fetch(t,o).then(function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}}).catch(function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))})}var s=L.XMLHttpRequest&&new L.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&h(n,function(e,t){s.setRequestHeader(e,t)}),s.send(a(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){u(t)?delete this._globalContext[e]:this._globalContext[e]=g(this._globalContext[e]||{},t)}},_.prototype.setUser=_.prototype.setUserContext,_.prototype.setReleaseContext=_.prototype.setRelease,e.exports=_}).call(t,n(36))},function(e,t,n){(function(t){var r=n(110),a={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=[].slice,s="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function c(){return"undefined"==typeof document||null==document.location?"":document.location.href}a.report=function(){var e,t,n=[],u=null,d=null,p=null;function m(e,t){var r=null;if(!t||a.collectWindowErrors){for(var i in n)if(n.hasOwnProperty(i))try{n[i].apply(null,[e].concat(o.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function f(t,n,i,o,u){var d=r.isErrorEvent(u)?u.error:u,f=r.isErrorEvent(t)?t.message:t;if(p)a.computeStackTrace.augmentStackTraceWithInitialElement(p,n,i,f),h();else if(d&&r.isError(d))m(a.computeStackTrace(d),!0);else{var g,y={url:n,line:i,column:o},b=void 0;if("[object String]"==={}.toString.call(f))(g=f.match(l))&&(b=g[1],f=g[2]);y.func=s,m({name:b,message:f,url:c(),stack:[y]},!0)}return!!e&&e.apply(this,arguments)}function h(){var e=p,t=u;u=null,p=null,d=null,m.apply(null,[e,!1].concat(t))}function g(e,t){var n=o.call(arguments,1);if(p){if(d===e)return;h()}var r=a.computeStackTrace(e);if(p=r,d=e,u=n,setTimeout(function(){d===e&&h()},r.incomplete?2e3:0),!1!==t)throw e}return g.subscribe=function(r){t||(e=i.onerror,i.onerror=f,t=!0),n.push(r)},g.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},g.uninstall=function(){t&&(i.onerror=e,t=!1,e=void 0),n=[]},g}(),a.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),p=[],m=(/^(.*) is undefined$/.exec(e.message),0),f=d.length;m<f;++m){if(n=a.exec(d[m])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:h?null:n[2],func:n[1]||s,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(d[m]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=i.exec(d[m])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==m||n[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=s),p.push(r)}return p.length?{name:e.name,message:e.message,url:c(),stack:p}:null}}function t(e,t,n,r){var a={url:t,line:n};if(a.url&&a.line){if(e.incomplete=!1,a.func||(a.func=s),e.stack.length>0&&e.stack[0].url===a.url){if(e.stack[0].line===a.line)return!1;if(!e.stack[0].line&&e.stack[0].func===a.func)return e.stack[0].line=a.line,!1}return e.stack.unshift(a),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var o,l,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],p={},m=!1,f=n.caller;f&&!m;f=f.caller)if(f!==r&&f!==a.report){if(l={url:null,func:s,line:null,column:null},f.name?l.func=f.name:(o=u.exec(f.toString()))&&(l.func=o[1]),void 0===l.func)try{l.func=o.input.substring(0,o.input.indexOf("{"))}catch(e){}p[""+f]?m=!0:p[""+f]=!0,d.push(l)}i&&d.splice(0,i);var h={name:e.name,message:e.message,url:c(),stack:d};return t(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function r(t,r){var i=null;r=null==r?0:+r;try{if(i=e(t))return i}catch(e){if(a.debug)throw e}try{if(i=n(t,r+1))return i}catch(e){if(a.debug)throw e}return{name:t.name,message:t.message,url:c()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=a}).call(t,n(36))},function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],a=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+a.slice(0,n(r,t)).join(".")+"]"}),function(i,o){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?a.splice(s,1/0,i):a.push(i),~n(r,o)&&(o=t.call(this,i,o))}else r.push(o);return null==e?o instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(o):o:e.call(this,i,o)}}(e.exports=function(e,t,n,a){return JSON.stringify(e,r(t,a),n)}).getSerialize=r},function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},function(e,t){e.exports={wrapMethod:function(e,t,n){var r=e[t],a=e;if(t in e){var i="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),o=""+e.join(" "),s={level:i,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(o="Assertion failed: "+(e.slice(1).join(" ")||"console.assert"),s.extra.arguments=e.slice(1),n&&n(o,s)):n&&n(o,s),r&&Function.prototype.apply.call(r,a,e)}}}}},function(e,t,n){n(72),n(194),e.exports=n(17).Array.from},function(e,t,n){"use strict";var r=n(54),a=n(32),i=n(64),o=n(122),s=n(123),l=n(109),c=n(195),u=n(89);a(a.S+a.F*!n(196)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,d,p=i(e),m="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,g=void 0!==h,y=0,b=u(p);if(g&&(h=r(h,f>2?arguments[2]:void 0,2)),void 0==b||m==Array&&s(b))for(n=new m(t=l(p.length));t>y;y++)c(n,y,g?h(p[y],y):p[y]);else for(d=b.call(p),n=new m;!(a=d.next()).done;y++)c(n,y,g?o(d,h,[a.value,y],!0):a.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(51),a=n(113);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var r=n(41)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0}},i[r]=function(){return o},e(i)}catch(e){}return n}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";(function(e){var r=void 0;e.browser||e.native?r=n(361):((r=function(){}).Stream=function(){},r.EventEmitter=function(){}),t.a=r}).call(t,n(12))},function(e,t,n){"use strict";t.c=i,t.b=function(){return i.call(this,"")},t.a=o;var r=n(6),a=n.n(r);function i(e,t){var n=this.flux.store("InstrumentStore").getInstruments();if(!n.get(e)){var r=o(n.models,e);this.flux.actions.createNotification({messageId:"InstrumentStore.SelectFailure",messageValues:{symbol:e,fallbackSymbol:r},type:"error"}),e=r}this.dispatch("SELECT_INSTRUMENT",a()({symbol:e},t))}function o(e,t){"string"!=typeof t&&(t="");for(var n=e.map(function(e){return e.symbol}),r=t;r.length;){var a=n.find(function(e){return 0===e.indexOf(r)});if(a)return a;r=r.slice(0,-1)}return n.find(function(e){return 0===e.indexOf("XBT")})||"XBTUSD"}},function(e,t,n){n(201),e.exports=n(17).Number.isFinite},function(e,t,n){var r=n(32),a=n(46).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},function(e,t,n){e.exports={default:n(392),__esModule:!0}},,,,function(e,t,n){"use strict";t.a=function(e){if(!e||!Array.isArray(e.keys)||"string"!=typeof e.name)throw new Error("Invalid invocation of LocalStorageMixin with opts: "+o()(e));var t=e.keys,n="bitmex-"+e.name;return{load:function(){s.a.error||(this._LSRestore(),this.on("change",this._LSSave.bind(this)))},_LSGet:function(e){var t=s.a.get(n+"-"+e);return t&&t.val?t.val:t},_LSSet:function(e,t){s.a.set(n+"-"+e,t)},_LSRestore:function(){for(var e=t,n=Array.isArray(e),r=0,e=n?e:a()(e);;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{if((r=e.next()).done)break;i=r.value}var o=i,s=this._LSGet(o);null!==s&&void 0!==s&&(this[o]=s)}},_LSSave:function(){for(var e=t,n=Array.isArray(e),r=0,e=n?e:a()(e);;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{if((r=e.next()).done)break;i=r.value}var o=i;this._LSSet(o,this[o])}}}};var r=n(28),a=n.n(r),i=n(24),o=n.n(i),s=n(57)},function(e,t,n){"use strict";t.b=function(e,t){var n=["widget-container",e+"Wrapper",t.props.className||""].join(" ");return r.createElement("div",{className:n,key:e,"data-name":e},t)},t.a=function(e){var t={lg:12,md:8,sm:4,xs:2,xxs:2};return i.a.mapValues(e,function(e,n){e=o.utils.cloneLayout(e);var r=0,a=0,s=0,l=0,c=t[n];return i.a.map(e,function(e){return e.y&&e.x?e:(0===s?s=e.h:s-=e.h,(l+=e.w)===c&&(l=0,s=0),e.y=r,e.x=a,(a+=e.w)===c&&0===s&&(a=0,r+=e.h),e)})})};var r=n(3),a=(n.n(r),n(5)),i=n.n(a),o=n(208);n.n(o)},,,function(e,t,n){"use strict";(function(e){var r,a,i,o=n(21),s=n.n(o),l=n(15),c=n.n(l),u=n(7),d=n(23),p=n(57),m=n(401),f=(r=Object(l.coroutine)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(t),e.next=3,m.a.loadLocale(n);case 3:r=e.sent,Object(u.addLocaleData)(r);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),h=(a=Object(l.coroutine)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,new window.Intl.NumberFormat(t),e.next=10;break;case 4:return e.prev=4,e.t0=e.catch(0),"zh-CN"===t&&(t="zh-Hans-CN"),e.next=9,m.a.loadPolyfillData(t);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this,[[0,4]])})),function(e){return a.apply(this,arguments)}),g=(i=Object(l.coroutine)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"zh"===(n=y(t))&&(n="zh_cn"),e.next=4,m.a.loadLocaleDate(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)});function y(e){return e.split(/[-_]/)[0]}t.a=function(){var t=Object(l.coroutine)(s.a.mark(function t(n){var r,a,i,o,l,u,y,b;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.browser||e.native){t.next=2;break}return t.abrupt("return",{});case 2:return r=m.a.jsonImport(n),a=f(n),i=h(n),o=g(n),t.prev=6,t.next=9,c.a.all([r,i,a,o]);case 9:return l=t.sent,Object(d.q)(n,l[3]),t.abrupt("return",l[0]);case 14:return t.prev=14,t.t0=t.catch(6),u=new Date(String(p.a.get("localeFailure")||new Date)),y=Date.now()-u,b=y>=6e4,console.error("Unable to load locale: "+n+". "+(b?"Reloading.":"Throttled reload: last reload was "+y+" ms")+"\n"+t.t0),p.a.set("localeFailure",new Date),b&&window.location.reload(),t.abrupt("return",{});case 23:case"end":return t.stop()}},t,this,[[6,14]])}));return function(e){return t.apply(this,arguments)}}()}).call(t,n(12))},function(e,t,n){"use strict";t.a=function(e){return e.replace(r,"\\$&")};var r=RegExp("["+["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"].join("\\")+"]","g")},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(30),u=n(19),d=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getInstrument=function(){return this.stores.getStore("InstrumentStore").getInstrument(this.symbol)},t}(function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(u.a));d.typeName="Execution",d.idAttribute="execID",d.displayTypes={commission:u.b.percentageToFixed(4),execComm:u.b.currencyFullPrecision,execCost:u.b.currency,lastPx:u.b.fixedNumber,price:u.b.fixedNumber},d.derived={tickSize:{deps:["symbol"],fn:function(){return this.getInstrument().tickSize}}};var p=Object(u.c)(d);n.d(t,"a",function(){return m});var m=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(c.a);m.model=p,m.comparator=function(e){return-Number(e.timestamp)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(19),u=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(c.a));u.idAttribute="currency",u.typeName="Margin",u.displayTypes={excessMargin:c.b.currency,marginBalance:c.b.currency,walletBalance:c.b.currency,withdrawableMargin:c.b.currency};t.a=Object(c.c)(u)},function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(19),p=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t}(d.a),m=n(5),f=n.n(m),h=n(11),g=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.hasRole=function(e){return Boolean(f.a.find(this.roles,{name:e}))},t}(p);g.typeName="User",g.idAttribute="id",g.props={commission:{type:"object",default:function(){return{}}},preferences:{type:"object",default:function(){return a()({},h.c)}},roles:"array"},g.derived={authenticated:{deps:["email"],fn:function(){return Boolean(this.email)}},countryValid:{deps:["country"],fn:function(){return this.country&&"US"!==this.country}},fullName:{deps:["firstname","lastname"],fn:function(){return(this.firstname||"")+" "+(this.lastname||"")}}};t.a=Object(d.c)(g)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(30),u=n(44),d=n(5),p=n.n(d),m=n(42),f=(n.n(m),function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.openOrderCount=function(){return this.filter({terminated:!1}).length},t.prototype.active=function(){return E(this)},t.prototype.contingents=function(){return v(this)},t.prototype.fills=function(){return M(this)},t.prototype.ordersForSymbol=function(e){return b(this,e)},t.prototype.stops=function(){return y(this)},t}(c.a));f.model=u.a,f.comparator=function(e){return-Number(e.origTransactTime)};var h=Object(m.createSelectorCreator)(m.defaultMemoize,p.a.isEqual),g=function(e){return new f(e)},y=h(function(e){return e.filter(function(e){return e.isStop})},g),b=h(function(e,t){return e.filter({symbol:t})},g),v=h(function(e){return e.filter(function(e){return"Triggered"===e.triggered||"NotTriggered"===e.triggered})},g),E=h(function(e){return e.filter(function(e){return e.isActive})},g),w=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(f);w.comparator=function(e){return-Number(e.timestamp)};var M=h(function(e){return e.filter(function(e){return 0!==e.cumQty})},function(e){return new w(e)})},function(e,t,n){"use strict";(function(e){t.a=function(t){var n=void 0;return{actions:{SELECT_INSTRUMENT:"onSelectInstrument",FLUX_INIT:"onFluxInit"},_watchesInstrument:!0,onFluxInit:function(){if(!this._bindAutoRefresh)throw new Error("SelectedInstrumentMixin requires use of the AutoRefreshMixin.");if(!this.fetch)throw new Error("SelectedInstrumentMixin requires use of the RestBindingMixin.")},_getAutoRefreshArgs:function(){var t=this.flux.store("InstrumentStore").getSelectedSymbol();if(n=t,!t||"ERR"===t){var r="Could not get current symbol.";return console.error(r),e.browser&&window.Raven&&window.Raven.captureMessage(r,{stacktrace:!0}),null}return[t]},onSelectInstrument:function(e){var r=this;return Object(i.coroutine)(a.a.mark(function i(){return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n!==e.symbol){a.next=2;break}return a.abrupt("return");case 2:if(n=e.symbol,t.partialIsUsable){a.next=8;break}return a.next=6,r.fetch({symbol:e.symbol},{preReset:!0});case 6:a.next=9;break;case 8:r._preResetAll();case 9:r._bindAutoRefresh();case 10:case"end":return a.stop()}},i,r)}))()}}};var r=n(21),a=n.n(r),i=n(15);n.n(i)}).call(t,n(12))},function(e,t,n){e.exports={default:n(418),__esModule:!0}},function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Error;if(!e){var r=new n("function"==typeof t?t():t);throw r.framesToPop=1,r}}},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(30),u=n(137),d=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.atEnd=!1,r.loading=!1,i=n,o()(r,i)}return l()(t,e),t}(c.a);d.model=u.a,d.comparator=function(e){return-Number(e.timestamp)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return f}),t.fluxToData=function(e,t){t&&!1===t.cache&&(e.dataCache=null);var n=e.stores,r=n.InstrumentStore.getSelectedInstrument();if(h&&e.dataCache)return e.dataCache;var a={actions:e.actions,affiliateStatus:n.MeStore.getAffiliateStatus(),announcements:n.AnnouncementStore.getAnnouncements(),announcementsLoaded:n.AnnouncementStore.getAnnouncementsLoaded(),announcementsUnseen:n.AnnouncementStore.getAnnouncementsUnseen(),apiKeys:n.APIKeyStore.getAPIKeys(),chats:n.ChatStore.getChats(),chatChannelID:n.ChatStore.getChatChannelID(),chatChannels:n.ChatStore.getChatChannels(),commission:n.MeStore.getCommission(),connectedUsers:n.ChatStore.getConnected(),connectionStatus:n.BrowserStore.getConnectionStatus(),currentRoute:n.BrowserStore.getCurrentRoute(),depositAddress:n.MeStore.getDepositAddress(),dialogs:n.DialogStore.getDialogs(),executions:n.ExecutionStore.getExecutions(),executionHistory:n.HistoryStore.getExecutionHistory(),getWebSocketStream:n.BrowserStore.getWSStreamCreator(),floatingWidget:n.BrowserStore.getFloatingWidget(),fullscreenedWidget:n.BrowserStore.getFullscreenedWidget(),funding:n.HistoryStore.getFundingHistory(),indices:n.InstrumentStore.getIndices(),initialNow:n.BrowserStore.getInitialNow(),instruments:n.InstrumentStore.getInstruments(),insurance:n.HistoryStore.getInsuranceHistory(),isPhone:n.BrowserStore.getIsPhone(),isTouch:n.BrowserStore.getIsTouch(),locale:n.BrowserStore.getLocale(),localeMessages:n.BrowserStore.getLocaleMessages(),liquidations:n.LiquidationStore.getLiquidations(),masqID:n.BrowserStore.getMasqID(),margin:n.MeStore.getMargin(),marginPrimary:n.MeStore.getPrimaryMargin(),me:n.MeStore.getMe(),myOrders:n.OrderStore.getMyOrders(),myOpenOrders:n.OrderStore.getMyOpenOrders(),nativeNotificationStatus:n.NotificationStore.getNativeNotificationStatus(),newChatCount:n.ChatStore.getNewChatCount(),notifications:n.NotificationStore.getNotifications(),options:n.OptionStore.getOptions(),orderBook:n.OrderBookStore.getOrderBook(),orderBookRowCount:n.OrderBookStore.getRowCount(),orderHistory:n.HistoryStore.getOrderHistory(),orderInput:n.OrderInputStore.getOrderInput(),orderSubmitInProgress:n.OrderStore.getSubmitInProgress(),origin:n.BrowserStore.getOrigin(),positions:n.PositionStore.getPositions(),responsiveSize:n.BrowserStore.getResponsiveSize(),revision:n.BrowserStore.getRevision(),revisionDate:n.BrowserStore.getRevisionDate(),settlements:n.HistoryStore.getSettlementHistory(),sidebarName:n.BrowserStore.getSidebarName(),sidebarHidden:n.BrowserStore.getSidebarHidden(),sidebarSide:n.BrowserStore.getSidebarSide(),staticPages:n.BrowserStore.getStaticPages(),timezoneOffset:n.BrowserStore.getTimezoneOffset(),trades:n.TradeStore.getTrades(),tradeLayouts:n.BrowserStore.getTradeLayouts(),urgentAnnouncements:n.AnnouncementStore.getUrgent(),walletHistory:n.HistoryStore.getWalletHistory(),selectedInstrument:r,selectedPosition:n.PositionStore.getActivePosition(),selectedSymbol:r.symbol};h&&(e.dataCache=a);return a};var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(14)),d=n.n(u),p=n(77),m=n.n(p),f=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getChildContext=function(){return{flux:this.props.flux}},t.prototype.render=function(){return c.Children.only(this.props.children)},t}(c.Component);f.displayName="Provider",f.childContextTypes={flux:d.a.instanceOf(m.a.Flux).isRequired};var h=Boolean(e.browser)}.call(t,n(12))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(4),d=n(8),p=n(27),m=n.n(p),f=n(5),h=n.n(f),g=n(45),y=n.n(g),b=n(11),v=n(31),E=n(16),w=n(81),M=n(10),S=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.shouldComponentUpdate=function(e){return e.instrument.lastPrice!==this.props.instrument.lastPrice||e.lastTickDirection!==this.props.lastTickDirection||e.selected!==this.props.selected},t.prototype.render=function(){var e=this,t=this.props,n=t.instrument,r=t.lastTickDirection,a=this.props.label;a||(a=n.symbol);var i=void 0;n.isMultiLeg?(i=n.lastPrice-n.prevClosePrice,h.a.isNaN(i)&&(i=0),i=(i>=0?"+":"")+M.t(i,n.tickSize)):(i=100*n.lastChangePcnt,h.a.isNaN(i)&&(i=0),i=(i>=0?"+":"")+i.toFixed(2)+"%");var o=n.expired?"expired":"",s="symbol "+(this.props.selected?"selected":""),l=b.b+(n.isIndex?"index/":"trade/")+n.symbol,u="lastChangePcnt "+(0===n.lastChangePcnt?"":n.lastChangePcnt>0?"pos":"neg");return c.createElement("span",{className:"tickerBarItem instrument "+r+" "+o,key:n.symbol},c.createElement(E.a,{className:"noBorder noHover "+s,component:"a",href:l,text:function(){return Object(v.e)(w.a.humanReadableSummaryMessage(n),e.context.intl)}},a||""),c.createElement("span",{className:"price"},n.niceLastPrice),c.createElement("span",{className:u,title:"24hr Change"},i))},t}(u.a);S.displayName="TickerBarInstrument",S.defaultProps={lastTickDirection:""};var x=n(23),k=n(138),T=n(7),C=c.createElement(T.FormattedMessage,{id:"tickerBarDetails.span.settlement",defaultMessage:"Settlement",description:"Text label for a given instruments settlement"}),N=c.createElement(T.FormattedMessage,{id:"tickerBarDetails.span.funding",defaultMessage:"Funding",description:"Text label for a given instruments funding"}),P=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.renderer=function(e,t){return t?x.d(t,e):""},t.prototype.utcRenderer=function(e){return x.p(e)},t.prototype.render=function(){var e=this.context,t=e.activeCurrency,n=e.timezoneOffset,r=this.props,a=r.instrument,i=r.responsiveSize,o=a.isSwap,s=m()("expiry tickerBarSection",{isSwap:o});return c.createElement("span",{className:s},a.settle&&"lg"===i?c.createElement("span",{className:"tickerBarItem settlement"},C,": ",c.createElement("b",null,c.createElement(k.a,{component:"span",countdown:a.settle,renderer:this.renderer}))):null,o?c.createElement("span",{className:"tickerBarItem funding"},N,": ",c.createElement("b",null,c.createElement(k.a,{component:"span",countdown:a.fundingTimestamp,renderer:this.renderer}))," @ "+a.getDisplayField("fundingRate",{activeCurrency:t,timezoneOffset:n})):null,"md"===i||"lg"===i?c.createElement("span",{className:"tickerBarItem time"},c.createElement(T.FormattedMessage,{id:"tickerBarDetails.span.time",defaultMessage:"Time: {time}",description:"Message showing the time in UTC",values:{time:c.createElement("b",null,c.createElement(k.a,{component:"span",render:this.utcRenderer}))}})):null)},t}(u.a);P.displayName="TickerBarDetails";var O,F=n(79),I=n(38),L=n.n(I),A=n(9),D={xxs:2,xs:2,sm:4,md:5,lg:6},B=[{sym:"Recent",name:A.a.Recent},{sym:"All",name:A.a.All}],_=L.a.decorate(y.a)(O=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={expanded:!1,hovered:!1,lastTicks:r.generateLastTicks(),recents:[]},r.generateLastTick=function(e,t){var n=r.state&&r.state.lastTicks[t.symbol]||{},a={lastPrice:t.lastPrice,volume:t.volume,direction:n.direction};return e[t.symbol]=a,n.direction&&t.volume===n.volume||(a.direction=t.lastTickDirection+(n.direction===t.lastTickDirection?"2":"")),e},r.onMouseEnter=function(){clearTimeout(r.leaveTimeout),r.setState({hovered:!0})},r.onMouseLeave=function(){r.leaveTimeout=setTimeout(function(){r.setState({hovered:!1})},500)},r.onSelectGroupClick=function(e){if(e.currentTarget instanceof window.HTMLElement){var t=e.currentTarget.getAttribute("data-group-name");r.props.actions.setOption({tickerGroup:t})}},r.toggleExpand=function(){r.setState({expanded:!r.state.expanded})},r.togglePin=function(){r.props.actions.setOption({tickerPinned:!r.props.tickerPinned})},i=n,o()(r,i)}return l()(t,e),t.prototype.getStateFilterKeys=function(){return["expanded","recents"]},t.prototype.componentDidMount=function(){this.setState({recents:this.generateRecent(this.props.selectedInstrument.symbol)})},t.prototype.componentWillReceiveProps=function(e){var t=this,n={lastTicks:this.generateLastTicks()},r=e.selectedInstrument.symbol;r!==this.props.selectedInstrument.symbol&&("Recent"===this.props.tickerGroup&&h.a.includes(this.state.recents,r)||(n.recents=this.generateRecent(r)),"All"!==this.props.tickerGroup&&"Recent"!==this.props.tickerGroup&&this.props.tickerGroup!==e.selectedInstrument.displayRootSymbol&&setTimeout(function(){t.props.actions.setOption({tickerGroup:e.selectedInstrument.displayRootSymbol})})),this.setState(n)},t.prototype.componentWillUnmount=function(){clearTimeout(this.leaveTimeout)},t.prototype.generateLastTicks=function(){return h.a.reduce(this.props.instruments.models.concat(this.props.indices.models),this.generateLastTick,{})},t.prototype.generateRecent=function(e){return h.a.uniq([e].concat(this.state.recents)).slice(0,5)},t.prototype.getIndexGroup=function(e){var t=this,n=[];if("All"===e||"Recent"===e)n.push(".BXBT"),n.push(".ETHXBT"),n.push(".BVOL24H");else{var r=this.props.instruments.find({displayRootSymbol:e});if(!r)return this.getIndexGroup("All");var a=r.getPricingSource(this.props.indices);a&&a.uiVisible&&n.push(a.symbol),"XBT"===r.quoteCurrency&&n.push(".BXBT"),"XBT"===r.underlying&&"XBT"!==r.displayRootSymbol&&n.push(".BXBT")}return c.createElement("span",{className:"indices tickerBarSection"},n.map(function(e){return t.getIndexView(e)}).filter(function(e){return Boolean(e)}))},t.prototype.getIndexView=function(e){var t=this.props.indices.get(e);return t?c.createElement(S,{key:e,instrument:t,label:e,lastTick:this.state.lastTicks[e],selected:!1}):null},t.prototype.getGroupConstituents=function(e){var t=this.props.instruments;return"All"===e?t.models:"Recent"===e?h.a.compact(this.state.recents.map(function(e){return t.get(e)})):t.filter(function(t){return t.displayRootSymbol===e&&t.open&&t.uiVisible})},t.prototype.groupSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=m()({groupSelector:!0,tickerBarItem:!0,selected:this.props.tickerGroup===e});return c.createElement("span",{className:n,"data-group-name":e,onClick:this.onSelectGroupClick,key:e},t)},t.prototype.makeGroups=function(){var e=this,t=this.props,n=t.instruments,r=t.tickerGroup,a=this.state,i=a.expanded;if(!a.hovered&&!i){var o="All"===r||"Recent"===r?A.a[r]:r;return[this.groupSelector(r,o)]}var s=h.a.uniq(n.filter(function(e){return e.open}).sort(F.d).map(function(e){return e.displayRootSymbol}));return[].concat(s.map(function(t){return e.groupSelector(t)}),B.map(function(t){return e.groupSelector(t.sym,t.name)}))},t.prototype.makeExpandToggle=function(){var e=this.state.expanded;return c.createElement("i",{className:"expand fa fa-fw fa-"+(e?"angle-double-up":"angle-double-down"),onClick:this.toggleExpand})},t.prototype.makePinToggle=function(){var e=this.props.tickerPinned;return c.createElement("i",{className:"pin fa fa-fw fa-"+(e?"times":"thumb-tack"),onClick:this.togglePin})},t.prototype.render=function(){var e=this,t=this.props,n=t.selectedInstrument,r=t.tickerGroup,a=t.responsiveSize,i=this.makeGroups(),o=this.getGroupConstituents(r),s=this.getIndexGroup(r),l=m()({tickerBar:!0,pinned:this.props.tickerPinned,expanded:this.state.expanded,overflown:o.length>(D[a]||4)});return c.createElement("div",{className:l},c.createElement("div",{className:"tickerBarInner"},c.createElement(R,{pinned:this.props.tickerPinned,togglePin:this.togglePin}),c.createElement("span",{className:"groupSelectors tickerBarSection "+(this.state.hovered?"hovered":""),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i),c.createElement("span",{className:"instruments tickerBarSection"},h.a.map(o,function(t){var r=e.state.lastTicks[t.symbol]||{};return c.createElement(S,{instrument:t,key:t.symbol,lastTickDirection:r.direction,selected:t.symbol===n.symbol})})),s,c.createElement(P,{instrument:n,responsiveSize:a}),c.createElement(j,{expanded:this.state.expanded,toggleExpand:this.toggleExpand})))},t}(u.a))||O;function R(e){return c.createElement("i",{className:"pin fa fa-fw fa-"+(e.pinned?"times":"thumb-tack"),onClick:e.togglePin})}function j(e){return c.createElement("i",{className:"expand fa fa-fw fa-"+(e.expanded?"angle-double-up":"angle-double-down"),onClick:e.toggleExpand})}_.displayName="TickerBar",_.SCUDeep=!0;t.a=Object(d.a)(function(e){return{actions:e.actions,indices:e.indices,instruments:e.instruments,responsiveSize:e.responsiveSize,selectedInstrument:e.selectedInstrument,tickerGroup:e.options.tickerGroup,tickerPinned:e.options.tickerPinned}})(_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"authRequired",function(){return y}),n.d(t,"default",function(){return b}),t.generateSpec=function(e){var t=[{separator:v},{link:d.b+"wallet",label:E,icon:"bank"},{link:d.b+"deposit",label:w,icon:"btc",authenticated:!0},{link:d.b+"withdraw",label:M,icon:"upload",authenticated:!0},{separator:S},{link:d.b+"account",label:x,icon:"user"},{link:d.b+"preferences",label:k,icon:"gear"},{link:d.b+"affiliates",label:T,icon:"btc"},{link:d.b+"apiKeys",label:C,icon:"bolt",authenticated:!0},{separator:N},{link:d.b+"dtcIntegration",label:P,icon:"bar-chart"},{link:d.b+"ninjaTraderIntegration",label:O,icon:"line-chart"},{separator:g.a.History},{link:d.b+"tradeHistory",label:F,icon:"exchange"},{link:d.b+"orderHistory",label:I,icon:"list-ul"}].concat(L);return Object(f.b)(t,e)},n.d(t,"adminRoutes",function(){return L});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(11),p=n(5),m=(n.n(p),n(82)),f=n(83),h=n(7),g=n(9),y=!0,b=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return c.createElement(m.a,null,c.createElement(f.a,{currentRoute:this.props.currentRoute,spec:this.props.spec}))},t}(u.a);b.displayName="AccountSidebar";var v=c.createElement(h.FormattedMessage,{id:"account.sidebar.header.wallet",defaultMessage:"Wallet",description:"Sidebar header for wallet features"}),E=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.balances",defaultMessage:"Balances",description:"Sidebar link for wallet page"}),w=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.deposit",defaultMessage:"Deposit",description:"Sidebar link for deposit page"}),M=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.withdraw",defaultMessage:"Withdraw",description:"Sidebar link for withdraw page"}),S=c.createElement(h.FormattedMessage,{id:"account.sidebar.header.accountPreferences",defaultMessage:"Account & Preferences",description:"Sidebar header for account & preference features"}),x=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.account",defaultMessage:"My Account",description:"Sidebar link for account page"}),k=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.preferences",defaultMessage:"My Preferences",description:"Sidebar link for preferences page"}),T=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.affiliate",defaultMessage:"Affiliate Status",description:"Sidebar link for affiliate status page"}),C=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.apiKeys",defaultMessage:"API Keys",description:"Sidebar link for API keys page"}),N=c.createElement(h.FormattedMessage,{id:"account.sidebar.header.integrations",defaultMessage:"Integrations",description:"Sidebar header for external API Integrations"}),P=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.dtc",defaultMessage:"DTC (Sierra Chart)",description:"Sidebar link for DTC API integration"}),O=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.ninjaTrader",defaultMessage:"NinjaTrader",description:"Sidebar link for NinjaTrader integration"}),F=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.tradeHistory",defaultMessage:"Trade History",description:"Sidebar link for trade history page"}),I=c.createElement(h.FormattedMessage,{id:"account.sidebar.link.orderHistory",defaultMessage:"Order History",description:"Sidebar link for order history page"});var L=[{separator:"Admin Features",roles:["admin","supportTeam"]},{link:d.b+"adminLookupUser",label:"User Details & History",roles:["admin","supportTeam"]},{link:d.b+"publishNotification",label:"Publish Notification",roles:["admin"]},{link:d.b+"adminWithdrawals",label:"Withdrawals",roles:["admin"]}]},function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r,a=n(0),i=n.n(a),o=n(1),s=n.n(o),l=n(2),c=n.n(l),u=n(3),d=(n.n(u),n(4)),p=n(22),m=n.n(p),f=n(27),h=n.n(f),g=n(5),y=(n.n(g),n(42)),b=(n.n(y),n(38)),v=n.n(b),E=n(45),w=n.n(E),M=v.a.decorate(w.a)(r=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.state={animating:!1,height:"",open:r.props.initialOpen,waitingForMeasurement:!1},r.makeTitle=Object(y.defaultMemoize)(function(e,t,n){var a=null;t&&(a=u.createElement("i",{key:"caret",className:"fa fa-fw fa-chevron-right "+(r.state.open?"fa-rotate-90":"")}));var i="string"==typeof e?u.createElement("span",null,e):e,o=h()("accordion-toggle",i.props.className,{collapsed:!n});return u.cloneElement(i,{key:"title",className:o,onClick:r.toggleAccordion,children:[a].concat(i.props.children)})}),r.toggleAccordion=function(e){if(0===e.button&&!r.props.alwaysOpen){var t=r.calculateHeight();r.state.open?r.setState({height:t,animating:!0},function(){window.requestAnimationFrame(function(){return r.setState({open:!1})})}):r.setState({height:t,open:!0,animating:!0}),r.props.onToggle(!r.state.open)}},a=n,s()(r,a)}return c()(t,e),t.prototype.getStateFilterKeys=function(){return["open"]},t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentDidUpdate=function(e,t){var n=this;this.state.open!==t.open&&(clearTimeout(this.animationTimeout),this.animationTimeout=setTimeout(function(){n.mounted&&n.setState({animating:!1})},350))},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.calculateHeight=function(){var e=this.measuringWrapper;if(!(e instanceof HTMLElement))return"auto";var t=m.a.findDOMNode(e);return t instanceof HTMLElement?t.offsetHeight+"px":"auto"},t.prototype.render=function(){var e=this,t=this.props.alwaysOpen,n=this.state,r=n.animating,a=n.height,i=this.state.open||t,o=h()("accordion-group",this.props.className,{alwaysOpen:t,open:i,closed:!i,animating:r,notAnimating:!r}),s=h()("panel-collapse","collapse",{"open in":i}),l={height:i?r?a:"auto":0};return u.createElement("li",{className:o},this.makeTitle(this.props.title,this.props.showCaret,i),u.createElement("ul",{className:s,style:l},u.createElement("div",{className:"measuringWrapper",ref:function(t){return e.measuringWrapper=t}},u.createElement("div",{className:"borderWrapper"},this.props.children))))},t}(d.a))||r;M.displayName="Accordion",M.defaultProps={alwaysOpen:!1,className:"",initialOpen:!1,localStorageKey:!1,onToggle:function(e){},showCaret:!0}},function(e,t,n){"use strict";var r=n(3),a=s(r),i=s(n(444)),o=s(n(445));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(s){if("function"!=typeof s)throw new Error("Expected WrappedComponent to be a React component.");var l=[],c=void 0;function u(){c=e(l.map(function(e){return e.props})),p.canUseDOM?t(c):n&&(c=n(c))}var d,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.peek=function(){return c},t.rewind=function(){if(t.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=c;return c=void 0,l=[],e},t.prototype.shouldComponentUpdate=function(e){return!(0,o.default)(e,this.props)},t.prototype.componentWillMount=function(){l.push(this),u()},t.prototype.componentDidUpdate=function(){u()},t.prototype.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),u()},t.prototype.render=function(){return a.default.createElement(s,this.props)},t}(r.Component);return p.displayName="SideEffect("+((d=s).displayName||d.name||"Component")+")",p.canUseDOM=i.default.canUseDOM,p}}},function(e,t,n){"use strict";var r={};n.d(r,"Limit",function(){return Ee}),n.d(r,"LimitIfTouched",function(){return Me}),n.d(r,"Market",function(){return xe}),n.d(r,"MarketIfTouched",function(){return Te}),n.d(r,"StopLimit",function(){return Oe}),n.d(r,"Stop",function(){return Ce}),n.d(r,"TrailingStopMarket",function(){return Ie});var a=n(0),i=n.n(a),o=n(1),s=n.n(o),l=n(2),c=n.n(l),u=n(3),d=n(4),p=n(8),m=n(5),f=n.n(m),h=n(27),g=n.n(h),y=n(223),b=n(67),v=n(226),E=n(227),w=n(6),M=n.n(w),S=n(28),x=n.n(S),k=n(22),T=n.n(k),C=(n(80),n(20)),N=n.n(C),P=n(16),O=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.onClick=function(e){if(e.currentTarget instanceof window.HTMLElement)return r.props.onClick(parseFloat(e.currentTarget.getAttribute("data-value")))},a=n,s()(r,a)}return c()(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.intervals.toString!==e.intervals.toString()},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.intervals;return u.createElement("div",{className:"btn-group plusMinusButtons "+n},r.map(function(t,n){return u.createElement(F,{value:t,key:n,onClick:e.onClick})}))},t}(d.a);function F(e){var t=e.onClick,n=e.value,r=n<0?"neg":"pos",a=(n<0?"":"+")+n;return n<1&&n>-1&&(a=a.replace(/0\./,".")),u.createElement("div",{className:"btn btn-xs btn-link"+r,"data-value":n,onClick:t},a)}O.displayName="PlusMinusButtons",O.defaultProps={className:""};var I=n(48),L=n(31),A=n(10),D="_orderControls",B=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.onChange=function(e){!1===r.props.allowNegative&&(e=Math.max(e,0)),r.props.onChange(e)},r.onChangeBy=function(e){r.onChange(Object(A.i)(r.props.value+e,r.props.step))},a=n,s()(r,a)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.addon,n=e.className,r=e.fieldName,a=e.label,i=e.onValidityChange,o=e.plusMinusIntervals,s=e.showPlusMinus,l=e.tooltip,c=e.value,d=N()(e,["addon","className","fieldName","label","onValidityChange","plusMinusIntervals","showPlusMinus","tooltip","value"]),p=this.context.intl,m=s?o.map(function(e){return-1*e}).reverse().concat(o):[];return u.createElement("div",{className:n+" orderControlsInput"},u.createElement("div",{className:"inputWrap"},u.createElement(P.a,{component:"label",htmlFor:r,className:"nowrap",text:l||Object(L.d)(D,r,p)},a||Object(L.c)(D,r,p)),u.createElement("span",{className:"input-group-inline"},t?u.createElement("span",{className:"input-group-addon"},t):null,u.createElement(I.a,M()({name:r,step:1,max:this.props.max,onValidityChange:i,value:c,selectOnFocus:!1},d,{onChange:this.onChange})))),s?u.createElement(O,{intervals:m,onClick:this.onChangeBy}):null)},t}(d.a);B.displayName="OrderControlsInput",B.defaultProps={className:"",max:1e8,plusMinusIntervals:[1,10],showPlusMinus:!1,step:1};n(448);var _=n(44),R=n(14),j=n.n(R),U=u.createElement("i",{className:"fa fa-question-circle"}),H=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.btnClassName,n=e.className,r=e.disabled,a=e.fillPcnt,i=e.tooltip,o=e.label,s=e.onClick;return u.createElement("div",{className:"btnWrapper "+n},u.createElement("button",{className:"btn-lg btn btn-block "+t,disabled:r,onClick:s},u.createElement("label",{className:"nowrap"},o),u.createElement(P.a,{vertFlip:!0,text:i,disableOnTouch:!0},U),this.props.children,u.createElement("div",{className:"fillPcnt",style:{width:100*a+"%"}})))},t}(d.a);H.displayName="OrderControlsButton",H.propTypes={btnClassName:j.a.string,className:j.a.string,disabled:j.a.bool,fillPcnt:j.a.number.isRequired,label:j.a.string.isRequired,onClick:j.a.func.isRequired,tooltip:j.a.oneOfType([j.a.node,j.a.func]).isRequired},H.defaultProps={btnClassName:"",className:"",children:null,disabled:!1,icon:""};var q=n(84),W=_.a.derived;function V(e){return K(e)||W.isStop.fn.call(e)}function z(e){return W.isTakeProfit.fn.call(e)}function K(e){return f.a.startsWith(e.ordType,"TrailingStop")}function Q(e){return W.isMarket.fn.call(e)}function G(e,t){var n=e.stopPx;return K(e)&&(n=e.lastPriceExecInst?t.lastPrice:e.indexPriceExecInst?t.indicativeSettlePrice:t.markPrice,n=Number(A.t(n+e.pegOffsetValue,t.tickSize))),n||0}var X=n(7),Y=n(85),J=n(9),Z=Object(X.defineMessages)({clickToSubmit:{id:"orderControlsButtons.helptext.clickToSubmit",description:"Help text that summarizes the order",defaultMessage:"Click to submit a {isBuy, select, true {Buy} other {Sell}} {orderType} order for {quantity, number} {quantity, plural, one {contract} other {contracts}} of {symbol} at {price}."},quantityChange:{id:"orderControlsButtons.helptext.marketQuantityChange",description:"Help text showing the change in the users existing position",defaultMessage:"{isMarket, select, true {This will} other {If fully executed, this would}} {isIncreasing, select, true {increase} other {decrease}} your position from {currentQuantity, number} to {newQuantity, number} {newQuantity, plural, one {contract} other {contracts}}."},explainWhiteBar:{id:"orderControlsButtons.helptext.explainWhiteBar",description:"Help text explaining UI bar that indicates probability of order being filled immediately",defaultMessage:"The white bar at the bottom of the button, if present, indicates how much of this order is likely to fill immediately when your order hits the book."},liqPrice:{id:"orderControlsButtons.helptext.liqPrice",description:"Help text to be shown if liquidation price is available",defaultMessage:"Your estimated liquidation price after execution would be {liqPrice}."},stopTrigger:{id:"orderControlsButtons.helptext.stopTrigger",description:"Help text that shows trigger price if order is a stop order",defaultMessage:"It will trigger at a {triggerType} of {stopPrice} or {isAbove, select, true {above} other {below}}."},stopTriggerInline:{id:"orderControlsButtons.helptext.stopTriggerInline",description:"Shows what price a stop triggers at, inside the order button",defaultMessage:"Trigger: {side} {price}"}});var $="_orderControls",ee=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.getBuyTooltip=function(){return r.getOrderSideTooltip("Buy")},r.getSellTooltip=function(){return r.getOrderSideTooltip("Sell")},a=n,s()(r,a)}return c()(t,e),t.prototype.getBidAsk=function(){var e=this.props,t=e.instrument,n=e.orderInput,r=n.ordType,a=n.price,i="Market"===r;return{bidPrice:(i?t.bidPrice:a)||a,askPrice:(i?t.askPrice:a)||a}},t.prototype.getFillPcnt=function(e){var t=this.props,n=t.instrument,r=t.orderInput;return Q(r)?1:V(r)?0:new _.a({price:r.price,orderQty:e,symbol:n.symbol}).getFillPercent()},t.prototype.getMarginRequirements=function(){var e=this.props,t=e.instrument,n=e.orderInput,r=e.position,a=this.context.activeCurrency,i=n.orderQty,o=this.getBidAsk(),s=o.bidPrice,l=o.askPrice,c=function(e){return A.g(e,a)};return[c(A.m(t,r,-1*i,s)),c(A.m(t,r,i,l))]},t.prototype.getLiquidationPrices=function(){var e=this.props,t=e.instrument,n=e.margin,r=e.orderInput,a=e.position,i=r.orderQty,o=this.getBidAsk(),s=o.bidPrice,l=o.askPrice;return[A.l(t,a,n,-1*i,s),A.l(t,a,n,i,l)]},t.prototype.getOrderSideTooltip=function(e){var t=this.getLiquidationPrices(),n=t[0],r=t[1],a=this.context.intl,i=this.props;return function(e,t,n,r,a,i){var o=r.ordType,s=r.orderQty,l=a||0,c=l+("Buy"===t?s:-s),u=V(r),d=Q(r),p=z(r),m=A.t(r.price,n.tickSize),f=e.formatMessage(Z.clickToSubmit,{orderType:e.formatMessage(Y.a[o].props),quantity:s,isBuy:"Buy"===t,symbol:n.symbol,price:d?e.formatMessage(J.a.Market.props):m});if(u){var h=K(r)?G(r,n):r.stopPx,g=r.lastPriceExecInst?"Last Price":r.indexPriceExecInst?"Index Price":"Mark Price",y=e.formatMessage(J.a[g].props),b="Buy"===t;p&&(b=!b),f+=" "+e.formatMessage(Z.stopTrigger,{triggerType:y,stopPrice:A.t(h,n.tickSize),isAbove:b})}return f+=" "+e.formatMessage(Z.quantityChange,{currentQuantity:l,newQuantity:c,isIncreasing:Math.abs(c)>Math.abs(l),side:t,isMarket:d}),d||u||(f+="\n\n"+e.formatMessage(Z.explainWhiteBar)),i&&!u&&(f+="\n\n"+e.formatMessage(Z.liqPrice,{liqPrice:i})),f}(a,e,i.instrument,i.orderInput,i.position.currentQty||0,"Buy"===e?r:n)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.enableBuy,r=e.enableSell,a=e.instrument,i=e.orderInput,o=i.ordType,s=this.context.intl,l=this.getFillPcnt(i.orderQty),c=this.getFillPcnt(-i.orderQty),d=this.getMarginRequirements(),p=d[0],m=d[1],f=function(e,t,n){var r=Q(n),a=V(n),i=z(n),o=function(e){return A.t(e,t.tickSize)},s="",l="";if(a){var c=r?e.formatMessage(J.a.Market.props):o(n.price),u=o(G(n,t));s=c+"\n"+e.formatMessage(Z.stopTriggerInline,{side:i?"â‰¤":"â‰Ą",price:u}),l=c+"\n"+e.formatMessage(Z.stopTriggerInline,{side:i?"â‰Ą":"â‰¤",price:u})}else r?(s="â‰Ą "+o(t.askPrice||0),l="â‰¤ "+o(t.bidPrice||0)):s=l=o(n.price);return[s,l]}(s,a,i),h=f[0],g=f[1],y=Object(L.c)($,"buy"+o,s),b=Object(L.c)($,"sell"+o,s),v=Object(L.d)($,"cost",s);return u.createElement("div",{className:"inputsRow row orderControlsButtons "+t},u.createElement("div",{className:"col-xs-6"},u.createElement(H,{btnClassName:"btn-success buy",icon:"arrow-up",label:y,tooltip:this.getBuyTooltip,disabled:!n,fillPcnt:l,onClick:this.props.onBuy},u.createElement("div",{className:"summary"},i.orderQty+" @ "+h)),u.createElement(P.a,{text:v},u.createElement("div",{className:"cost nowrap"},q.a["Cost: {value}"](m)))),u.createElement("div",{className:"col-xs-6"},u.createElement(H,{btnClassName:"btn-danger sell",icon:"arrow-down",label:b,tooltip:this.getSellTooltip,disabled:!r,fillPcnt:c,onClick:this.props.onSell},u.createElement("div",{className:"summary"},i.orderQty+" @ "+g)),u.createElement(P.a,{text:v},u.createElement("div",{className:"cost text-align-right nowrap"},q.a["Cost: {value}"](p)))))},t}(d.a);ee.displayName="OrderControlsButtons",ee.defaultProps={className:"",enableBuy:!0,enableSell:!0};var te=n(42),ne={XBT:[10,100],XBJ:[10,100],other:[1,10]},re=Object(te.defaultMemoize)(function(e){return[e,parseFloat(A.t(25*e,e))]}),ae=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.state={inputValid:!0,inputsValidity:[!0,!0,!0,!0]},r.inputs={},r.onInputValidityChange=function(e,t){var n=r.state.inputsValidity;n[e]=t,r.setState({inputsValidity:n,inputValid:f.a.every(n)})},r.onBuy=function(e){r.props.onBuy(e,function(){return r.validateInputs()})},r.onSell=function(e){r.props.onSell(e,function(){return r.validateInputs()})},a=n,s()(r,a)}return c()(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props.orderInput,n=e.orderInput;if(!f.a.isEqual(t,n)&&!e.instrument.isMultiLeg&&0!==n.price&&0!==n.orderQty){var r=this.state.inputsValidity;["orderQty","price","stopPx"].forEach(function(e,a){n[e]!==t[e]&&(r[a]=!0)}),this.setState({inputsValidity:r,inputValid:f.a.every(r)})}},t.prototype.validateInputs=function(){var e=this,t=this.props.orderInput,n=function(t,n,r){var a=new Error("Input mismatch: "+t+" data does not match DOM. Input value: "+n+", Store value: "+r);throw e.setState({inputValid:!1}),a},r=["price","orderQty","stopPx"],a=Array.isArray(r),i=0;for(r=a?r:x()(r);;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o,l=T.a.findDOMNode(this.inputs[s]);if(l instanceof HTMLElement){var c=l.querySelector("input");c instanceof HTMLInputElement&&parseFloat(c.value)!==t[s]&&n(s,c.value,t[s])}}t.orderQty<0&&n("orderQty",t.orderQty,t.orderQty)},t.prototype.render=function(){var e=this,t=this.props,n=t.instrument,r=t.margin,a=t.orderInput,i=t.plusMinusEnabled,o=t.position,s=this.props,l=s.enableBuy,c=s.enableSell,d=s.showOrderQty,p=s.showPrice,m=s.showStopPx,f=s.showPegOffsetValue,h=n.isMultiLeg,g=n.tickSize,y=z(a),b=ne[n.rootSymbol]||ne.other,v=0===this.props.orderSubmitInProgress.indexOf("submit")||!this.state.inputValid||!this.props.inputValid;return u.createElement("div",{className:"orderControlsInputs inputs "+this.props.className},u.createElement("div",{className:"numInputs clearfix"},d?u.createElement(B,{fieldName:"orderQty",key:"orderQty",ref:function(t){return e.inputs.orderQty=t},addon:n.positionCurrency||"Cont",label:Object(L.c)("_orderControls","orderQty",this.context.intl),value:a.orderQty,className:"qty",onChange:this.props.onOrderQtyChange,plusMinusIntervals:b,onValidityChange:this.bindCallback(this.onInputValidityChange,0),showPlusMinus:i,allowZero:!1,allowDecimal:!1,allowNegative:!1,step:1}):null,p?u.createElement(B,{fieldName:"price",key:"price",ref:function(t){return e.inputs.price=t},addon:n.quoteCurrencyString,label:Object(L.c)("_orderControls","price",this.context.intl),value:a.price,className:"price",onChange:this.props.onPriceChange,plusMinusIntervals:re(g),onValidityChange:this.bindCallback(this.onInputValidityChange,1),showPlusMinus:i,allowZero:h,allowDecimal:!0,allowNegative:h,step:g,required:!0}):null,null,m?u.createElement(B,{fieldName:y?"triggerPx":"stopPx",key:y?"triggerPx":"stopPx",ref:function(t){return e.inputs.stopPx=t},addon:n.quoteCurrency,label:Object(L.c)("_orderControls",y?"triggerPx":"stopPx",this.context.intl),value:a.stopPx,className:"stopPx",onChange:this.props.onStopPxChange,plusMinusIntervals:re(g),onValidityChange:this.bindCallback(this.onInputValidityChange,2),showPlusMinus:i,allowZero:h,allowDecimal:!0,allowNegative:h,step:g,required:!0}):null,null,f?u.createElement(B,{fieldName:"pegOffsetValue",key:"pegOffsetValue",ref:function(t){return e.inputs.pegOffsetValue=t},addon:n.quoteCurrency,label:Object(L.c)("_orderControls","pegOffsetValue",this.context.intl),value:a.pegOffsetValue,className:"pegOffsetValue",onChange:this.props.onPegOffsetValueChange,plusMinusIntervals:re(g),onValidityChange:this.bindCallback(this.onInputValidityChange,3),showPlusMinus:i,allowZero:!0,allowDecimal:!0,allowNegative:!0,step:g,required:!0}):null),u.createElement(ee,{instrument:n,position:o,orderInput:a,margin:r,onBuy:this.onBuy,onSell:this.onSell,showPriceInButtons:"Market"===a.ordType,enableBuy:l&&!v,enableSell:c&&!v}))},t}(d.a);ae.displayName="OrderControlsInputs",ae.defaultProps={className:"",enableBuy:!0,enableSell:!0,plusMinusEnabled:!1,showPrice:!0,showOrderQty:!0,showStopPx:!1,showPegOffsetValue:!1,showLeverage:!0};var ie=n(228),oe={"tooltip.priceTrigger":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.tooltip.priceTrigger",defaultMessage:"Choose which price will trigger this stop:\n\nLast Price: Last traded price on BitMEX\nIndex Price: Last price on reference exchange\nMark Price: Mark price on BitMEX (Index + Basis)\n",description:"Tooltip text for explaining mark price trigger"}),"label.priceTrigger":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.label.priceTrigger",defaultMessage:"Trigger",description:"Label text for order price trigger option"}),"tooltip.closeExecInst":function(e){return u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.tooltip.closeExecInst",defaultMessage:"If checked, this will be a Close order. Close orders can only reduce your position, not increase it. If the account has insufficient Available Balance when the Close order is triggered, then other {symbol} orders will be canceled or amended down.\n\nUse to ensure your stop reduces your position regardless of other open orders.",description:"Tooltip text for explaining Close on Trigger order option",values:{symbol:e}})},"label.closeExecInst":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.label.closeExecInst",defaultMessage:"Close on Trigger",description:"Label text for Close on Trigger order option"}),"tooltip.postOnlyExecInst":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.tooltip.postOnlyExecInst",defaultMessage:"A Post-Only Order will not execute immediately against the market. Use to ensure a Maker Rebate. If it would execute against resting orders, it will cancel instead.",description:"Tooltip text explaining Post-Only orders"}),"label.postOnlyExecInst":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.label.postOnlyExecInst",defaultMessage:"Post-Only",description:"Label text for Post-Only order option"}),"tooltip.reduceOnlyExecInst":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.tooltip.reduceOnlyExecInst",defaultMessage:"A Reduce-Only Order will only reduce your position, not increase it. If this order would increase your position, it is amended down or canceled such that it does not.",description:"Tooltip text for Reduce-Only order option"}),"label.reduceOnlyExecInst":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.label.reduceOnlyExecInst",defaultMessage:"Reduce-Only",description:"Label text for Reduce-Only order option"}),"tooltip.hidden":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.tooltip.hidden",defaultMessage:"Hidden Orders do not display in the book.",description:"Tooltip text explaining hidden order option"}),"label.hidden":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.label.hidden",defaultMessage:"Hidden",description:"Label text for advanced order option that hides orders"}),"label.displayQuantity":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.label.displayQuantity",defaultMessage:"Display Qty",description:"Label text for Display Quantity"}),"tooltip.timeInForce":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.tooltip.timeInForce",defaultMessage:"The Time In Force for this order. The default is GoodTillCancel. If your order is set to ImmediateOrCancel, any unfilled portion left immediately after placement is canceled. If set to FillOrKill, the order will only execute if its full quantity can be immediately filled.",description:"Label text for Time In Force"}),"tooltip.displayQuantity":u.createElement(X.FormattedMessage,{id:"orderControlsAdvanced.tooltip.displayQuantity",defaultMessage:"Set to 0 for a completely hidden order, or set to any amount below your total order quantity to create an iceberg order.",description:"Tooltip text for explaining display quantity option"})},se={Day:u.createElement(X.FormattedMessage,{id:"orderTIF.day",defaultMessage:"Session",description:"Order time-in-force text for a Day order. This is better-known as 'Session'"}),GoodTillCancel:u.createElement(X.FormattedMessage,{id:"orderTIF.goodTillCancel",defaultMessage:"GoodTillCancel",description:"Order time-in-force text for a GoodTillCancel order"}),FillOrKill:u.createElement(X.FormattedMessage,{id:"orderTIF.fillOrKill",defaultMessage:"FillOrKill",description:"Order time-in-force text for a FillOrKill order"}),ImmediateOrCancel:u.createElement(X.FormattedMessage,{id:"orderTIF.immediateOrCancel",defaultMessage:"ImmediateOrCancel",description:"Order time-in-force text for a ImmediateOrCancel order"}),title:u.createElement(X.FormattedMessage,{id:"orderTIF.title",defaultMessage:"Time In Force",description:"Title text Time In Force dropdown."})},le=n(136),ce=_.a.advancedFeatures,ue=u.createElement("i",{className:"fa fa-fw fa-question-circle"}),de=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.onChangeDisplayQty=function(e){r.props.actions.changeOrderInput({displayQty:e})},r.onTimeInForceChange=function(e){r.props.actions.changeOrderInput({timeInForce:e})},r.onTriggerExecInstChange=function(e){var t=e.target.value;r.props.actions.changeOrderInput({lastPriceExecInst:"Last Price"===t,indexPriceExecInst:"Index Price"===t})},r.toggleBool=function(e){var t;r.props.actions.changeOrderInput(((t={})[e]=!r.props.orderInput[e],t))},r.toggleDisplayQty=function(){null===r.props.orderInput.displayQty?r.props.actions.changeOrderInput({displayQty:0}):(r.props.onValidityChange(!0),r.props.actions.disableOrderInput("displayQty"))},a=n,s()(r,a)}return c()(t,e),t.prototype.makeCheckbox=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.orderInput[e];if("boolean"!=typeof r)throw new Error("Can't make non-boolean checkbox.");var a=oe["label."+e],i=oe["tooltip."+e];return"function"==typeof i&&(i=i(this.props.instrument.symbol)),u.createElement("div",{className:"advItem"+(n?" disabled":"")},u.createElement(P.a,{component:"label",text:i,className:r?"active":""},a,u.createElement("input",{id:e,type:"checkbox",checked:r,onChange:function(){return t.toggleBool(e)},disabled:n})))},t.prototype.render=function(){var e=this.props,t=e.className,n=e.instrument,r=e.ordType,a=e.orderInput,i=N()(e,["className","instrument","ordType","orderInput"]),o=this.props.features||ce[r];if(this.props.features&&this.props.ordType)throw new Error("Don't specify both ordType and features!");if(!o.length)return null;var s=function(e){return f.a.includes(o,e)},l=a.postOnlyExecInst,c=!l&&"number"==typeof a.displayQty,d=c||"ImmediateOrCancel"===a.timeInForce||"FillOrKill"===a.timeInForce,p=!0===a.postOnlyExecInst;return u.createElement("div",{className:(t||"")+" orderControlsAdvanced well"},s("lastPriceExecInst")||s("indexPriceExecInst")?u.createElement("div",{className:"advItem tall"},u.createElement(P.a,{component:"label",text:oe["tooltip.priceTrigger"],className:a.lastPriceExecInst||a.indexPriceExecInst?"active":""},oe["label.priceTrigger"],u.createElement(pe,{features:o,onChange:this.onTriggerExecInstChange,orderInput:a}))):null,s("closeExecInst")?this.makeCheckbox("closeExecInst"):null,s("postOnlyExecInst")?this.makeCheckbox("postOnlyExecInst",d):null,s("displayQty")?u.createElement("div",{className:"advItem"+(l?" disabled":"")},u.createElement(P.a,{component:"label",text:oe["tooltip.hidden"],className:c?"active":""},oe["label.hidden"],u.createElement("input",{id:"showDisplayQty",disabled:l,type:"checkbox",checked:"number"==typeof a.displayQty,onChange:this.toggleDisplayQty})),c&&s("displayQty")?u.createElement("div",{className:"displayQty subControl"},u.createElement(B,M()({},i,{fieldName:"displayQty",showPlusMinus:!1,label:u.createElement("span",null,oe["label.displayQuantity"],"Â Â ",ue),tooltip:oe["tooltip.displayQuantity"],addon:n.positionCurrency||"Cont",onChange:this.onChangeDisplayQty,value:a.displayQty||0,onValidityChange:this.props.onValidityChange,min:0,max:a.orderQty}))):null):null,s("timeInForce")?u.createElement("div",{className:"advItem tall"+(p?" disabled":"")},u.createElement(P.a,{component:"label",text:oe["tooltip.timeInForce"]},u.createElement(me,{onChange:this.onTimeInForceChange,value:a.timeInForce,disabled:p}))):null,s("reduceOnlyExecInst")?this.makeCheckbox("reduceOnlyExecInst"):null)},t}(d.a);de.displayName="OrderControlsAdvanced",de.defaultProps={className:""},de.SCUSelector={props:["orderInput"]};var pe=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.features,n=e.onChange,r=e.orderInput,a=this.context.intl,i=["Mark Price"];f.a.includes(t,"lastPriceExecInst")&&i.push("Last Price"),f.a.includes(t,"indexPriceExecInst")&&i.push("Index Price");var o=r.lastPriceExecInst?"Last Price":r.indexPriceExecInst?"Index Price":"Mark Price";return u.createElement("select",{className:"triggerExecInst",onChange:n,value:o},i.map(function(e){return u.createElement("option",{key:e,value:e},a.formatMessage(J.a[e.split(" ")[0]].props))}))},t}(d.a);pe.displayName="PriceTriggerSelector";var me=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.renderItem=function(e){return se[e]},a=n,s()(r,a)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.value,r=e.onChange,a="tif";return"GoodTillCancel"!==n&&(a+=" active"),u.createElement(ie.a,{className:a,onChange:r,options:le.TIF_TYPES,value:n,disabled:t,itemRenderer:this.renderItem,usePortal:!0,title:se.title,showCaret:!0})},t}(d.a);me.displayName="TimeInForceSelector";var fe=Object(p.a)(function(e){return{actions:e.actions}})(de),he=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.state={inputValid:!0},r.isStop="Stop"===r.props.orderInput.ordType.slice(0,4),r.isMarket="Market"===r.props.orderInput.ordType||"Stop"===r.props.orderInput.ordType,r.isClose="Close"===r.props.orderInput.ordType.slice(0,5),r.onDisplayQtyChange=function(e){r.props.actions.changeOrderInput({displayQty:e})},r.onOrderQtyChange=function(e){r.props.actions.changeOrderInput({orderQty:e})},r.onPriceChange=function(e){r.props.actions.changeOrderInput({price:e})},r.onStopPxChange=function(e){r.props.actions.changeOrderInput({stopPx:e})},r.onPegOffsetValueChange=function(e){r.props.actions.changeOrderInput({pegOffsetValue:e})},r.onBuy=function(e,t){e.currentTarget instanceof window.HTMLElement&&e.currentTarget.blur(),r.submitOrder("Buy",t)},r.onSell=function(e,t){e.currentTarget instanceof window.HTMLElement&&e.currentTarget.blur(),r.submitOrder("Sell",t)},r.onInputValidityChange=function(e){r.setState({inputValid:e})},a=n,s()(r,a)}return c()(t,e),t.prototype.autoBindInputs=function(){return M()({},f.a.pick(this,["onBuy","onSell","onOrderQtyChange","onPriceChange","onStopPxChange","onLeverageChange","onPegOffsetValueChange"]),{inputValid:this.state.inputValid})},t.prototype.focusQty=function(){var e=this.props.responsiveSize;if("md"===e||"lg"===e){var t=T.a.findDOMNode(this),n=t&&t.querySelector("input[name=price]");n&&n.focus()}},t.prototype.submitOrder=function(e,t){var n=M()({},this.props.orderInput,{side:e});this.props.actions.submitOrder({payload:n,validateFn:t})},t.prototype.render=function(){throw new Error("Implement render() on <OrderTypeSuper>")},t}(d.a);he.displayName="OrderTypeSuper";var ge=n(11),ye=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.tooltip,n=e.value,r=this.props.label||Object(L.a)(this.props.keyStr||"")+(n?": ":""),a=[u.createElement("span",{className:"key",key:"key"},r),u.createElement("span",{className:"value",key:"val"},n)];return t?u.createElement(P.a,{text:t,textTitle:r},a):a},t}(d.a);ye.displayName="KeyVal";var be="_orderControls",ve=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.currencyString=function(e,t){return this.keyVal(e,A.g(t[e]||0,this.context.activeCurrency))},t.prototype.keyVal=function(e,t,n){var r=this.context.intl,a=Object(L.c)(be,e,r);return n=n||Object(L.d)(be,e,r),u.createElement(ye,{label:a,keyStr:e,value:t,tooltip:n})},t.prototype.render=function(){var e=this.props,t=e.instrument,n=e.margin,r=e.orderInput,a=r.orderQty,i=r.price,o=t.getCostsForQuantityAndPrice(a,i);return u.createElement("div",{className:"buySellInfo"},u.createElement("div",{className:"lineItem"},this.currencyString("grossValue",o)),u.createElement("div",{className:"lineItem"},u.createElement("a",{href:ge.b+"wallet",className:"noColor"},this.currencyString("excessMargin",n))))},t}(d.a);ve.displayName="ContractBuySellInfo";var Ee=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.instrument,n=e.orderInput,r=t.limitUpPrice,a=t.limitDownPrice,i=r&&n.price>r,o=a&&n.price<a;return u.createElement("div",{className:"controlsBody limit",key:"Limit"},this.props.children,u.createElement(ae,M()({},this.props,{enableBuy:!i,enableSell:!o,showPrice:!0,showOrderQty:!0},this.autoBindInputs(),{ordType:"Limit"})),u.createElement(ve,this.props),u.createElement(fe,M()({},this.props,{ordType:"Limit",onValidityChange:this.onInputValidityChange})))},t}(he),we="LimitIfTouched",Me=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.instrument,a=n.orderInput,i=(t=r,(e=a).lastPriceExecInst?t.lastPrice:e.indexPriceExecInst?t.indicativeSettlePrice:t.markPrice),o=a.stopPx>=i,s=a.stopPx<=i;return u.createElement("div",{className:"controlsBody limitIfTouched",key:we},this.props.children,u.createElement(ae,M()({},this.props,{enableBuy:!o,enableSell:!s,showPrice:!0,showOrderQty:!0,showStopPx:!0},this.autoBindInputs(),{ordType:we})),u.createElement(ve,this.props),u.createElement(fe,M()({},this.props,{ordType:we,onValidityChange:this.onInputValidityChange})))},t}(he);var Se="Market",xe=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){return u.createElement("div",{className:"controlsBody market",key:Se},this.props.children,u.createElement(ae,M()({},this.props,{enableBuy:!0,enableSell:!0,showPrice:!1,showOrderQty:!0},this.autoBindInputs(),{ordType:Se})),u.createElement(ve,this.props),u.createElement(fe,M()({},this.props,{ordType:Se,onValidityChange:this.onInputValidityChange})))},t}(he),ke="MarketIfTouched",Te=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.instrument,a=n.orderInput,i=(t=r,(e=a).lastPriceExecInst?t.lastPrice:e.indexPriceExecInst?t.indicativeSettlePrice:t.markPrice),o=a.stopPx>=i,s=a.stopPx<=i;return u.createElement("div",{className:"controlsBody marketIfTouched",key:ke},this.props.children,u.createElement(ae,M()({},this.props,{enableBuy:!o,enableSell:!s,showPrice:!1,showOrderQty:!0,showStopPx:!0},this.autoBindInputs(),{ordType:ke})),u.createElement(ve,this.props),u.createElement(fe,M()({},this.props,{ordType:ke,onValidityChange:this.onInputValidityChange})))},t}(he);var Ce=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.instrument,n=e.orderInput,r=Ne(n,t),a=n.stopPx<=r,i=n.stopPx>=r;return u.createElement("div",{className:"controlsBody stopMarket",key:"Stop"},this.props.children,u.createElement(ae,M()({},this.props,{enableBuy:!a,enableSell:!i,showPrice:!1,showOrderQty:!0,showStopPx:!0},this.autoBindInputs(),{ordType:"Stop"})),u.createElement(ve,this.props),u.createElement(fe,M()({},this.props,{ordType:"Stop",onValidityChange:this.onInputValidityChange})))},t}(he);function Ne(e,t){return e.lastPriceExecInst?t.lastPrice:e.indexPriceExecInst?t.indicativeSettlePrice:t.markPrice}var Pe="StopLimit",Oe=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.instrument,n=e.orderInput,r=Ne(n,t),a=n.stopPx<=r,i=n.stopPx>=r;return u.createElement("div",{className:"controlsBody stopLimit",key:Pe},this.props.children,u.createElement(ae,M()({},this.props,{enableBuy:!a,enableSell:!i,showPrice:!0,showOrderQty:!0,showStopPx:!0},this.autoBindInputs(),{ordType:Pe})),u.createElement(ve,this.props),u.createElement(fe,M()({},this.props,{ordType:Pe,onValidityChange:this.onInputValidityChange})))},t}(he),Fe="TrailingStopMarket",Ie=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props.orderInput.pegOffsetValue||0;return u.createElement("div",{className:"controlsBody stopLimit",key:Fe},this.props.children,u.createElement(ae,M()({},this.props,{enableBuy:e>0,enableSell:e<0,showPrice:!1,showOrderQty:!0,showPegOffsetValue:!0},this.autoBindInputs(),{ordType:Fe})),u.createElement(ve,this.props),u.createElement(fe,M()({},this.props,{ordType:Fe,onValidityChange:this.onInputValidityChange})))},t}(he),Le=n(23),Ae=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.orderInput,n=e.instrument,a=t.ordType;"StopMarket"===a&&(a="Stop");var i=r[a];return i||(i=Ee,console.error("Unable to find selected order type: "+a)),n.open?u.createElement(i,this.props):u.createElement("div",{className:"orderControlsInputs closed"},u.createElement(X.FormattedMessage,{id:"orderTypeWrapper.divtext.suspended",defaultMessage:"This instrument is {state}; trading is suspended.",description:"Text instructing user that an instrument is suspended",values:{state:n.state.toLowerCase()}}),n.relistIntervalReal?u.createElement(X.FormattedMessage,{id:"orderTypeWrapper.divtext.relist",defaultMessage:"This is a {interval} contract. It will relist shortly.",description:"Text instructing user that an instrument will relist",values:{interval:Le.u(n.relistIntervalReal)}}):"")},t}(d.a);Ae.displayName="OrderTypeWrapper";var De=n(229),Be=f.a.map(le.ORDER_TYPES,function(e){return Y.a[e]}),_e=f.a.map(le.ORDER_TYPES,function(e){return Y.b[e]}),Re=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.onOrdTypeChange=function(e){le.ORDER_TYPES;var t=le.ORDER_TYPES[e];r.props.onOrdTypeChange({ordType:t})},a=n,s()(r,a)}return c()(t,e),t.prototype.render=function(){var e=this.props.ordType;return u.createElement(De.a,{className:"ordTypes mini",tabs:Be,tooltips:_e,currentTab:le.ORDER_TYPES.indexOf(e),onTabSwitch:this.onOrdTypeChange})},t}(d.a);Re.displayName="OrderTypeSelector";var je=n(100),Ue=2,He=["_positionStatusIndicator","_orderControls","position"],qe=u.createElement("i",{className:"fa fa-fw fa-exchange"}),We=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.state={page:0},r.onPageSwitch=function(e){r.setState({page:(r.state.page+1)%Ue})},r.onPositionClick=function(e){r.props.actions.changeOrderInput({orderQty:Math.abs(r.props.position.currentQty)})},a=n,s()(r,a)}return c()(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.position.symbol!==e.position.symbol&&this.setState({page:0})},t.prototype.render=function(){var e=this.props,t=e.instrument,n=e.position,r=this.state.page,a=this.context,i=a.activeCurrency,o=a.intl,s=a.timezoneOffset,l=n.getDisplayField("unrealisedRoePcnt",{activeCurrency:i,timezoneOffset:s}),c=n.currentQty,d=n.unrealisedRoePcnt,p=Ve(c),m=Ve(d),f=n.getDisplayField("unrealisedPnl",{activeCurrency:i,timezoneOffset:s}),h=Number(n.avgCostPrice),g=c<0,y=Number(t.markPrice),b=g?h-y:y-h;return u.createElement("div",{className:"positionStatusIndicator hoverContainer"},n.currentQty?u.createElement("div",{className:"switchPage",onClick:this.onPageSwitch},qe):null,0===r?u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-6"},u.createElement("div",{className:"posValue linkify "+p,onClick:this.onPositionClick},c),u.createElement("span",{className:"posLabel"},J.a.Contracts)),u.createElement("div",{className:"col-xs-6"},u.createElement("div",{className:"posValue "+m},l),u.createElement(P.a,{className:"posLabel",text:Object(L.d)(He,"roe",o)},J.a.ROE))):1===r?u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-6"},u.createElement("div",{className:"posValue small "+p},n.homeNotionalCurr),u.createElement(P.a,{className:"posLabel",text:Object(L.d)(He,"value",o)},J.a.Value)),u.createElement("div",{className:"col-xs-6"},u.createElement("div",{className:"posValue small "+m},f),u.createElement(P.a,{className:"posLabel",text:Object(L.d)(He,"roePcnt",o)},J.a.ROE))):null,n.currentQty?0===r?u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-6 avgCost"},u.createElement("div",{className:"posValue smallish"},n.avgCostPrice),u.createElement(P.a,{className:"posLabel",text:Object(L.d)(He,"avgCostPrice",o)},J.a["Entry Price"])),u.createElement("div",{className:"col-xs-6 avgCost"},u.createElement("div",{className:"posValue smallish"},n.liquidationPrice),u.createElement(P.a,{className:"posLabel",text:Object(L.d)(He,"liquidationPrice",o)},Object(L.c)(He,"liquidationPrice",o)))):1===r?u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-6 avgCost"},u.createElement("div",{className:"posValue smallish"},n.avgCostPrice),u.createElement(P.a,{className:"posLabel",text:Object(L.d)(He,"avgCostPrice",o)},Object(L.c)(He,"avgCostPrice",o))),u.createElement("div",{className:"col-xs-6 avgCost"},u.createElement("div",{className:"posValue smallish"},u.createElement(je.a,{tickSize:t.tickSize,value:b})),u.createElement(P.a,{className:"posLabel",text:Object(L.d)(He,"priceDelta",o)},Object(L.c)(He,"priceDelta",o)))):null:null)},t}(d.a);function Ve(e){return 0===e?"":e>0?"pricePos":"priceNeg"}We.displayName="PositionStatusIndicator";var ze=Object(p.a)(function(e){return{actions:e.actions}})(We),Ke=n(138),Qe=n(232),Ge=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.component,a=e.hoverContent;return e.isHoverSupported?u.createElement(Qe.a,{className:n,component:r,hoverContent:a},t):[u.createElement(r,{key:"1",className:n},t),u.createElement(r,{key:"2",className:n},a)]},t}(d.a);Ge.displayName="TouchHoverable",Ge.defaultProps={className:"hoverContainer",component:"span",isHoverSupported:!0};var Xe=n(233),Ye="instrument",Je=Object(X.defineMessages)({pricingSource:{id:"contractStats.label.pricingSource",defaultMessage:"Pricing Source",description:"Label text for where the source price for a given contract originates"},pricingSourceTooltip:{id:"contractStats.tooltip.pricingSource",defaultMessage:"The source used for pricing data.",description:"Tooltip text for the source of pricing data"},pricingSourcePrice:{id:"contractStats.tooltip.indicativeSettlePrice",defaultMessage:"{pricingSource} Price",description:"Label text for the value of the underlying price"}}),Ze=u.createElement(X.FormattedMessage,{id:"contractStats.anchor.moreDetails",defaultMessage:"More Details...",description:"Anchor url text for getting more information for a given contract"}),$e=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.keyVal=function(e,t,n){var r=this.context.intl,a=Object(L.c)(Ye,e,r);return n=n||Object(L.d)(Ye,e,r),u.createElement(ye,{label:a,keyStr:e,value:t,tooltip:n})},t.prototype.render=function(){var e=this.props,t=e.indices,n=e.instrument,r=e.position,a=e.responsiveSize,i=this.context,o=i.activeCurrency,s=i.intl,l=i.timezoneOffset,c=s.formatMessage,d={activeCurrency:o,timezoneOffset:l},p=n.getPricingSource(t),m=p?p.reference:"---",f=Xe.a["name."+m],h=f?c(f.props):"---",g=c(J.a["Contracts (Num)"].props),y=Object(L.c)(Ye,"expiry",this.context.intl),b="xs"!==a&&"xxs"!==a,v=function(e){return e>0?"pricePos":e<0?"priceNeg":""},E=function(e){return n.getDisplayField(e,d)},w=function(e){var t=-1*r[e];return u.createElement("span",{className:v(t)},r.getDisplayFieldBase(e,t,d))};return u.createElement("div",{className:"contractStats hoverContainer block"},"---"!==h?u.createElement("div",{className:"lineItem"},u.createElement(ye,{label:c(Je.pricingSource),tooltip:c(Je.pricingSourceTooltip),value:h})):null,"---"!==h?u.createElement("div",{className:"lineItem"},u.createElement(ye,{label:c(Je.pricingSourcePrice,{pricingSource:h}),value:E("indicativeSettlePrice")})):null,u.createElement(Ge,{className:"lineItem",component:"div",isHoverSupported:b,hoverContent:this.keyVal("volume24h",E("volume24h")+" "+g)},this.keyVal("turnover24h",E("turnover24h"))),u.createElement(Ge,{className:"lineItem",component:"div",isHoverSupported:b,hoverContent:this.keyVal("openInterest",E("openInterest")+" "+g)},this.keyVal("openValue",E("openValue"))),n.isSwap?[u.createElement(Ge,{className:"lineItem fundingRate",component:"div",key:"1",isHoverSupported:b,hoverContent:this.keyVal("indicativeFundingRate",u.createElement("span",null,u.createElement("span",{className:v(-1*r.indicativeFundingCost)},E("indicativeFundingRate")+" "),u.createElement(Ke.a,{countdown:n.nextFundingTimestamp||void 0,component:"span"})))},this.keyVal("fundingRate",u.createElement("span",null,u.createElement("span",{className:v(-1*r.fundingCost)},E("fundingRate")+" "),u.createElement(Ke.a,{countdown:n.fundingTimestamp,component:"span"})))),0!==r.currentQty?u.createElement(Ge,{className:"lineItem fundingCost",component:"div",key:"2",isHoverSupported:b,hoverContent:this.keyVal("indicativeFundingCost",w("indicativeFundingCost"))},this.keyVal("fundingCost",w("fundingCost"))):null]:null,n.expiry?u.createElement("div",{className:"lineItem expiry"},u.createElement("span",{className:"hoverHidden"},u.createElement("span",{className:"key"},y),u.createElement("span",{className:"relativeExpiry value"},u.createElement(Ke.a,{countdown:n.expiry,component:"span"}))),u.createElement("span",{className:"hoverVisible"},u.createElement("span",{className:"key"},y),u.createElement("span",{className:"absoluteExpiry value"},u.createElement(X.FormattedDate,{format:"medium",value:n.expiry})))):null,u.createElement("div",{className:"lineItem"},this.keyVal("contractValue",E("contractValue"))),u.createElement("div",{className:"lineItem"},u.createElement("span",{className:"key"},u.createElement("a",{href:ge.b+"contract/"+n.symbol},Ze))))},t}(d.a);$e.displayName="ContractStats";var et=Object(p.a)(function(e){return{indices:e.indices,responsiveSize:e.responsiveSize}})($e),tt=n(234),nt=n(35),rt=n.n(nt),at=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.onEdit=function(e){var t=r.props.position.symbol;r.props.actions.openDialog({component:"AdjustRiskLimitDialog",props:{symbol:t}})},a=n,s()(r,a)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.instrument,r=e.position,a=this.context.intl.formatMessage,i=r.riskLimit||n.riskLimit;if(!rt()(i))return null;var o=Math.abs(r.riskValue)||0,s=u.createElement("span",null,Object(A.e)(o,"XBT")+" / "+Object(A.c)(i)+" ",u.createElement("i",{className:"fa fa-fw fa-edit linkify",onClick:this.onEdit}));return u.createElement("div",{className:(t||"")+" positionRiskLimitIndicator"},u.createElement(ye,{label:a(J.a["Risk Limit"].props),value:s}))},t}(d.a);at.displayName="PositionRiskLimitIndicator",at.defaultProps={className:""};var it=n(235),ot=n(98),st=u.createElement(E.a,null),lt=u.createElement(X.FormattedMessage,{id:"orderControls.yourPosition.help",defaultMessage:"Use this slider to adjust your leverage. This affects assigned margin only. Click for details.",description:"Leverage Slider Help Text"}),ct=function(e){function t(){var n,r,a;i()(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=s()(this,e.call.apply(e,[this].concat(l))),r.state={},r.onCalculatorToggle=function(e){r.props.actions.switchFloatingWidget("calculator")},a=n,s()(r,a)}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.actions,n=e.margin,r=e.options,a=e.orderInput,i=e.orderSubmitInProgress,o=e.responsiveSize,s=e.selectedInstrument,l=e.selectedPosition,c=this.props,d=c.showContractDescription,p=c.showOrderInput,m=c.showPositionStatus,f="xs"===o||"xxs"===o,h="xxs"===o||"xs"===o,E="boolean"==typeof r.orderControlsPlusMinus?r.orderControlsPlusMinus:h,w=g()("orderControls",r.tradeLayout,{plusMinusEnabled:E});return u.createElement("div",{className:w},p?u.createElement(y.a,{className:"orderWrapper",initialOpen:!0,title:u.createElement("h4",null,J.a["Place Order"],u.createElement("span",{className:"widget-controls",onClick:ut},u.createElement("i",{onClick:this.onCalculatorToggle,className:"fa fa-calculator fa-fw calculatorToggle"}),st))},u.createElement(ot.a,null,u.createElement(Re,{ordType:a.ordType,onOrdTypeChange:this.props.actions.changeOrderInput}),u.createElement(Ae,{actions:t,instrument:s,margin:n,position:l,options:r,orderInput:a,orderSubmitInProgress:i,responsiveSize:o,plusMinusEnabled:E}))):null,m?u.createElement(y.a,{className:"fullPositionStatus",localStorageKey:"fullPositionStatusAccordion",title:u.createElement("h4",{className:"underlined nowrap"},u.createElement(X.FormattedMessage,{id:"orderControls.yourPosition",defaultMessage:"Your Position: {symbol}",description:"Indicator of your position",values:{symbol:s.symbol}}),"Â ",u.createElement(b.a,{href:ge.b+"isolatedMargin",text:lt})),initialOpen:!f},u.createElement(ot.a,null,u.createElement(ze,{instrument:s,position:l}),s.capped?null:u.createElement(tt.a,{instrument:s,position:l}),s.taxed&&!s.capped?u.createElement(it.a,{instrument:s,position:l}):null,s.capped?null:u.createElement(at,{className:"lineItem",instrument:s,position:l,actions:t}))):null,d?u.createElement(y.a,{className:"contractDetails",localStorageKey:"contractDetailsAccordion",title:u.createElement("h4",{className:"underlined nowrap"},u.createElement(X.FormattedMessage,{id:"orderControls.contractDetails.header",defaultMessage:"Contract Details: {symbol}",description:"Header on Contract Details",values:{symbol:s.symbol}})),initialOpen:!f},u.createElement(ot.a,null,u.createElement(v.a,{instrument:s,position:l}),u.createElement(et,{instrument:s,position:l}))):null)},t}(d.a);function ut(e){return e.stopPropagation()}ct.displayName="OrderControls",ct.defaultProps={showContractDescription:!0,showOrderInput:!0,showPositionStatus:!0};t.a=Object(p.a)(function(e){return{actions:e.actions,commission:e.commission,orderInput:e.orderInput,orderSubmitInProgress:e.orderSubmitInProgress,margin:e.marginPrimary,options:e.options,selectedInstrument:e.selectedInstrument,selectedPosition:e.selectedPosition,sidebarSide:e.sidebarSide,responsiveSize:e.responsiveSize}})(ct)},function(e,t,n){"use strict";var r=n(35),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=n(4),m=n(5),f=n.n(m),h=n(11),g=n(16),y=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.position,r=n.currentQty?n.deleveragePercentile:1/0;return d.createElement("div",{className:(t||"")+" positionDeleverageIndicator"},d.createElement(b,{className:"statusGreen",active:r<=1}),d.createElement(b,{className:"statusGreen",active:r<=.8}),d.createElement(b,{className:"statusGreen",active:r<=.6}),d.createElement(b,{className:"statusYellow",active:r<=.4}),d.createElement(b,{className:"statusRed",active:r<=.2}))},t}(p.a);function b(e){var t=e.active,n=e.className;return d.createElement("div",{className:"leverageLight "+(t?"active":"inactive")+" "+n})}y.displayName="PositionDeleverageIndicator",y.defaultProps={className:""};var v=n(100),E=n(8),w=n(7),M=n(10),S=d.createElement(w.FormattedMessage,{id:"lastPrice.tooltip.equivalentValue",defaultMessage:"The current value of each contract in USD. This is for indicative purposes only.",description:"Tooltip concerning the USD equivalent value of the displayed instrument price value"}),x=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.priceValue,n=e.className,r=e.referenceIndex;if(!r)return null;var a=M.a[r.quoteCurrency.toString()];if(!a)return null;var i=S;return d.createElement(g.a,{component:"label",text:i,className:"equivalentTooltip"},d.createElement("span",{className:n},a.symbol,M.t(t*r.lastPrice,r.tickSize)))},t}(p.a);x.displayName="EquivalentValue";var k=Object(E.a)(function(e,t){return{referenceIndex:e.indices.find(function(e){return M.a.hasOwnProperty(e.quoteCurrency)&&e.underlying===t.referenceQuoteCurrency&&e.referenceSymbol===e.symbol})}})(x),T=n(31);n.d(t,"a",function(){return A});var C=Object(w.defineMessages)({indexPriceSwap:{id:"lastPrice.tooltip.indexPriceSwap",defaultMessage:"Index Price: The price of the underlying asset.",description:"Tooltip text for price"},indexPriceTwap:{id:"lastPrice.tooltip.indexPriceTwap",defaultMessage:"Index Price: The underlying asset price. During the 30-minute to 2-hour time before settlement, this is the TWAP price.",description:"Tooltip text for underlying asset price with info about settlement"},indexPriceSymbol:{id:"lastPrice.tooltip.indexPriceSymbol",defaultMessage:"This is the {symbol} price. Click to view historical data.",description:"Tooltip text showing the symbol and instructing user to click for more data"}}),N=d.createElement("i",{className:"fa fa-fw fa-earth"}),P=d.createElement(w.FormattedMessage,{id:"lastPrice.tooltip.lastPriceProtected",defaultMessage:"Mark Price: This contract is currently being marked to Last Price.",description:"Tooltip text informing user of Last Price marking."}),O=d.createElement(w.FormattedMessage,{id:"lastPrice.tooltip.currMarkingPrice",defaultMessage:"Mark Price: This is the current mark price. Click for more details.",description:"Tooltip text instructing user to click for more info on marking price"}),F=d.createElement(w.FormattedMessage,{id:"lastPrice.tooltip.deleverageIndicator",defaultMessage:"This indicator shows your position in the auto-deleverage queue. If all lights are lit, in the event of a liquidation, your position may be reduced. Click for more details.",description:"Overview of auto-deleverage quintile indicator"}),I=d.createElement("i",{className:"fa fa-fw fa-step-backward fa-rotate-270"}),L=d.createElement("i",{className:"fa fa-fw fa-step-backward fa-rotate-90"}),A=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.getBottomPrices=function(e){var t=this.props.instrument;if(t.capped)return null;var n=this.context.intl.formatMessage;if(t.isMultiLeg)return null;var r=f.a.includes(t.markMethod,"LastPrice"),i=n(t.isSwap?C.indexPriceSwap:C.indexPriceTwap);i+="\n"+n(C.indexPriceSymbol,{symbol:t.referenceSymbol});var o=this.getDeleverage(),s=a()(t.limitUpPrice)?this.getLimits(e):null,l=!s;return d.createElement("div",{className:"limits nowrap"+(s?" hasLimits":"")},l?d.createElement(g.a,{component:"a",href:h.b+"index/"+t.referenceSymbol,className:"indicativeSettlePrice",text:i},N," ",e.indicativeSettlePrice):null,d.createElement("span",{className:"fairPrice"},l?"/ ":"",r?d.createElement(g.a,{component:"a",href:h.b+"fairPriceMarking#Last-Price-Protected-Marking",text:P},e.markPrice):d.createElement(g.a,{component:"a",href:h.b+"fairPriceMarking",text:O},e.markPrice)),s,o)},t.prototype.getDeleverage=function(){if(this.props.position)return d.createElement("div",{className:"positionDeleverageIndicatorWrapper"},d.createElement(g.a,{component:"a",href:h.b+"autoDeleveraging",text:F},d.createElement(y,{position:this.props.position})))},t.prototype.getLimits=function(e){return[d.createElement(g.a,{className:"limitDownPrice",text:this.getMsg("limitDownPrice"),key:"limitDown"},I," ",e.limitDownPrice),d.createElement(g.a,{className:"limitUpPrice",text:this.getMsg("limitUpPrice"),key:"limitUp"},L," ",e.limitUpPrice)]},t.prototype.getEquivalentValue=function(e){if("XBT"===e.quoteCurrency)return d.createElement(k,{className:"equivalent",priceValue:e.lastPrice,referenceQuoteCurrency:e.quoteCurrency})},t.prototype.getMsg=function(e){var t=this.context.intl;return Object(T.c)("instrument",e,t)+": "+Object(T.d)("instrument",e,t)},t.prototype.render=function(){var e=this.props.instrument,n=this.context,r=n.activeCurrency,a=n.timezoneOffset,i=e.toDisplay({columns:t.columns,activeCurrency:r,timezoneOffset:a});return d.createElement("div",{className:"lastPriceWidget"},d.createElement(v.a,{value:e.lastPrice,formattedValue:i.lastPrice,tickDirection:e.lastTickDirection,showIcon:!0,className:"lastTick"}),this.getEquivalentValue(e),this.getBottomPrices(i))},t}(p.a);A.displayName="LastPrice",A.columns=["limitUpPrice","limitDownPrice","fairPrice","indicativeSettlePrice","bidPrice","askPrice","profitAdjustment","markPrice","lastPrice"]},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(8),p=n(59),m=n(141),f=n(7),h=n(9),g=c.createElement(f.FormattedMessage,{id:"orderOptionsDropdown.title.pnlCalculator",defaultMessage:"Click to open the PNL Calculator.",description:"Title text for button to open PNL Calculator"}),y=c.createElement(f.FormattedMessage,{id:"orderOptionsDropdown.div.orderOptions",defaultMessage:"Sidebar Options",description:"Text instructing user options displayed are for the trade sidebar"}),b=c.createElement(f.FormattedMessage,{id:"orderOptionsDropdown.option.showPlusMinus",defaultMessage:"Show Plus/Minus Buttons",description:"Option text to show plus or minus buttons in order controls"}),v=c.createElement("i",{className:"fa fa-calculator fa-fw icon"}),E=c.createElement("i",{className:"fa fa-fw icon"}),w=c.createElement(f.FormattedMessage,{id:"orderOptionsDropdown.button.moveSidebar",defaultMessage:"Move Sidebar",description:"Button text to move sidebar to the opposite side of the screen"}),M=c.createElement("i",{className:"fa fa-fw icon"}),S=c.createElement(f.FormattedMessage,{id:"orderOptionsDropdown.button.hideSidebar",defaultMessage:"Hide Sidebar",description:"Button text to hide sidebar"}),x=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onCalculatorToggle=function(e){r.props.actions.switchFloatingWidget("calculator")},r.onHiddenToggle=function(e){r.props.actions.toggleSidebarHidden()},r.onSwitchSide=function(e){r.props.actions.switchSidebarSide()},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this.context.intl.formatMessage,t=this.props,n=t.plusMinusEnabled,r=t.showPlusMinusToggle,a=g,i=y;return c.createElement(p.a,{icon:"gear",showCaret:!1,alignRight:!0,title:i,className:"optionsDropdown orderOptionsDropdown"},r?c.createElement("div",{className:"optionsSection"},c.createElement("label",{className:"optionLabel"},c.createElement(m.a,{keyName:"orderControlsPlusMinus",value:n}),b)):null,c.createElement("div",{className:"optionsSection"},c.createElement("span",{onClick:this.onCalculatorToggle,className:"openCalculator btn btn-block btn-success btn-segmented",title:e(a.props),"data-close":"1"},v,this.props.calculatorShowing?h.a.Close:h.a.Open," ",h.a.Calculator)),c.createElement("div",{className:"optionsSection switchSideWrapper"},c.createElement("span",{className:"btn btn-block btn-info btn-segmented switchSide",onClick:this.onSwitchSide,"data-close":"1"},E,w)),c.createElement("div",{className:"optionsSection toggleHiddenWrapper"},c.createElement("span",{className:"btn btn-block btn-info btn-segmented toggleHidden",onClick:this.onHiddenToggle,"data-close":"1"},M,S)))},t}(u.a);x.displayName="OrderOptionsDropdown",x.defaultProps={showPlusMinusToggle:!0},t.a=Object(d.a)(function(e){return{actions:e.actions,calculatorShowing:"calculator"===e.floatingWidget,plusMinusEnabled:e.options.orderControlsPlusMinus}})(x)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(4)),h=n(59),g=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.createOption=function(e,t){return m.createElement("li",{key:String(e)},m.createElement("a",{href:"#",onClick:r.onChange,"data-value":e},r.props.itemRenderer(e,t)))},r.onChange=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-value");r.props.onChange(t)},a=n,u()(r,a)}return p()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.options,r=e.value,i=o()(e,["className","options","value"]);return m.createElement(h.a,a()({toggle:this.props.renderer(r),disabled:this.props.disabled,className:"selectDropdown "+t},i),n.map(this.createOption))},t}(f.a);g.displayName="SelectDropdown",g.defaultProps={className:"",disabled:!1,itemRenderer:function(e){return e},renderer:function(e){return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(5),p=n.n(d),m=n(230),f=n(59),h=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={lastOutOfBounds:r.getLastOutOfBounds(r.props)},r.onTabClick=function(e){var t=Number(e.currentTarget.getAttribute("data-tab-index"));r.props.onTabSwitch(t),t>=r.props.showCount-1&&r.setState({lastOutOfBounds:t})},i=n,o()(r,i)}return l()(t,e),t.prototype.componentWillReceiveProps=function(e){e.showCount===this.props.showCount&&e.currentTab===this.props.currentTab||this.setState({lastOutOfBounds:this.getLastOutOfBounds(e)})},t.prototype.getLastOutOfBounds=function(e){return Math.max(e.showCount-1,e.currentTab)},t.prototype.makeTab=function(e,t){var n=this.props,r=n.currentTab,a=n.tooltips;return c.createElement(m.a,{isActive:r===t,title:e,index:t,onTabClick:this.onTabClick,tooltip:a[t],key:t})},t.prototype.render=function(){var e=this.props,t=e.showCount,n=e.tabs,r=p.a.map(n,this.makeTab.bind(this)),a=r[this.state.lastOutOfBounds],i=[].concat(r.slice(0,t-1),[a]),o=p.a.without(r.slice(t-1),a),s=o.length?c.createElement(f.a,{icon:"caret-down",showCaret:!1,alignRight:!0,className:"tabs-dropdown",closeOnClick:!0},o):null;return c.createElement("ul",{className:this.props.className+" nav nav-tabs"},i,s)},t}(u.a);h.displayName="TabsWithDropdown",h.defaultProps={className:"",showCount:3,tooltips:[]}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(4),d=n(231),p=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.componentWillReceiveProps=function(e){this.changed=this.changed||this.props.value!==e.value},t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.children,n=e.value;return this.changed?c.createElement(d.a,{animTick:n},t):t},t}(c.Component);p.displayName="HighlightChange";var m=n(67);n.d(t,"a",function(){return f});var f=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.animateChange,n=e.isActive,r=e.index,a=e.title,i=e.onTabClick,o=e.tooltip,s="string"==typeof a?a:"",l=c.createElement("span",{className:"tabTitle nowrap",title:s},c.createElement("span",{className:"innerTitle"},a),o?c.createElement(m.a,{text:o,className:"titleTooltip"}):null);return t&&(l=c.createElement(p,{value:this.props.titleValue},l)),c.createElement("li",{className:n?"active":null,"data-tab-index":r,onClick:i},l)},t}(u.a);f.displayName="Tab",f.defaultProps={animateChange:!1}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return h});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(22)),d=n.n(u),p=n(142),m=n.n(p),f=void 0,h=function(t){function r(){return a()(this,r),o()(this,t.apply(this,arguments))}return l()(r,t),r.prototype.componentDidMount=function(){this.mounted=!0,this.animate()},r.prototype.componentDidUpdate=function(e,t){e.animTick!==this.props.animTick&&this.animate()},r.prototype.animate=function(){var t=this;if(e.browser){if(f||(f=n(66)()),f.hidden())return;this.animID=m.a.mutate(function(){return function(e,t){if(!e.mounted)return;var n=d.a.findDOMNode(e);if(!n)return;n.classList.add(t),n.addEventListener("animationend",function(){return function(e,t,n){if(!e.mounted||!t)return;t.classList.remove(n)}(e,n,t)},{once:!0})}(t,t.props.animationClass)})}},r.prototype.componentWillUnmount=function(){this.mounted=!1,this.animId&&m.a.clear(this.animId)},r.prototype.render=function(){return this.props.children},r}(c.Component);h.displayName="HighlightAnimation",h.defaultProps={animationClass:"isNew"}}).call(t,n(12))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.component,a=e.hoverContent;return c.createElement(r,{className:n},c.createElement("span",{className:"hoverVisible"},a),c.createElement("span",{className:"hoverHidden"},t))},t}(n(4).a));u.displayName="Hoverable",u.defaultProps={className:"hoverContainer",component:"span"}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),a=(n.n(r),n(7)),i={"name.BMEX":r.createElement(a.FormattedMessage,{id:"exchange.name.BMEX",defaultMessage:"BitMEX",description:"Exchange name for BitMEX"}),"name.BMEX1":r.createElement(a.FormattedMessage,{id:"exchange.name.BMEX1",defaultMessage:"BitMEX Index",description:"Exchange name for BitMEX Index"}),"name.BMEX2":r.createElement(a.FormattedMessage,{id:"exchange.name.BMEX2",defaultMessage:"BitMEX Index",description:"Exchange name for BitMEX Index"}),"name.BMI":r.createElement(a.FormattedMessage,{id:"exchange.name.BMI",defaultMessage:"BitMEX Index",description:"Exchange name for BitMEX Index"}),"name.BFX":r.createElement(a.FormattedMessage,{id:"exchange.name.BFX",defaultMessage:"Bitfinex",description:"Exchange name for Bitfinex"}),"name.BSTP":r.createElement(a.FormattedMessage,{id:"exchange.name.BSTP",defaultMessage:"Bitstamp",description:"Exchange name for Bitstamp"}),"name.BTRX":r.createElement(a.FormattedMessage,{id:"exchange.name.BTRX",defaultMessage:"Bittrex",description:"Exchange name for Bittrex"}),"name.BINC":r.createElement(a.FormattedMessage,{id:"exchange.name.BINC",defaultMessage:"Binance",description:"Exchange name for Binance"}),"name.KRAK":r.createElement(a.FormattedMessage,{id:"exchange.name.KRAK",defaultMessage:"Kraken",description:"Exchange name for Kraken"}),"name.TBLK":r.createElement(a.FormattedMessage,{id:"exchange.name.TBLK",defaultMessage:"TradeBlock",description:"Exchange name for TradeBlock"}),"name.PLNX":r.createElement(a.FormattedMessage,{id:"exchange.name.PLNX",defaultMessage:"Poloniex",description:"Exchange name for Poloniex"}),"name.GTCN":r.createElement(a.FormattedMessage,{id:"exchange.name.GTCN",defaultMessage:"Gatecoin",description:"Exchange name for Gatecoin"}),"name.GOOG":r.createElement(a.FormattedMessage,{id:"exchange.name.GOOG",defaultMessage:"Google Finance",description:"Exchange name for Google Finance"}),"name.YHOO":r.createElement(a.FormattedMessage,{id:"exchange.name.YHOO",defaultMessage:"Yahoo Finance",description:"Exchange name for Yahoo Finance"}),"name.FXPS":r.createElement(a.FormattedMessage,{id:"exchange.name.FXPS",defaultMessage:"Investing.com",description:"Exchange name for Investing.com"}),"name.BTCE":r.createElement(a.FormattedMessage,{id:"exchange.name.BTCE",defaultMessage:"BTC-e",description:"Exchange name for BTC-e"}),"name.QNE":r.createElement(a.FormattedMessage,{id:"exchange.name.QNE",defaultMessage:"Quoine",description:"Exchange name for Quoine"}),"name.YBH":r.createElement(a.FormattedMessage,{id:"exchange.name.YBH",defaultMessage:"Yuanbaohui",description:"Exchange name for Yuanbaohui"})}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(14),d=n.n(u),p=n(4),m=n(7),f=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props.className,t=this.props,n=t.max,r=t.min,a=t.value,i="valueLabel",o=c.createElement(m.FormattedNumber,{value:a,minimumFractionDigits:2,format:"multiplier"}),s=Math.min(Math.max(100*a/n,0),100);return s>=50&&(i+=" textOnLeft"),a>n?e+=" overflow":a<r&&(e+=" underflow"),c.createElement("div",{className:(e||"")+" indicatorGraph"},c.createElement("div",{className:"lineIndicator",style:{left:s+"%"}},c.createElement("span",{className:i},o,"x")))},t}(p.a);f.displayName="IndicatorGraph",f.defaultProps={className:"",min:0};var h=n(16),g=n(9);n.d(t,"a",function(){return E});var y=Object(m.defineMessages)({initialLeverage:{id:"positionLeverageIndicator.tooltip.initialLeverage",defaultMessage:"Initial Leverage",description:"Tooltip text for the initial leverage available on a position"},maximumLeverage:{id:"positionLeverageIndicator.tooltip.maximumLeverage",defaultMessage:"Maximum Leverage",description:"Tooltip text for the maximum leverage available on a position"}}),b=c.createElement("i",{className:"fa fa-shield"}),v=c.createElement("i",{className:"fa fa-exclamation-triangle"}),E=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.instrument,r=e.position,a=this.context.intl,i=a.formatMessage,o=a.formatNumber,s=r.crossMargin,l=r.effectiveLeverage,u=r.leverage,d=n.initialLeverage,p=r.maintLeverage||n.maintLeverage,m=s?l:Math.max(l,u);isNaN(m)&&(m=0),r.crossMargin||m||!n.taxed||(m=d);var E="initialLeverageIcon",w="maintLeverageIcon",M="indicatorLabel",S=100*m/p;S<8?E+=" hideIcon":S>92?w+=" hideIcon":M+=" hideIcon";var x=r.crossMargin?i(g.a.Cross.props):o(u,{format:"multiplier"})+"x",k=o(p,{format:"multiplier"})+"x",T=Boolean(r.currentQty),C=(T?i(y.initialLeverage)+": "+x+"\n"+i(g.a["Entry Price"].props)+": "+r.avgEntryPrice+"\n":"")+i(g.a["Last Price"].props)+": "+n.lastPrice,N=i(y.maximumLeverage)+": "+k+"\n"+(T?i(g.a["Liquidation Price"].props)+": "+r.liquidationPrice:"");return c.createElement("div",{className:(t||"")+" positionLeverageIndicator"},c.createElement(h.a,{className:E,text:C},b),c.createElement(f,{value:m,max:p}),c.createElement("span",{className:M},g.a.Leverage),c.createElement(h.a,{className:w,text:N},v))},t}(p.a);E.displayName="PositionLeverageIndicator",E.propTypes={className:d.a.string,instrument:d.a.object.isRequired,position:d.a.object.isRequired},E.defaultProps={className:""}},function(e,t,n){"use strict";var r=n(26),a=n.n(r),i=n(6),o=n.n(i),s=n(20),l=n.n(s),c=n(0),u=n.n(c),d=n(1),p=n.n(d),m=n(2),f=n.n(m),h=n(3),g=(n.n(h),n(4)),y=n(8),b=n(48),v=n(5),E=n.n(v),w=n(236),M=n(9),S=n(7),x=n(10),k=n(101),T={100:[0,1,2,3,5,10,25,50,100],66.6:[0,1,2,3,5,10,25,50,66.6],50:[0,1,2,3,5,10,25,35,50],33.3:[0,1,2,3,5,10,25,33.3],25:[0,1,2,3,5,10,15,20,25],20:[0,1,2,3,4,5,10,15,20],15:[0,1,2,3,4,5,10,15],10:[0,1,2,3,4,5,7.5,10],5:[0,1,2,3,4,5],3.3:[0,1,1.5,2,2.5,3,3.3],2.5:[0,1,1.5,2,2.5],2:[0,1,1.25,1.5,1.75,2]},C=h.createElement("i",{className:"fa fa-fw fa-close"}),N=h.createElement("button",{className:"btn btn-sm btn-success",type:"submit"},h.createElement("i",{className:"fa fa-fw fa-check"})),P=h.createElement("i",{className:"fa fa-fw fa-close"}),O=h.createElement("i",{className:"fa fa-fw fa-check"}),F=h.createElement(S.FormattedMessage,{id:"orderControlsLeverage.tooltip.leverage",defaultMessage:"Choose your desired leverage here. Choose 'Cross' to use your entire account balance to back a position, or a multiplier to open an Isolated(Fixed) position at that leverage. See 'Help/References/Isolated and Cross Margin' for more details.",description:"Tooltip text for the leverage controls"}),I=function(e){function t(){var n,r,a;u()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=p()(this,e.call.apply(e,[this].concat(o))),r.state={errCount:0,editing:!1,levValue:0,needsConfirm:!1,pendingLeverage:0},r.leverageTooltipFormatter=function(e){var t=r.getInitialLeverage(),n=T[t]||[];return 0===e?r.context.intl.formatMessage(M.a.Cross.props):n[e]+"x"},r.onConfirmAbort=function(){r.setState({needsConfirm:!1,pendingLeverage:0})},r.onConfirmSuccess=function(){r.updateLeverage(r.state.pendingLeverage),r.setState({needsConfirm:!1,pendingLeverage:0})},r.onEditToggle=function(e){e.preventDefault();var t=r.props.position,n=t.crossMargin,a=t.effectiveLeverage,i=t.leverage,o=n?0:Math.max(a,i);r.setState({editing:!r.state.editing,levValue:o})},r.onEditSubmit=function(e){e.preventDefault(),r.updateLeverage(r.state.levValue)},r.onMaybeCloseEditor=function(e){(e.which||e.keyCode)===k.c&&r.setState({editing:!1})},r.onLeverageChangeDone=function(e){var t=r.state.errCount+(e?1:0);r.setState({errCount:t,editing:!1})},r.onSliderChange=function(e){var t=r.props.responsiveSize,n=r.getInitialLeverage(),a=T[n][e];"xxs"===t||"xs"===t?r.setState({needsConfirm:!0,pendingLeverage:a}):r.updateLeverage(a)},a=n,p()(r,a)}return f()(t,e),t.prototype.componentWillReceiveProps=function(e){this.state.editing&&e.instrument.symbol!==this.props.instrument.symbol&&this.setState({editing:!1})},t.prototype.calculateMarks=function(e){var t=this;return e.reduce(function(e,n,r){return e[r]=0===n?t.context.intl.formatMessage(M.a.Cross.props):n+"x",e},{})},t.prototype.fudgeLeverageMap=function(e){var t,n=(t=T,a()(t).map(Number).sort(function(e,t){return e-t})),r=n[E.a.sortedIndex(n,e)-1]||n[0],i=T[r].filter(function(t){return t<e}),o=[].concat(i,[e]);return T[e]=o,o},t.prototype.getInitialLeverage=function(){var e=this.props.position.initialLeverage||this.props.instrument.initialLeverage;return parseFloat(Object(x.t)(e,.1))},t.prototype.updateLeverage=function(e){this.props.actions.positionUpdateLeverage({symbol:this.props.instrument.symbol,leverage:e,callback:this.onLeverageChangeDone})},t.prototype.render=function(){var e=this,t=this.context.intl,n=this.props,r=n.position,a=l()(n,["position"]),i=this.state,s=i.editing,c=i.errCount,u=i.needsConfirm,d=this.getInitialLeverage(),p=r.crossMargin,m=r.effectiveLeverage,f=r.leverage,g=T[d]||this.fudgeLeverageMap(d),y=this.calculateMarks(g),v=p?m:f;p||v||(v=Math.floor(d));var x=p?0:g.indexOf(v);if(-1===x&&(x=E.a.sortedIndex(g,v)),s)return h.createElement("form",{className:"form form-inline positionLeverageForm",onSubmit:this.onEditSubmit},h.createElement("div",{className:"flexBody form-control-xs"},h.createElement("label",{htmlFor:"leverage"},M.a.Leverage),h.createElement(b.a,{name:"leverage",min:0,step:.01,inputStep:1,max:d,autoFocus:!0,onKeyDown:this.onMaybeCloseEditor,onValidityChange:function(){},onChange:function(t){return e.setState({levValue:t})},value:this.state.levValue}),h.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:this.onEditToggle},C),N));if(u){var k=this.state.pendingLeverage,I=r.crossMargin?M.a["Cross Margin"]:t.formatNumber(v,{style:"multiplier"})+"x",L=0===k?M.a["Cross Margin"]:t.formatNumber(k,{style:"multiplier"})+"x";return h.createElement("div",{className:"form form-inline positionLeverageConfirm well"},h.createElement(S.FormattedMessage,{id:"orderControlsLeverage.confirmChange",defaultMessage:"Please confirm a leverage change from {oldLev} to {newLev} on {symbol}.",description:"Message describing leverage confirmation shown on mobile.",values:{oldLev:I,newLev:L,symbol:r.symbol}}),h.createElement("div",{className:"flexBody flexJustifyCenter v-offset-1"},h.createElement("button",{className:"btn btn-sm btn-danger",type:"button",onClick:this.onConfirmAbort},P),h.createElement("button",{className:"btn btn-sm btn-success",type:"submit",onClick:this.onConfirmSuccess},O)))}return h.createElement("div",{className:"leverageWrapper"},h.createElement(w.a,o()({key:""+d+r.leverage+String(r.crossMargin)+c,defaultValue:x,min:0,max:g.length-1,className:"leverage",tipFormatter:this.leverageTooltipFormatter,tooltip:F,marks:y,included:!1},a,{onChange:this.onSliderChange})),h.createElement("i",{className:"fa fa-fw fa-edit linkify editLeverage",onClick:this.onEditToggle}))},t}(g.a);I.displayName="OrderControlsLeverage",t.a=Object(y.a)(function(e){return{actions:e.actions,responsiveSize:e.responsiveSize}})(I)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(4)),h=n(16),g=n(449),y=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.label,r=e.onChange,i=e.tipFormatter,s=e.tooltip,l=e.defaultValue,c=e.min,u=e.max,d=e.marks,p=e.step,f=o()(e,["className","label","onChange","tipFormatter","tooltip","defaultValue","min","max","marks","step"]);return m.createElement("div",{className:t||""},n?m.createElement("div",{className:"orderControlsInput"},m.createElement(h.a,{component:"label",className:"nowrap",text:s},n)):null,m.createElement("div",{className:"orderControlsInput slider"},m.createElement(g.default,a()({onAfterChange:r,tipFormatter:i,min:c,max:u,marks:d,step:p,included:!1,defaultValue:l},f))))},t}(f.a);y.displayName="Slider",y.defaultProps={className:""}},,function(e,t,n){"use strict";t.a=function(){return r.createElement("span",{className:"loginRegister"},r.createElement("div",{className:"optionsSection"},r.createElement("a",{className:"btn btn-info btn-block btn-segmented",href:"/login"},i,a.a["Log In"])),r.createElement("div",{className:"optionsSection"},r.createElement("a",{className:"btn btn-danger btn-block btn-segmented",href:"/register"},o,a.a.Register)))};var r=n(3),a=(n.n(r),n(9)),i=r.createElement("i",{className:"fa fa-sign-in fa-fw icon"}),o=r.createElement("i",{className:"fa fa-user fa-fw icon"})},,function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r,a=n(0),i=n.n(a),o=n(1),s=n.n(o),l=n(2),c=n.n(l),u=n(3),d=(n.n(u),n(4)),p=n(143),m=(n.n(p),n(38)),f=n.n(m),h=n(99),g=n(5),y=n.n(g),b=f.a.decorate(p.RouterMixin)(r=function(e){function t(){return i()(this,t),s()(this,e.apply(this,arguments))}return c()(t,e),t.prototype.componentDidMount=function(){this.props.onNavigation&&this.props.onNavigation(this.state.match.path,this.state.navigation,this.state.match)},t.prototype.getChildProps=function(){return p.RouteRenderingMixin.getChildProps.call(this)},t.prototype.getRoutes=function(e){return y.a.flatten(e.children)},t.prototype.renderRouteHandler=function(){return p.RouteRenderingMixin.renderRouteHandler.call(this)},t.prototype.render=function(){var e=this.props,t=this.state.match,n=this.renderRouteHandler();if(e.isMainRouter&&e.component){var r=e.component;return u.createElement(r,{className:n.props.className},u.createElement(h.a,{match:t}),n)}return e.component?u.createElement(e.component,e,n):n},t}(d.a))||r;b.displayName="Router",b.propTypes={component:function(e,t,n){var r=e[t];if(e.isMainRouter&&"string"!=typeof r)throw new Error("The prop "+t+" on "+n+" is required and must be a string.");if(null!=r&&"string"!=typeof r)throw new Error("The prop "+t+" on "+n+" must be a string.")}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(10),p=n(8),m=n(5),f=n.n(m),h=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onCurrencySelect=function(e){r.props.setOption({currency:e.target.value})},i=n,o()(r,i)}return l()(t,e),t.prototype.makeOptions=function(e){return f.a.map(d.d,function(t,n){return c.createElement("option",{value:n,key:n},n+(e?" ("+d.d[n].longName+")":""))})},t.prototype.render=function(){return c.createElement("span",null,c.createElement("select",{onChange:this.onCurrencySelect,value:this.context.activeCurrency,className:"currencySelector"},this.makeOptions(!0)))},t}(u.a);h.displayName="CurrencySelector",t.a=Object(p.a)(function(e){return{setOption:e.actions.setOption}})(h)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(8),p=n(5),m=(n.n(p),function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onSelect=function(e){var t=e.currentTarget.getAttribute("data-value");r.props.activeColorTheme!==t&&r.props.setOption({colorTheme:t})},i=n,o()(r,i)}return l()(t,e),t.prototype.makeOption=function(e){var t=this.props.activeColorTheme===e;return c.createElement("span",{className:"colorTheme "+e+(t?" active":""),"data-value":e,onClick:this.onSelect})},t.prototype.render=function(){return c.createElement("span",{className:"colorThemeSelector "+this.props.className},this.makeOption("dark"),this.makeOption("light"))},t}(u.a));m.displayName="ColorThemeSelector",m.defaultProps={className:""},t.a=Object(d.a)(function(e){return{activeColorTheme:e.options.colorTheme,setOption:e.actions.setOption}})(m)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(244),p=n(8),m=n(5),f=n.n(m),h=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onChange=function(e){var t;if(e.target instanceof window.HTMLInputElement){var n=e.target.value;"false"===n&&(n=!1),"true"===n&&(n=!0),r.props.value!==n&&r.props.actions.setOption(((t={})[r.props.keyName]=n,t))}},i=n,o()(r,i)}return l()(t,e),t.prototype.makeOption=function(e){return c.createElement("input",{type:"radio",value:e.value,key:String(e.value),label:e.label})},t.prototype.render=function(){return c.createElement(d.a,{className:this.props.keyName+"Selector",onChange:this.onChange,name:this.props.keyName,value:this.props.value},f.a.map(this.props.options,this.makeOption))},t}(u.a);h.displayName="RadioOptionSelector",t.a=Object(p.a)(function(e){return{actions:e.actions}})(h)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(20),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.component,n=e.name,r=e.value,i=e.onChange,o=a()(e,["component","name","value","onChange"]),s=d.Children.map(this.props.children,function(e){return d.createElement("label",{className:"radio-inline",key:this.props.value},d.cloneElement(e,{name:n,checked:r===e.props.value,onChange:i,label:null}),e.props.label||"")},this),l=t;return d.createElement(l,o,s)},t}(n(4).a));p.displayName="RadioGroup",p.defaultProps={children:null,component:"div"}},function(e,t,n){"use strict";var r=o(n(458)),a=o(n(463)),i=o(n(246));function o(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:a.default,CSSTransition:r.default}},function(e,t,n){"use strict";t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(14)),a=o(n(3)),i=o(n(22));n(247);function o(e){return e&&e.__esModule?e:{default:e}}var s=t.UNMOUNTED="unmounted",l=t.EXITED="exited",c=t.ENTERING="entering",u=t.ENTERED="entered",d=t.EXITING="exiting",p=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),i=r.transitionGroup,o=i&&!i.isMounting?n.enter:n.appear,d=void 0;return a.nextStatus=null,n.in?o?(d=l,a.nextStatus=c):d=u:d=n.unmountOnExit||n.mountOnEnter?s:l,a.state={status:d},a.nextCallback=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=(this.pendingState||this.state).status;e.in?(t===s&&this.setState({status:l}),t!==c&&t!==u&&(this.nextStatus=c)):t!==c&&t!==u||(this.nextStatus=d)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,r=void 0;return t=n=r=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,r=e.appear),{exit:t,enter:n,appear:r}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=i.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},t.prototype.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts();t||r?(this.props.onEnter(e,a),this.safeSetState({status:c},function(){n.props.onEntering(e,a),n.onTransitionEnd(e,i.enter,function(){n.safeSetState({status:u},function(){n.props.onEntered(e,a)})})})):this.safeSetState({status:u},function(){n.props.onEntered(e)})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:d},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:l},function(){t.props.onExited(e)})})})):this.safeSetState({status:l},function(){t.props.onExited(e)})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=a.default.Children.only(n);return a.default.cloneElement(i,r)},t}(a.default.Component);function m(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4,t.default=p},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var r,a=n(14),i=(r=a)&&r.__esModule?r:{default:r};t.timeoutsShape=i.default.oneOfType([i.default.number,i.default.shape({enter:i.default.number,exit:i.default.number}).isRequired]),t.classNamesShape=i.default.oneOfType([i.default.string,i.default.shape({enter:i.default.string,exit:i.default.string,active:i.default.string}),i.default.shape({enter:i.default.string,enterActive:i.default.string,exit:i.default.string,exitActive:i.default.string})])},function(e,t,n){"use strict";var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=n(4),h=n(5),g=n.n(h),y=n(40),b=n(230),v=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.onTabClick=function(e){r.props.onTabSwitch(Number(e.currentTarget.getAttribute("data-tab-index")))},a=n,u()(r,a)}return p()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.animateChange,r=t.className,a=t.currentTab,i=t.tabs,o=t.titleValues,s=t.tooltips;return m.createElement("ul",{className:r+" nav nav-tabs"},g.a.map(i,function(t,r){return m.createElement(b.a,{animateChange:n,isActive:a===r,title:t,index:r,onTabClick:e.onTabClick,tooltip:s[r],key:r,titleValue:o[r]})}))},t}(f.a);v.displayName="Tabs",v.defaultProps={className:"",titleValues:[],tooltips:[]};var E=n(22),w=n.n(E),M=n(102),S=m.createElement("i",{className:"fa fa-fw fa-angle-double-left"}),x=m.createElement("i",{className:"fa fa-fw fa-angle-double-right"}),k=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.state={overflown:!1,side:"both"},r.onResize=function(){var e=w.a.findDOMNode(r.tabsEl);if(e instanceof HTMLElement&&e.scrollWidth!==e.clientWidth){if(r.state.overflown)return;r.setState({overflown:!0,side:r.getOverflowSide(e)})}else r.state.overflown&&r.setState({overflown:!1})},r.onScroll=function(e){var t=w.a.findDOMNode(r.tabsEl);t instanceof HTMLElement&&r.setState({side:r.getOverflowSide(t)})},r.scrollLeft=function(){r.scroll(-1)},r.scrollRight=function(){r.scroll(1)},a=n,u()(r,a)}return p()(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.onResize()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getOverflowSide=function(e){var t=e.scrollLeft,n=e.clientWidth,r=e.scrollWidth;return 0===t?"right":t+n<r?"both":"left"},t.prototype.scroll=function(e){var t=this,n=w.a.findDOMNode(this.tabsEl);if(n instanceof HTMLElement){var r=n.clientWidth/2,a=r;!function i(){if(n&&t.mounted){var o=r/10;a-=o,n.scrollLeft+=o*e,a>0&&requestAnimationFrame(i)}}()}},t.prototype.render=function(){var e=this,t=this.props.className,n=this.state,r=n.overflown,i=n.side;return r&&(t+=" overflown overflown-"+i),m.createElement(M.a,{onResize:this.onResize,onScroll:this.onScroll},r&&"right"!==i?m.createElement("div",{className:"scroller scroller-left",onClick:this.scrollLeft,key:"left"},S):null,m.createElement(v,a()({},this.props,{className:t,ref:function(t){return e.tabsEl=t},key:"tabs"})),r&&"left"!==i?m.createElement("div",{className:"scroller scroller-right",onClick:this.scrollRight,key:"right"},x):null)},t}(f.a);k.displayName="TabsWithOverflow",k.defaultProps={className:""},n.d(t,"a",function(){return T});var T=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.getPanelBody=function(){return Array.isArray(this.props.children)?this.props.children[this.props.currentTab]:this.props.children},t.prototype.render=function(){var e=this.props,t=e.animateTitle,n=e.currentTab,r=e.onTabSwitch,i=e.titles,s=e.tooltips,l=e.titleValues,c=o()(e,["animateTitle","currentTab","onTabSwitch","titles","tooltips","titleValues"]),u=this.props.watchHeaderOverflow?k:v,d=a()({},c,{title:m.createElement(u,{tabs:i,titleValues:l,onTabSwitch:r,tooltips:s,currentTab:n,animateChange:t}),children:this.getPanelBody(),className:this.props.className+" widget-tabs"});return Array.isArray(d.loginRequired)&&(d.loginRequired=d.loginRequired[this.props.currentTab]),m.createElement(y.a,d)},t}(f.a);T.displayName="TabbedPanelCore",T.defaultProps={className:"",titleValues:[],tooltips:[],watchHeaderOverflow:!1}},function(e,t,n){"use strict";var r=n(78),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=n(4),m=n(8),f=n(6),h=n.n(f),g=n(5),y=n.n(g),b=n(7),v=d.createElement("h4",null,d.createElement(b.FormattedMessage,{id:"setUsername.header.welcome",defaultMessage:"Welcome to BitMEX Chat!",description:"Header text welcoming user to BitMEX chat"})),E=d.createElement("p",null,d.createElement(b.FormattedMessage,{id:"setUsername.paragraph.setUsername",defaultMessage:"To get started, choose a public username:",description:"Text to instruct user to set a chat username"})),w=d.createElement("button",{type:"submit",className:"btn btn-success text-align-center col-xs-6 col-xs-offset-3 v-offset-xs-2"},d.createElement(b.FormattedMessage,{id:"setUsername.button.startChatting",defaultMessage:"Start Chatting",description:"Button text for starting chat"})),M=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={username:""},r.setUsername=function(e){e.preventDefault(),r.props.actions.updateMe({attrs:{username:r.state.username}})},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){return d.createElement("div",{className:"setUsername"},v,E,d.createElement("form",{onSubmit:this.setUsername},d.createElement("input",h()({type:"text",className:"col-xs-12",name:"username"},this.linkState("username"))),w))},t}(p.a);M.displayName="SetUsername";var S=n(14),x=n.n(S),k=n(140),T=n(23),C=n(50),N=n(16),P=n(20),O=n.n(P),F=n(22),I=n.n(F),L=n(60),A=n(52),D=n.n(A),B=n(27),_=n.n(B),R=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={active:!1,x:0,y:0},r.closeHandler=function(e){if(!e.ctrlKey&&!e.metaKey){var t=r.contextNode,n=I.a.findDOMNode(t);n&&!Object(L.b)(e.target,function(e){return e===n})&&r.setState({active:!1})}},r.forceClose=function(){r.setState({active:!1})},r.onContextMenu=function(e){if(!e.ctrlKey&&!e.metaKey){e.preventDefault();var t=e.clientX,n=e.clientY;t+150>window.innerWidth&&(t-=150);var a=24*r.props.items.length+55;n+a>window.innerHeight&&(n-=a),r.setState({active:!0,x:t,y:n})}},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=O()(t,["children"]),a=this.state.active,i=_()("contextMenuWrapper",{active:a});return d.createElement("span",{className:i,onContextMenu:this.onContextMenu},n,a?d.createElement(U,h()({style:{left:this.state.x,top:this.state.y},ref:function(t){return e.contextNode=t},onClose:this.forceClose},r)):null,a?d.createElement(D.a,{onClick:this.closeHandler,onContextMenu:this.closeHandler}):null)},t}(p.a);R.displayName="ContextMenuHOC";var j=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=(t.actions,t.data,t.items),r=t.onClose,a=t.title,i=O()(t,["actions","data","items","onClose","title"]);return d.createElement("div",h()({className:"contextMenu dropdown-menu"},i),a?d.createElement("div",{className:"dropdown-title"},a):null,n.map(function(t,n){return!0===t.separator?d.createElement("hr",{key:n}):d.createElement("li",{className:"contextMenuItem",key:n},d.createElement("a",{href:"#",onClick:function(n){return r(n)||t.action(e.props)}},d.createElement("i",{className:"fa fa-fw fa-"+(t.icon||"cog")}),t.label))}))},t}(p.a);j.displayName="ContextMenu";var U=Object(m.a)(function(e){return{actions:e.actions}})(j),H=[{label:"Lookup User",icon:"question",action:function(e){var t=e.actions,n=e.data.user;return t.navigate("/adminLookupUser?identifier="+n+"&identifierTyp=username")}},{separator:!0},{label:"Edit",icon:"pencil",action:function(e){var t=e.actions,n=e.data,r=n.id,a=n.message,i=n.user,o=window.prompt("Edit Message From "+i,a);o&&t.editChatMessage({id:r,message:o})}},{label:"Delete",icon:"close",action:function(e){var t=e.actions,n=e.data.id;return t.deleteChatMessage(n)}},{separator:!0},{label:"Unban User",icon:"bullhorn",action:function(e){var t=e.actions,n=e.data.user;return t.banChatUser({user:n,toggle:!1})}}].concat([["10 min",600],["1 hour",3600],["1 day",86400],["perm",null]].reduce(function(e,t){var n=t[0],r=t[1];return e.push({label:"Ban User ("+n+")",icon:"ban",action:function(e){var t=e.actions,n=e.data.user;return t.banChatUser({user:n,toggle:!0,expires:r?new Date(Date.now()+1e3*r):null})}}),e},[])),q=d.createElement(N.a,{className:"ircMessage",text:d.createElement(b.FormattedMessage,{id:"chatMessage.text.irc",defaultMessage:"This message was sent from IRC.\n\nNote that IRC users are not authenticated with BitMEX.This messages author may not be who it seems.\n\nIf you would like to join the channel, join #bitmexon irc.freenode.net.",description:"Text notifying user the chat message's source is from IRC"})},"(IRC)"),W=d.createElement("img",{src:"/img/bitmex-logo-square.png",className:"inline-logo"}),V=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={hovered:!1},r.onMouseOver=function(){r.setState({hovered:!0})},r.onMouseOut=function(){r.setState({hovered:!1})},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.chat,n=e.isSupportTeam,r=e.onUserClick,a=e.myUsername,i=e.showUsername,o=this.context.timezoneOffset,s=new Date(t.date),l=a===t.user,c=l?"span":"a",u=this.state.hovered?T.i(s,o):"",p=_()("chatMessage",this.props.className,{me:l,mention:t.mentioned,isNew:!l&&s.valueOf()+2500>Date.now(),showUsername:i,hideUsername:!i}),m=d.createElement(C.a,{className:p,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,value:t.user},i?d.createElement(c,{className:"user",onClick:r,"data-user":t.user,title:u},d.createElement("span",{className:"shortDate",title:u},"[",T.e.time.short24(s),"] "),t.fromBot?q:null,d.createElement("span",{className:"userName"},t.fromBot||0!==t.user.indexOf("BitMEX")?null:W,t.user+": ")):null,t.html?d.createElement("span",{className:"message",dangerouslySetInnerHTML:{__html:t.html}}):d.createElement("span",{className:"message"},t.message));if(n){var f="Chat: "+t.user;m=d.createElement(R,{items:H,title:f,data:t},m)}return m},t}(p.a);V.displayName="ChatMessage",V.defaultProps={className:""};n(214);var z=n(102),K=d.createElement("div",{className:"chatSection hidden",key:"-1"}),Q=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={distanceFromBottom:0},r.chatShift=!1,r.onResize=function(){r.keepScrollPosition()},r.onScroll=y.a.debounce(function(e){r.mounted&&r.setState({distanceFromBottom:r.getDistanceFromBottom()})},100),a=n,l()(r,a)}return u()(t,e),t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.scrollToYFromBottom(),setTimeout(function(){e.scrollToYFromBottom()},500)},t.prototype.componentWillReceiveProps=function(e){var t=this.props.chats,n=e.chats,r=t.length;n.length&&r&&n[n.length-1].id!==t[r-1].id&&this.shouldShowUsername(t[r-1],t[r-2])&&(this.chatShift=!this.chatShift)},t.prototype.componentWillUpdate=function(e,t,n){var r=this;this.context.panelState&&n.panelState&&this.context.panelState.fullscreened!==n.panelState.fullscreened&&requestAnimationFrame(function(){return r.keepScrollPosition()})},t.prototype.componentDidUpdate=function(e,t,n){e.chats!==this.props.chats&&(this.props.chats.length&&this.props.chats[0].user===this.props.me.username||this.state.distanceFromBottom<5)&&this.scrollToYFromBottom(0)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getDistanceFromBottom=function(){var e=this.getListEl();return e?e.scrollHeight-(e.scrollTop+e.clientHeight):0},t.prototype.getListEl=function(){return this.listEl&&this.listEl.wrapper},t.prototype.keepScrollPosition=function(){this.scrollToYFromBottom(this.state.distanceFromBottom)},t.prototype.scrollToYFromBottom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.getListEl();t&&(t.scrollTop=t.scrollHeight-t.clientHeight-e)},t.prototype.makeChats=function(){var e=this,t=this.props.me.hasRole("admin")||this.props.me.hasRole("supportTeam"),n=this.props.chats,r=Boolean(this.context.panelState&&this.context.panelState.fullscreened),a=!0,i=n.reduce(function(i,o,s){var l=o.id||s,c=e.shouldShowUsername(o,n[s+1]);return a&&i.unshift(d.createElement("div",{className:"chatSection",key:l,children:[]})),i[0].props.children.unshift(d.createElement(V,{chat:o,fullscreened:r,key:l,isSupportTeam:t,onUserClick:e.props.onUserClick,myUsername:e.props.me.username,showUsername:c})),a=c,i},[]);return this.chatShift&&i.unshift(K),i},t.prototype.shouldShowUsername=function(e,t){return!t||t.user!==e.user||t.fromBot!==e.fromBot||new Date(e.date)-new Date(t.date)>6e5},t.prototype.onFullscreenToggle=function(){this.scrollToYFromBottom(this.state.distanceFromBottom)},t.prototype.render=function(){var e=this;return d.createElement(k.a,null,d.createElement(z.a,{className:"chats",style:this.props.style,onResize:this.onResize,onScroll:this.onScroll,ref:function(t){return e.listEl=t}},this.makeChats()))},t}(p.a);Q.displayName="ChatList",Q.contextTypes=h()({},p.a.contextTypes,{panelState:x.a.object});var G,X=n(101),Y=n(250),J=n(38),Z=n.n(J),$=n(45),ee=n.n($),te=Object(Y.a)(function(){return n.e(6).then(n.bind(null,1007))}),ne=Object(b.defineMessages)({placeHolderNoUsername:{id:"chatInput.placeholder.noUsername",defaultMessage:"Please set a username to chat.",description:"Placeholder text for chat when username is not set for chat"},placeHolderNotLoggedIn:{id:"chatInput.placeholder.notLoggedIn",defaultMessage:"Please log in to chat.",description:"Placeholder text for chat when user is not logged in"},placeHolderLoggedIn:{id:"chatInput.placeholder.loggedIn",defaultMessage:"Type to chat. Enter to submit.",description:"Placeholder text for chat when user is logged in and ready to chat"}}),re=d.createElement("span",{className:"chatHelp"},d.createElement("h4",{className:"v-offset-0"},d.createElement(b.FormattedMessage,{id:"chatInput.help.title",defaultMessage:"Formatting Your Messages",description:"Title for chat help"})),d.createElement("div",null,d.createElement("div",null,d.createElement("b",null,"**",d.createElement(b.FormattedMessage,{id:"chatInput.bold",defaultMessage:"bold",description:"chat help"}),"**")),d.createElement("div",null,d.createElement("em",null,"_",d.createElement(b.FormattedMessage,{id:"chatInput.italic",defaultMessage:"italic",description:"chat help"}),"_")),d.createElement("div",null,d.createElement("code",null,"`",d.createElement(b.FormattedMessage,{id:"chatInput.code",defaultMessage:"code",description:"chat help"}),"`")),d.createElement("div",null,d.createElement("blockquote",null,">"," ",d.createElement(b.FormattedMessage,{id:"chatInput.quote",defaultMessage:"quote",description:"chat help"}))))),ae=Z.a.decorate(ee.a)(G=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={history:[],historyPosition:0,input:"",lastReplaced:"",lastReplacedWith:"",showEmoji:!1,submitting:null},r.shouldFocus=r.props.autoFocus,r.onKeyDown=function(e){e.keyCode!==X.d||e.shiftKey?e.keyCode===X.e&&(e.preventDefault(),r.tabFill()):(e.preventDefault(),r.submitMessage(r.state.input),r.onInputChange({target:{value:"",ownerDocument:e.target.ownerDocument}})),e.keyCode===X.f?r.setHistoryPosition(r.state.historyPosition+1):e.keyCode===X.a&&r.setHistoryPosition(r.state.historyPosition-1)},r.onInputChange=function(e){var t=e.target.ownerDocument&&e.target.ownerDocument.defaultView;if(t&&e.target instanceof t.HTMLTextAreaElement){var n=e.target.value,a=r.state.history;n&&(a=[n].concat(a.slice(1))),r.setState({lastReplaced:"",lastReplacedWith:"",history:a,input:n})}},r.setEmoji=function(e,t){r.shouldFocus=!0,r.setState({input:r.state.input+t})},r.toggleEmojiPanel=function(){r.setState({showEmoji:!r.state.showEmoji})},a=n,l()(r,a)}return u()(t,e),t.prototype.getLocalStorageKey=function(){return"bitmex-chatInput"},t.prototype.getStateFilterKeys=function(){return["input","history","historyPosition","showEmoji"]},t.prototype.componentDidUpdate=function(e,t){var n=this;this.shouldFocus&&(this.focusEndOfInput(),this.shouldFocus=!1),t.input!==this.state.input&&requestAnimationFrame(function(){var e=n.inputEl;e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")})},t.prototype.focusEndOfInput=function(){var e=this;if(this.inputEl&&this.inputEl.setSelectionRange){var t=this.state.input.length;a()(function(){var n=e.inputEl;n&&(n.focus(),n.setSelectionRange(t,t))})}},t.prototype.makeHelpPage=function(){return this.helpPage=this.helpPage||re,this.helpPage},t.prototype.setHistoryPosition=function(e){var t=this.state.history;-1===(e=Math.min(Math.max(e,-1),this.state.history.length-1))&&this.state.input&&t[0]&&(t=[""].concat(t)),this.setState({historyPosition:Math.max(0,e),history:t});var n=t[e]||"";this.setState({input:n}),this.shouldFocus=!0},t.prototype.submitMessage=function(e){var t=this;if(e){var n=e.replace(/\n{3,}/g,"\n\n");this.props.onSubmit(n,function(){t.setState({submitting:!1}),setTimeout(function(){t.setState({submitting:null})},500)}),this.setState({input:""}),this.setState({submitting:!0,history:[""].concat(this.state.history),historyPosition:0})}},t.prototype.tabFill=function(){var e=this.props.getUserList();if(e&&e.length){var t=this.state.input,n=this.state,r=n.lastReplaced,a=n.lastReplacedWith,i=t.match(/([^\s@]*)$/),o=r||i&&i[1];if(o){var s=(a||o).length===t.length,l=this._findNextUser(e,o,a);if(l||(l=this._findNextUser(e,o,"")),l){s&&(l+=": ");var c=-(a.length||o.length),u=t.slice(0,c)+l;this.setState({input:u}),this.setState({lastReplaced:o,lastReplacedWith:l})}}}},t.prototype._findNextUser=function(e,t,n){var r=!1;": "===n.slice(-2)&&(n=n.slice(0,-2));for(var a=0;a<e.length;a++)if(0===e[a].toLowerCase().indexOf(t.toLowerCase()))if(e[a]!==n){if(!n||r)return e[a]}else r=!0},t.prototype.render=function(){var e=this,t=this.context.intl.formatMessage,n="";!0===this.state.submitting?n="submitting":!1===this.state.submitting&&(n="submitted");var r=this.props.disabled||!this.props.usernameSet;return this.placeholder=this.placeholder||(r?t(ne.placeHolderNotLoggedIn):this.props.usernameSet?t(ne.placeHolderLoggedIn):t(ne.placeHolderNoUsername)),d.createElement("div",{className:"chatInputWrapper"},d.createElement("div",{className:"submitProgress "+n}),d.createElement("textarea",{className:"chatInput form-control",ref:function(t){return e.inputEl=t},disabled:r,onKeyDown:this.onKeyDown,onChange:this.onInputChange,value:this.state.input,placeholder:this.placeholder,rows:1,autoComplete:"false"}),d.createElement("span",{className:"emojiCircle",onClick:this.toggleEmojiPanel},"đź„"),this.state.showEmoji?d.createElement(te,{onSelect:this.setEmoji,extraPages:{information_source:this.makeHelpPage()},onClose:this.toggleEmojiPanel}):null)},t}(p.a))||G;ae.displayName="ChatInput",ae.defaultProps={autoFocus:!1,disabled:!1,usernameSet:!0};var ie=n(58),oe=n(229),se=d.createElement(b.FormattedMessage,{id:"chatWidget.anchor.viewArchive",defaultMessage:"Archive",description:"Url text for link to view chat archive page"}),le=d.createElement(b.FormattedMessage,{id:"chatWidget.anchor.connectToIRC",defaultMessage:"IRC",description:"Url text for link to connect to IRC channel"}),ce=d.createElement("b",null,"Bots:"),ue=d.createElement("b",null,"Users:"),de=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={mounted:!1},r.getUserList=function(){return y.a.without(y.a.uniq(y.a.map(r.props.chats,"user")),r.props.me.username)},r.onChannelChange=function(e){e<r.props.chatChannels.length&&r.props.actions.setOption({chatChannelID:e+1});var t=r.getTextarea();t&&t.focus()},r.onUserClick=function(e){var t=e.currentTarget.getAttribute("data-user");if(r.props.me.authenticated&&t!==r.props.me.username){var n=r.getTextarea();n&&n.focus();var a=r.chatInput?r.chatInput.state.input:"";0!==a.indexOf(t)&&-1===a.indexOf("@"+t)&&(0===a.length?a=t+": ":a+=(" "===a[a.length-1]?"":" ")+"@"+t+" ",r.chatInput&&r.chatInput.setState({input:a}))}},a=n,l()(r,a)}return u()(t,e),t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.props.fetchOnMount&&this.props.actions.openChatBox(),a()(function(){e.mounted&&e.setState({mounted:!0})})},t.prototype.componentWillReceiveProps=function(e){e.chatChannelID!==this.props.chatChannelID&&(this.cachedTabs=null)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getTabs=function(){if(this.cachedTabs)return this.cachedTabs;var e=this.props,t=e.chatChannels,n=e.chatChannelID,r=ie.a.settings.irc.channel,a=t.map(function(e){return e.name});return this.cachedTabs=[].concat(a,[d.createElement("a",{href:"/chatArchive?channelID="+n,target:"_blank",rel:"noopener noreferrer",className:"chatArchive hoverLink",key:"archive"},se),d.createElement("a",{href:"https://webchat.freenode.net/?channels="+r,className:"irc hoverLink",target:"_blank",key:"irc",rel:"noopener noreferrer"},le)]),this.cachedTabs},t.prototype.getTextarea=function(){return this.chatInput&&this.chatInput.inputEl},t.prototype.render=function(){var e=this,t=this.props,n=t.actions,r=t.autoFocus,a=t.chats,i=t.chatChannelID,o=t.connectedUsers,s=t.me,l=t.popUpProps,c=r||l.inNewWindow,u=s.username!==s.email,p=null;s.authenticated&&!u&&(p=d.createElement(M,{me:s,actions:n}));var m=l.wide?8:4;return d.createElement("div",{className:"chatWidget"},d.createElement(oe.a,{tabs:this.getTabs(),onTabSwitch:this.onChannelChange,currentTab:i-1,showCount:m}),p,d.createElement("div",{className:"connected"},d.createElement("span",{className:"bots"},ce," ",o.bots),d.createElement("span",{className:"users"},ue," ",o.users)),this.state.mounted?d.createElement(Q,{chats:a,me:s,onUserClick:this.onUserClick}):null,d.createElement(ae,{getUserList:this.getUserList,ref:function(t){return e.chatInput=t},disabled:!s.authenticated,usernameSet:u,onSubmit:n.addChatMessage,autoFocus:c}))},t}(p.a);de.displayName="ChatWidget",de.defaultProps={autoFocus:!1,fetchOnMount:!1,popUpProps:{}};t.a=Object(m.a)(function(e){return{actions:e.actions,chats:e.chats,chatChannels:e.chatChannels,chatChannelID:e.chatChannelID,connectedUsers:e.connectedUsers,me:e.me}})(de)},function(e,t,n){"use strict";var r=n(78),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(62)),m=n(4),f=n(8),h=d.createElement(p.a,{className:"pageLoading"});t.a=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).placeholder,n=void 0===t?h:t,r=void 0,i=function(t){function i(){var e,n,a;o()(this,i);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return e=n=l()(this,t.call.apply(t,[this].concat(c))),n.state={component:r},n.mounted=!1,a=e,l()(n,a)}return u()(i,t),i.prototype.shouldComponentUpdate=function(){return!0},i.prototype.componentDidMount=function(){var t=this;this.mounted=!0,this.state.component||e().then(function(e){return a()(function(){r=e.default,t.mounted&&t.setState({component:r})})}).catch(function(e){if(t.mounted){t.setState({component:function(){return d.createElement("div",null,e.toString())}}),t.props.onSystemError({message:t.context.intl.formatMessage({id:"asyncComponent.loadFailed",defaultMessage:"We were unable to load this page. Please refresh your browser.\n If this continues, please email support@bitmex.com.",description:"Message shown when a component fails to load."}),e:e})}})},i.prototype.componentWillUnmount=function(){this.mounted=!1},i.prototype.render=function(){var e=this.state.component;return e?d.createElement(e,this.props):n},i}(m.a);return i.displayName="AsyncWrapper",Object(f.a)(function(e){return{onSystemError:e.actions.systemError}})(i)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(4),d=n(8),p=n(18),m=n.n(p),f=n(5),h=n.n(f),g=n(10),y=n(11),b=n(16),v=n(31),E=n(7),w=Object(E.defineMessages)({marginUsed:{id:"marginDisplay.label.marginUsed",defaultMessage:"{percent, number, percent} Margin Used {leverage, number, multiplier}x Leverage",description:"Text for margin used"}}),M=Object(E.defineMessages)({targetExcess:{id:"marginDisplay.tooltip.targetExcess",defaultMessage:"Target Excess Margin (Exits Margin Call / Liquidation): {targetExcess, number}",description:"Tooltip text explaining target excess margin calculation"},grossMark:{id:"marginDisplay.tooltip.grossMark",defaultMessage:"Gross Position Value: {grossMark}",description:"Tooltip text for gross position value"}}),S=n(148),x=(m()("frontend:MarginDisplay"),["XBt","BUSd"]),k=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={marginCurrency:r.props.marginCurrency||y.f},i=n,o()(r,i)}return l()(t,e),t.prototype.makeBar=function(e,t,n,r){var a=this.perc(e.value,r),i=this.perc(e.offset||0,r),o=this.renderValue(e.value);a<0&&(i-=a=Math.abs(a));var s=e.className||"barNeutral";0===a&&(s="empty");var l="fixed-right "+(""===e.label?"":e.key.toLowerCase().replace(/ /g,""))+" "+s,u=(a*=n)+(i*=n)<0;return c.createElement("div",{className:"dataBarWrapper "+l,key:e.key},0!==t?c.createElement("div",{className:"zeroMarker",style:{marginLeft:t+"%"}}):null,c.createElement("div",{className:"dataBar",style:{width:a+"%",marginLeft:t+i+"%"}}),c.createElement("span",{className:"dataLabel",style:{left:u?t+"%":"auto",right:u?"auto":"5px"}},o))},t.prototype.getBarData=function(e){return[{key:"walletBalance",value:e.walletBalance,className:"barPositive"},{key:"unrealisedPnl",offset:e.walletBalance,className:e.unrealisedPnl<0?"barNegative":"barPositive"},{key:"marginBalance",value:e.marginBalance,className:"barPositive"},{key:"maintMargin",offset:e.excessMargin+e.initMargin,className:e.excessMargin>0?"barNeutral":"barNegative"},{key:"initMargin",offset:e.excessMargin},{key:"excessMargin",className:e.excessMargin<0?"barNegative":"barPositive"}].map(function(t){return null==t.value&&(t.value=e[t.key]),t})},t.prototype.makeLabel=function(e,t,n){var r=this.context.intl,a=Object(v.c)("margin",e,r),i=Object(v.d)("margin",e,r);return c.createElement(b.a,{className:"dataLabel fieldLabel "+e.toLowerCase().replace(/ /g,""),style:{left:n+"%"},key:t,text:i},a)},t.prototype.perc=function(e,t){return e/t*100},t.prototype.renderValue=function(e){var t=this.state.marginCurrency,n=this.context.activeCurrency;return"XBt"!==t&&(n="BUSd"===t?"BUSD":t),g.g(e,n,t)},t.prototype.makeRows=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(c.createElement("div",{className:"row"+(r%2?" row-alt":""),key:t[r].key},c.createElement("div",{className:"barOuter"},e[r],t[r])));return n},t.prototype.makeStatusRow=function(){var e=this,t=this.context.intl.formatMessage,n=this.state.marginCurrency,r=this.props.margin.getOrCreate(n),a=r.state?t(M.targetExcess,{targetExcess:this.renderValue(r.targetExcessMargin)}):t(M.grossMark,{grossMark:this.renderValue(r.grossMarkValue)}),i=r.state||t(w.marginUsed,{percent:r.marginUsedPcnt,leverage:(r.marginLeverage||0).toFixed(2)}),o=function(t){return c.createElement("label",{onClick:e.bindCallback(e.onSwitchMarginCurrency,t),className:n===t?"active":""},t.toUpperCase())};return c.createElement("div",{className:"dataLabel statusRow",key:"status"},c.createElement(b.a,{text:a},i),this.props.margin.length>1&&this.props.showCurrencySelector?c.createElement("div",{className:"switcher pull-right"},o("XBt"),c.createElement(S.a,{checked:"BUSd"===n,className:"both-primary",onChange:this.bindCallback(this.onSwitchMarginCurrency)}),o("BUSd")):null)},t.prototype.onSwitchMarginCurrency=function(e){if(!e){var t=(x.indexOf(this.state.marginCurrency)+1)%2;e=x[t]}this.setState({marginCurrency:e})},t.prototype.render=function(){var e=this,t=this.props.margin.getOrCreate(this.state.marginCurrency),n=this.getBarData(t),r=Math.max(t.walletBalance,t.marginBalance,1),a=[0];h.a.each(n,function(e){e.value<0&&!e.offset&&a.push(e.value)});var i=Math.min.apply(null,a),o=100*(Math.abs(i)/(Math.abs(i)+r)||0),s=(100-o)/100,l=h.a.map(n,function(t,n){return e.makeLabel(t.key,n,o)}),u=h.a.map(n,function(t){return e.makeBar(t,o,s,r)});return c.createElement("div",{className:"marginDisplay"},c.createElement("div",{className:"rows"},this.makeRows(l,u)),this.makeStatusRow())},t}(u.a);k.displayName="MarginDisplay",k.defaultProps={showCurrencySelector:!0};t.a=Object(d.a)(function(e){return{margin:e.margin}})(k)},function(e,t){e.exports={locale:"en",countries:{AF:"Afghanistan",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, the Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, the Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",SH:"Saint Helena",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and the Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and the South Sandwich Islands",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States of America",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe",AX:"Ă…land Islands",BQ:"Bonaire, Sint Eustatius and Saba",CW:"CuraĂ§ao",GG:"Guernsey",IM:"Isle of Man",JE:"Jersey",ME:"Montenegro",BL:"Saint BarthĂ©lemy",MF:"Saint Martin (French part)",RS:"Serbia",SX:"Sint Maarten (Dutch part)",SS:"South Sudan",XK:"Kosovo"}}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(71);t.a=function(e){var t={app:e},a=n(387).default,i=n(399).default,o=n(272).default,s=n(406).default,l=n(407).default,c=n(408).default,u=n(273).default,d=n(411).default,p=n(274).default,m=n(412).default,f=n(413).default,h=n(275).default,g=n(415).default,y=n(136).default,b=n(417).default,v=n(423).default,E=n(424).default,w=n(425).default,M={AnnouncementStore:new a(t),APIKeyStore:new i(t),BrowserStore:new o(t),ChatStore:new s(t),DialogStore:new l(t),ExecutionStore:new c(t),MeStore:new u(t),HistoryStore:new d(t),InstrumentStore:new p(t),LiquidationStore:new m(t),NotificationStore:new f(t),OptionStore:new h(t),OrderStore:new b(t),PositionStore:new v(t),OrderBookStore:new g(t),OrderInputStore:new y(t),TradeStore:new E(t),WalletStore:new w(t)};return{vault:new r.a(M),fluxToData:n(220).fluxToData}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return R});var r=n(78),a=n.n(r),i=n(26),o=n.n(i),s=n(21),l=n.n(s),c=n(15),u=(n.n(c),n(28)),d=n.n(u),p=n(34),m=n.n(p),f=n(6),h=n.n(f),g=n(0),y=n.n(g),b=n(1),v=n.n(b),E=n(2),w=n.n(E),M=n(33),S=n(5),x=n.n(S),k=n(204),T=n.n(k),C=n(18),N=n.n(C),P=n(57),O=n(206),F=n(25),I=n(75),L=n(207),A=n(11),D=n(210),B=n(31),_=n(205)().fetch,R=(N()("frontend:ui:BrowserStore"),function(t){function r(a){y()(this,r);var i=v()(this,t.call(this,a));if(i.currentWidth=1024,i.fullscreenedWidget=void 0,i.isCrawlBot=!1,i.isTouch=!1,i.masqID=null,i.pageVisible=!1,i.responsiveSize="lg",i.sidebarHidden=!1,i.sidebarName="TradeSidebar",i.sidebarSide="left",i.tradeLayouts={advanced:Object(L.a)(A.g.advanced),basic:Object(L.a)(A.g.basic)},i.connectionStatus={websocket:"connected"},i.unloading=!1,i.wasDisconnected=!1,i.websocketDisconnectLimit=3,e.browser){i.isTouch=Boolean("ontouchstart"in window||navigator.msMaxTouchPoints),window.addEventListener("beforeunload",i.onBeforeUnload.bind(i)),window.addEventListener("resize",x.a.throttle(i.checkLayoutSize.bind(i),100)),i.checkLayoutSize(!1);var o=n(66)();i.pageVisible=o.visible(),o.on("change",i.onPageVisibilityToggle.bind(i)),i.isCrawlBot=/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)}return i}return w()(r,t),r.prototype.load=function(e){var t;this.timezoneOffset=e.prerendered&&"number"==typeof e.browserOptions.timezoneOffset?e.browserOptions.timezoneOffset:(new Date).getTimezoneOffset(),this.origin=x.a.get(e,"browserOptions.origin"),this.currentRoute=(e.route||"").replace(/\/$/,""),this.revision=e.revision,this.revisionDate=e.revisionDate,this.locale=x.a.get(e,"user.me.preferences.locale","en-US"),this.initialNow=x.a.get(e,"browserOptions.initialNow",Date.now()),this.localeMessages=e.localeMessages,this.staticPages=h()({},e.staticPages)||((t={})[this.locale]={},t);var n=P.a.get("Browser-advancedTradeLayout");n&&"object"===(void 0===n?"undefined":m()(n))&&!Array.isArray(n)&&(this.tradeLayouts.advanced=n)},r.prototype.getConnectionStatus=function(){return this.connectionStatus},r.prototype.getCurrentRoute=function(){return this.currentRoute},r.prototype.getFloatingWidget=function(){return this.floatingWidget},r.prototype.getFullscreenedWidget=function(){return this.fullscreenedWidget},r.prototype.getInitialNow=function(){return this.initialNow},r.prototype.getIsPhone=function(){return"lg"!==this.responsiveSize&&"md"!==this.responsiveSize},r.prototype.getIsTouch=function(){return this.isTouch},r.prototype.getLocale=function(){return this.locale},r.prototype.getLocaleMessages=function(){return this.localeMessages[this.locale]},r.prototype.getMasqID=function(){return this.masqID},r.prototype.getOrigin=function(){return this.origin},r.prototype.getPageVisible=function(){return this.pageVisible},r.prototype.getPageWidth=function(){return this.currentWidth},r.prototype.getResponsiveSize=function(){return this.responsiveSize},r.prototype.getRevision=function(){return this.revision},r.prototype.getRevisionDate=function(){return this.revisionDate},r.prototype.getSidebarHidden=function(){return this.sidebarHidden},r.prototype.getSidebarName=function(){return this.sidebarName},r.prototype.getSidebarSide=function(){return this.sidebarSide},r.prototype.getStaticPages=function(e){return this.staticPages[e||this.locale]||{}},r.prototype.getTimezoneOffset=function(){return this.timezoneOffset},r.prototype.getTradeLayouts=function(){return this.tradeLayouts},r.prototype.getWSStreamCreator=function(){return this.app&&this.app.getWebSocketStream},r.prototype.onAppMount=function(){var e=(new Date).getTimezoneOffset();e!==this.timezoneOffset&&(this.timezoneOffset=e,this.emit("change"))},r.prototype.onBeforeUnload=function(){this.unloading=!0},r.prototype.onClearLocalStorage=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).prefix;"string"==typeof e?P.a.getKeys().filter(function(t){return 0===t.indexOf(e||"")}).forEach(function(e){return P.a.remove(e)}):P.a.clear(),window.navigator&&null!=window.navigator.serviceWorker&&window.navigator.serviceWorker.getRegistrations().then(function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:d()(t);;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}a.unregister()}}),this.notify({messageId:"BrowserStore.ClearStorage",type:"success"})},r.prototype.onFetchStaticPage=function(){var e=Object(c.coroutine)(l.a.mark(function e(t){var n,r,a,i,o,s,c=t.type,u=t.pageName;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=c.replace(/\W/g,""),u=u.replace(/\W/g,""),n=this.locale,(r=this.staticPages)[n]||(r[n]={}),"string"!=typeof r[n][u]){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,_("/static/"+c+"/"+n+"/"+u);case 9:return i=e.sent,e.next=12,i.text();case 12:o=e.sent,r[n]=h()({},r[n],((a={})[u]=Object(B.b)(o),a)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r[n]=h()({},r[n],((s={})[u]=e.t0,s));case 19:this.emit("change");case 20:case"end":return e.stop()}},e,this,[[6,16]])}));return function(t){return e.apply(this,arguments)}}(),r.prototype.onFluxInit=function(){},r.prototype.onFloatingWidgetSwitch=function(e){var t=e.name;t===this.floatingWidget&&(t=null),this.floatingWidget=t,this.emit("change")},r.prototype.onToggleFullscreenPanel=function(e){var t=e.toggle,n=e.name;this.fullscreenedWidget=t?n:void 0,this.emit("change")},r.prototype.onSwitchLocalePending=function(){var t=Object(c.coroutine)(l.a.mark(function t(n){var r=this,a=n.locale;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{this.app.stores.getStore("OptionStore").onSetOption({locale:a}),e.nextTick(function(){return r.flux.actions.switchLocaleSuccess(a)})}catch(t){e.nextTick(function(){return r.flux.actions.switchLocaleFailed(t)})}case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r.prototype.onSwitchLocaleFailed=function(){var e=Object(c.coroutine)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.notify({messageId:"BrowserStore.LocaleSwitchFailure",messageValues:{errorMessage:t.message},type:"error"});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.prototype.onSwitchLocaleSuccess=function(){var e=Object(c.coroutine)(l.a.mark(function e(t){var n=t.locale;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)(n);case 2:this.localeMessages[n]=e.sent,this.locale=n,this.emit("change");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.prototype.onSaveLayout=function(e){var t,n=e.name,r=e.data;if("advanced"!==n&&"basic"!==n)throw new Error("Unknown layout name: "+n);var a=r||Object(L.a)(A.g[n]);x.a.isEqual(a,this.tradeLayouts[n])||(this.tradeLayouts=h()({},this.tradeLayouts,((t={})[n]=a,t)),this.emit("change"))},r.prototype.onSetOption=function(e){e.tradeLayout&&(this.fullscreenedWidget=void 0,this.emit("change"))},r.prototype.onToggleSidebarHidden=function(e){var t=e.toggle;this.sidebarHidden!==t&&(this.sidebarHidden="boolean"==typeof t?t:!this.sidebarHidden,this.emit("change"))},r.prototype.onSwitchSidebarName=function(e){var t=e.name;this.sidebarName!==t&&(this.sidebarName=t,this.emit("change"))},r.prototype.onSwitchSidebarSide=function(e){var t=e.side;this.sidebarSide!==t&&(this.sidebarSide=t||("left"===this.sidebarSide?"right":"left"),this.emit("change"))},r.prototype.onBeforeNavigate=function(e){var t=e.path;this.trackPageView(t)},r.prototype.onAfterNavigate=function(e){e.path;this.fullscreenedWidget&&this.onToggleFullscreenPanel({toggle:!1});var t="xs"===this.responsiveSize||"xxs"===this.responsiveSize;if(!window.location.hash&&t){var n=document.querySelector(".content.container");if(n){var r=n.getBoundingClientRect().top;window.scroll(0,r+window.pageYOffset-45)}}},r.prototype.onAddQuery=function(e){var t=this.currentRoute.split("?"),n=T.a.parse(t[1])||{},r=T.a.stringify(h()({},n,e));this.navigate(t[0]+"?"+r)},r.prototype.onRemoveQuery=function(e){if(e){var t=this.currentRoute.split("?"),n=T.a.parse(t[1])||{},r=T.a.stringify(x.a.omit(n,o()(e)));this.navigate(t[0]+"?"+r)}else{var a=this.currentRoute.split("?")[0];this.navigate(a)}},r.prototype.onPageVisibilityToggle=function(e){var t=e.toggle;this.pageVisible=t,this.emit("change")},r.prototype.onSystemError=function(e){I.b("error","fatal",e),this.flux.actions=x.a.mapValues(this.flux.actions,function(e,t){return"dialogConfirm"===t||"systemError"===t?e:function(){return console.error("System disabled, refusing to execute "+t)}}),this.app.stores.getStore("DialogStore").onOpenDialog({props:{showCancel:!1,title:"Sorry! An issue occurred.",body:e.message||"We detected an internal inconsistency in the data stored in your browser.\nThis could lead to bad orders or prices, so we have interrupted execution.\nPlease refresh your browser.\nIf this continues, please contact us at support@bitmex.com.",confirmText:"Okay, refresh my browser.",onConfirm:function(){return window.location.reload()},onCancel:function(){return window.location.reload()}},component:"ConfirmDialog"})},r.prototype.onUserMasq=function(t){var n=this,r=t.id,a=t.cb,i=this.app,o=i.websocket,s=i.stores;a||(a=function(e){});var l=function e(t){if("IMAGE_ALL_STORES"===t)return i.flux.off("dispatch",e),a&&a()};try{var c=s.getStore("MeStore").getMe();if("number"==typeof r&&!c.hasRole("admin")&&!c.hasRole("supportTeam"))throw new Error("Unauthorized");if(r===c.id)return a();i.flux.on("dispatch",l),this.masqID=r,Object(F.g)(r),o._ignoreFailure=!0,o.end();var u=T.a.parse(o.url.query.replace(/^\?/,""));"number"==typeof r?u["x-masq"]=r:delete u["x-masq"],o.url.query="?"+T.a.stringify(u),o.open(),o._ignoreFailure=!1,e.nextTick(function(){n.flux.actions.imageAllStores(),n.flux.actions.fetchDepositAddress({})})}catch(e){return i.flux.off("dispatch",l),a(e)}},r.prototype.onWebSocketConnected=function(){var t=this;this.wasDisconnected&&e.nextTick(function(){t.flux.actions.imageAllStores({disconnected:!0}),t.wasDisconnected=!1}),clearTimeout(this.websocketDisconnectTimeout),this.websocketDisconnectTimeout=null,this.changeConnectionStatus({websocket:"connected"})},r.prototype.onWebSocketDisconnected=function(){var e=this;this.wasDisconnected=!0,this.delayWebSocketStatusChange(function(){e.changeConnectionStatus({websocket:"disconnected"})})},r.prototype.onWebSocketError=function(e){e&&429===e.status?this.changeConnectionStatus({websocket:"ratelimited"}):this.onWebSocketDisconnected()},r.prototype.onWebSocketReconnecting=function(){var e=this;this.delayWebSocketStatusChange(function(){e.changeConnectionStatus({websocket:"reconnecting"})})},r.prototype.onWebSocketFailure=function(){this.changeConnectionStatus({websocket:"failure"})},r.prototype.onWebSocketNotSupported=function(){var e=this;this.isCrawlBot||setTimeout(function(){e.app.stores.getStore("DialogStore").onOpenDialog({props:{},component:"WebSocketNotSupportedDialog"})},5e3)},r.prototype.delayWebSocketStatusChange=function(e){"connected"!==this.connectionStatus.websocket?e():this.websocketDisconnectTimeout||(this.websocketDisconnectTimeout=setTimeout(e,5e3))},r.prototype.changeConnectionStatus=function(e){this.unloading||(this.connectionStatus=h()({},this.connectionStatus,e),this.emit("change"))},r.prototype.checkLayoutSize=function(e){var t=window.innerWidth,n=["lg","md","sm","xs","xxs"],r=[1200,996,768,480,0],a=void 0;for(a=0;a<r.length&&!(t>=r[a]);a++);var i=!1;this.responsiveSize!==n[a]&&(this.responsiveSize=n[a],i=!0),this.currentWidth!==t&&(this.currentWidth=t,i=!0),!1!==e&&i&&this.emit("change")},r.prototype.navigate=function(e){var t=this;a()(function(){t.app.flux.actions.navigate(e)})},r.prototype.trackPageView=function(e){this.currentRoute=e.replace(/\/$/,""),this.emit("change"),I.a(document.title,e)},r}(M.a));R.actions={APP_DID_MOUNT:"onAppMount",CLEAR_LOCALSTORAGE:"onClearLocalStorage",FETCH_STATIC_PAGE:"onFetchStaticPage",FLUX_INIT:"onFluxInit",SAVE_LAYOUT:"onSaveLayout",SET_OPTION:"onSetOption",SWITCH_SIDEBAR_NAME:"onSwitchSidebarName",SWITCH_SIDEBAR_SIDE:"onSwitchSidebarSide",SWITCH_FLOATING_WIDGET:"onFloatingWidgetSwitch",SWITCH_LOCALE_FAILED:"onSwitchLocaleFailed",SWITCH_LOCALE_PENDING:"onSwitchLocalePending",SWITCH_LOCALE_SUCCESS:"onSwitchLocaleSuccess",SYSTEM_ERROR:"onSystemError",TOGGLE_FULLSCREEN_PANEL:"onToggleFullscreenPanel",TOGGLE_SIDEBAR_HIDDEN:"onToggleSidebarHidden",USER_MASQ:"onUserMasq",WEBSOCKET_CONNECTED:"onWebSocketConnected",WEBSOCKET_DISCONNECTED:"onWebSocketDisconnected",WEBSOCKET_ERROR:"onWebSocketError",WEBSOCKET_NOT_SUPPORTED:"onWebSocketNotSupported",WEBSOCKET_RECONNECTING:"onWebSocketReconnecting",WEBSOCKET_FAILURE:"onWebSocketFailure",BEFORE_NAVIGATE:"onBeforeNavigate",AFTER_NAVIGATE:"onAfterNavigate",ADD_QUERY:"onAddQuery",REMOVE_QUERY:"onRemoveQuery"},R.mixins=[Object(O.a)({name:"Browser",keys:["tradeLayouts","floatingWidget","sidebarHidden","sidebarSide"]})]}.call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return k});var r=n(34),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(33),p=n(5),m=n.n(p),f=n(39),h=n(43),g=n(409),y=n(11),b=n(213),v=n(410),E=n(214),w=n(25),M=n(75),S=n(10),x=n(135),k=function(t){function r(e){o()(this,r);var n=l()(this,t.call(this,e));return n.on("update:margin",n.onMarginUpdate.bind(n)),n}return u()(r,t),r.prototype.load=function(e){var t=e.user;this.me=new E.a(t.me||{}),this.margin=new v.a(Array.isArray(t.margin)?t.margin:[{currency:y.f}]),this.affiliateStatus=new g.a(t.affiliateStatus||{}),this.commission=t.commission||{},this.depositAddress=t.depositAddress||""},r.prototype.checkMarginState=function(e,t){var n=t.state,r=e.state;if("Bankrupt"===n&&(n="Liquidation"),"Bankrupt"===r&&(r="Liquidation"),n!==r&&r){if(x.a["MeStore.State."+r]){var a={messageId:"MeStore.State."+r,messageValues:{targetExcessMargin:Object(S.g)(e.targetExcessMargin,this.app.stores.getStore("OptionStore").getOptions().currency)},ttl:0,type:"error"};this.notify(m.a.extend({browserOnly:!0,closable:!1},a)),this.notify(m.a.extend({nativeOnly:!0},a))}M.b("margin",r,this.margin)}else n&&!r&&M.b("margin","GoodStanding",this.margin)},r.prototype.confirmTFAToken=function(e){var t=this;return w.d({endpoint:"/user/confirmEnableTFA",redirect401:!1,json:{type:e.TFAType,token:e.TFAToken}}).then(function(n){t.me=t.me.newWithProps({TFAEnabled:e.TFAType}),t.notify({messageId:"MeStore.TFAEnableSuccess",type:"success",icon:"lock"}),t.emit("change")}).catch(function(e){t.notify({messageId:"MeStore.TFAEnableFailure",body:e.message,type:"error"})})},r.prototype.disableTFA=function(e){var t=this;return w.d({endpoint:"/user/disableTFA",redirect401:!1,json:{type:e.TFAType,token:e.TFAToken}}).then(function(e){t.me=t.me.newWithProps({TFAEnabled:""}),t.notify({messageId:"MeStore.TFADisableSuccess",type:"success"}),t.emit("change")}).catch(function(e){t.notify({messageId:"MeStore.TFADisableFailure",body:e.message,type:"error"})})},r.prototype.fetchDepositAddress=function(e){var t=this;w.c({endpoint:"/user/depositAddress"}).then(function(e){if("string"!=typeof e||!e)throw new Error("Unexpected deposit address: "+String(e));if(!m.a.startsWith(e,"3BMEX")&&!m.a.startsWith(e,"3BitMEX"))throw new Error("Unauthorized Deposit Address: "+e);t.depositAddress=e,t.emit("change")}).nodeify(e&&e.callback)},r.prototype.getAffiliateStatus=function(){return this.affiliateStatus},r.prototype.getCommission=function(){return this.commission},r.prototype.getDepositAddress=function(){return this.depositAddress},r.prototype.getMargin=function(){return this.margin},r.prototype.getMarginItem=function(e){return this.margin.getOrCreate(e)},r.prototype.getPrimaryMargin=function(){return this.getMarginItem(y.f)},r.prototype.getMe=function(){return this.me},r.prototype.onFluxInit=function(){this.checkMarginState(this.getPrimaryMargin(),new b.a),e.browser&&n(128).setUserContext({email:this.me.email||"anonymous@bitmex.com",username:this.me.username||"anonymous",id:this.me.id||-1})},r.prototype.onMarginUpdate=function(e,t){t&&this.checkMarginState(e,t)},r.prototype.requestTFAToken=function(e){var t=this;return w.d({endpoint:"/user/requestEnableTFA",json:{type:e.TFAType}}).then(function(e){if(!e||"object"!==(void 0===e?"undefined":a()(e))||Array.isArray(e))throw new Error("Unexpected response: "+String(e));if(!e.hasOwnProperty("secret")||"string"!=typeof e.secret)throw new Error("Did not receive secret on TFA.");t.me=t.me.newWithProps({OTPSecret:e.secret}),t.emit("change")}).catch(function(e){t.notify({messageId:"MeStore.TFARequestFailure",body:e.message,type:"error"})})},r.prototype.updateMe=function(e){var t=this,n=e.attrs,r=e.callback||function(e){};return w.e({endpoint:"/user",json:n}).then(function(n){if(!n||"object"!==(void 0===n?"undefined":a()(n))||Array.isArray(n))throw new Error("Unexpected response: "+String(n));t.me=t.me.newWithProps(n),t.emit("change"),e.attrs.oldPassword&&e.attrs.newPassword?t.app.timeout("Password successfully changed, please log in."):t.flux.actions.updateMeComplete(n)}).catch(function(e){throw t.flux.actions.updateMeFailed(e),403===e.code&&t.fetch().then(function(){return null}),e}).nodeify(r)},r.prototype.updateMeComplete=function(e){this.notify({messageId:"MeStore.UpdateSuccess",type:"success",icon:"user"})},r.prototype.updateMeFailed=function(e){this.notify({messageId:"MeStore.UpdateFailure",body:e.message,type:"error"})},r}(d.a);k.mixins=[Object(f.a)({model:"Margin",storeKey:"margin",socketName:"margin",enabled:function(){return Boolean(this.app.authenticated)},partialIsUsable:!0},{throttleUpdate:250}),Object(h.a)([{storeKey:"me",restEndpoint:"/user",enabled:function(){return Boolean(this.app.authenticated)},fetchOnDisconnect:!0},{storeKey:"margin",restEndpoint:"/user/margin",restParams:{currency:"All"},enabled:function(){return Boolean(this.app.authenticated)},fetchOnDisconnect:!1},{storeKey:"affiliateStatus",restEndpoint:"/user/affiliateStatus",fetchOnDisconnect:!1},{storeKey:"commission",restEndpoint:"/user/commission",fetchOnDisconnect:!1}])],k.actions={CONFIRM_TFA_TOKEN:"confirmTFAToken",DISABLE_TFA:"disableTFA",FETCH_DEPOSIT_ADDRESS:"fetchDepositAddress",FLUX_INIT:"onFluxInit",REQUEST_TFA_TOKEN:"requestTFAToken",UPDATE_ME:"updateMe",UPDATE_ME_COMPLETE:"updateMeComplete",UPDATE_ME_FAILED:"updateMeFailed"}}.call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return v});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(33),u=n(11),d=n(5),p=(n.n(d),n(79)),m=n(39),f=n(43),h=n(42),g=(n.n(h),n(96)),y=n(199),b=new RegExp("^"+u.b+"trade/(.*)$"),v=function(t){function n(){return a()(this,n),o()(this,t.apply(this,arguments))}return l()(n,t),n.prototype.load=function(e){var t=e.instruments||[];this.instruments=new p.a(t),t.length||(this.instruments=new p.a([new g.a({symbol:"ERR"})])),this.selectedSymbol=e.selectedSymbol,this.instruments.get(this.selectedSymbol)||(this.selectedSymbol=Object(y.a)(this.getInstruments().models,e.selectedSymbol))},n.prototype.getIndices=function(){return w(this.instruments)},n.prototype.getInstrument=function(e){return this.instruments.getOrCreate(e)},n.prototype.getInstrumentNoStub=function(e){return this.instruments.get(e)},n.prototype.getInstruments=function(){return M(this.instruments)},n.prototype.getSelectedInstrument=function(){return this.getInstrument(this.selectedSymbol)},n.prototype.getSelectedSymbol=function(){return this.selectedSymbol},n.prototype.indexOfSymbol=function(e){var t=this.instruments.get(e);return t?this.instruments.models.indexOf(t):-1},n.prototype.navigateAfterSelect=function(){var t=this,n=u.b+"trade/"+this.selectedSymbol;e.browser&&window.location.pathname!==n&&(clearTimeout(this.dirtyNavTimeout),this.dirtyNavTimeout=setTimeout(function(){t.app.router.navigate(n)},0))},n.prototype.onSelectInstrument=function(e){var t=e.symbol,n=this.selectedSymbol!==t;this.selectedSymbol=t,this.navigateAfterSelect(),n&&this.emit("change")},n.prototype.onBeforeNavigate=function(t){var n=this,r=t.path.match(b);r&&r.length&&this.selectedSymbol!==r[1]&&e.nextTick(function(){return n.flux.actions.selectInstrument(r[1])})},n}(c.a);v.actions={SELECT_INSTRUMENT:"onSelectInstrument",BEFORE_NAVIGATE:"onBeforeNavigate"},v.mixins=[Object(m.a)({model:"Instrument",storeKey:"instruments",socketName:"instrument",partialIsUsable:!0}),Object(f.a)({storeKey:"instruments",restEndpoint:"/instrument/activeAndIndices",fetchOnDisconnect:!1})];var E=function(e,t){return new p.a(e,t)},w=Object(h.defaultMemoize)(function(e,t){return E(e.filter({isIndex:!0}),t)}),M=Object(h.defaultMemoize)(function(e,t){return E(e.filter({isIndex:!1}).sort(p.e),t)})}.call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return T});var r=n(21),a=n.n(r),i=n(26),o=n.n(i),s=n(15),l=(n.n(s),n(6)),c=n.n(l),u=n(0),d=n.n(u),p=n(1),m=n.n(p),f=n(2),h=n.n(f),g=n(33),y=n(5),b=n.n(y),v=n(414),E=(n.n(v),n(18)),w=n.n(E),M=n(25),S=n(75),x=n(10),k=n(11),T=(w()("frontend:ui:OptionStore"),function(t){function n(r){d()(this,n);var a=m()(this,t.call(this,r));return a._pendingOptions={},a.queueSave=b.a.debounce(function(){return a.saveOptions()},1e4),e.browser&&window.addEventListener("beforeunload",function(){a.saveOptions(!1)}),a}return h()(n,t),n.prototype.load=function(e){this.options=c()({},k.c,e.user.me.preferences,this._pendingOptions)},n.prototype.onFluxInit=function(){var e=this;try{this.app.stores.getStore("MeStore").on("image:me",function(){return e.load({user:{me:e.app.stores.getStore("MeStore").getMe()}})})}catch(e){}},n.prototype.getOptions=function(){return this.options},n.prototype.onAcknowledgeUrgentAnnouncement=function(e){if(!e.instanceID)return this.onSetOption({msgsSeen:[e.id]})},n.prototype.onClearUrgentAnnouncementPrefs=function(){var e=this.options.msgsSeen.map(function(e){return"!"+e});return this.onSetOption({msgsSeen:e})},n.prototype.onSetOption=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.mergeOptions(this.options,e);b.a.isEqual(n,this.options)||(this.validatePayload(e),this._pendingOptions=this.mergeOptions(this._pendingOptions,e,!1),"string"==typeof e.colorTheme&&this.setTheme(e.colorTheme),this.options=n,this.emit("change"),t&&!0===t.synchronous?this.saveOptions():this.queueSave(e))},n.prototype.onSetOptionSynchronous=function(e){return this.onSetOption(e,{synchronous:!0})},n.prototype.setTheme=function(e){function t(e){console.error("Error setting theme:",e),window.location.reload()}function n(e){try{return e.sheet}catch(e){return null}}function r(e,t){try{return e.sheet[t]}catch(e){return null}}try{var a="dark"===e?"light":"dark",i=document.getElementById("css-"+e),o=document.getElementById("css-"+a);if(!i||!o)throw new Error;var s=function e(){try{clearInterval(c),o.setAttribute("x-href",o.getAttribute("href")),o.setAttribute("href",""),n(o)&&(o.sheet.disabled=!0),i.removeEventListener("load",e)}catch(e){t(e)}};i.setAttribute("href",i.getAttribute("x-href")),i.addEventListener("load",s),n(i)&&(i.sheet.enabled=!0);var l=0,c=setInterval(function(){try{var e=r(i,"rules"),a=r(i,"cssRules");n(i)&&(e&&e.length>0||a&&a.length>0||!1===r(i,"disabled")||l++>300)&&s()}catch(e){t(e)}},16)}catch(e){t(e)}},n.prototype.mergeOptions=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return b.a.mapValues(Object(v.mergeWithArrays)({},e,t),function(e){return Array.isArray(e)&&(e=b.a.uniq(e),e=b.a.reject(e,function(t){return!(!n||"!"!==t[0])||b.a.includes(e,"!"+t)})),e})},n.prototype.validatePayload=function(e){if(e.currency&&!b.a.includes(b.a.keys(x.d),e.currency))throw new Error("Currency must be in the following list: "+b.a.keys(x.d).toString())},n.prototype.saveOptions=function(){var e=Object(s.coroutine)(a.a.mark(function e(){var t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._pendingOptions,this._pendingOptions={},o()(t).length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,M.d({endpoint:"/setOptions",json:{prefs:t},callAPI:!1});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),n=this.app.stores.getStore("MeStore").getMe().authenticated,r&&n&&(console.error("Unable to save preferences: ",e.t0.message),this.notify({messageId:"OptionStore.SetOptionFailure",body:e.t0.message}));case 13:return e.prev=13,S.b("options","set",t),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[4,9,13,16]])}));return function(){return e.apply(this,arguments)}}(),n}(g.a));T.actions={ACKNOWLEDGE_URGENT_ANNOUNCEMENT:"onAcknowledgeUrgentAnnouncement",CLEAR_URGENT_ANNOUNCEMENT_PREFS:"onClearUrgentAnnouncementPrefs",FLUX_INIT:"onFluxInit",SET_OPTION:"onSetOption",SET_OPTION_SYNCHRONOUS:"onSetOptionSynchronous"}}.call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return f}),t.fluxToData=function(e,t){t&&!1===t.cache&&(e.dataCache=null);var n=e.stores,r=n.InstrumentStore.getSelectedInstrument();if(h&&e.dataCache)return e.dataCache;var a={actions:e.actions,selectedInstrument:r,indices:n.InstrumentStore.getIndices(),instruments:n.InstrumentStore.getInstruments(),initialNow:n.BrowserStore.getInitialNow(),locale:n.BrowserStore.getLocale(),localeMessages:n.BrowserStore.getLocaleMessages(),options:n.OptionStore.getOptions(),selectedSymbol:r.symbol};h&&(e.dataCache=a);return a};var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(14)),d=n.n(u),p=n(77),m=n.n(p),f=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getChildContext=function(){return{flux:this.props.flux}},t.prototype.render=function(){return c.Children.only(this.props.children)},t}(c.Component);f.childContextTypes={flux:d.a.instanceOf(m.a.Flux).isRequired};var h=Boolean(e.browser)}.call(t,n(12))},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(19),u=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getID=function(){var e=this.toJSON();if("00000000-0000-0000-0000-000000000000"===e[t.idAttribute]){var n=e.transactType,r=e.amount,a=e.transactTime,i=e.walletBalance;return n+"-"+r+"-"+(a?a.valueOf():"--")+"-"+(i||"--")}return e[t.idAttribute]},t}(function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(c.a));u.typeName="Transaction",u.idAttribute="transactID",u.displayTypes={amount:c.b.currencyFullPrecision,fee:c.b.currencyHighPrecision,marginBalance:c.b.currency,walletBalance:c.b.currency},u.props={marginBalance:"number",walletBalance:"number"};t.a=Object(c.c)(u)},function(e,t,n){var r=function(){return this}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(290),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=E;var d="suspendedStart",p="suspendedYield",m="executing",f="completed",h={},g={};g[o]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(F([])));b&&b!==r&&a.call(b,o)&&(g=b);var v=x.prototype=M.prototype=Object.create(g);S.prototype=v.constructor=x,x.constructor=S,x[l]=S.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(v),e},u.awrap=function(e){return{__await:e}},k(T.prototype),T.prototype[s]=function(){return this},u.AsyncIterator=T,u.async=function(e,t,n,r){var a=new T(E(e,t,n,r));return u.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},k(v),v[l]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=F,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:F(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function E(e,t,n,r){var a,i,o,s,l=t&&t.prototype instanceof M?t:M,c=Object.create(l.prototype),u=new O(r||[]);return c._invoke=(a=e,i=n,o=u,s=d,function(e,t){if(s===m)throw new Error("Generator is already running");if(s===f){if("throw"===e)throw t;return I()}for(o.method=e,o.arg=t;;){var n=o.delegate;if(n){var r=C(n,o);if(r){if(r===h)continue;return r}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===d)throw s=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=m;var l=w(a,i,o);if("normal"===l.type){if(s=o.done?f:p,l.arg===h)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(s=f,o.method="throw",o.arg=l.arg)}}),c}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function M(){}function S(){}function x(){}function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,o){var s=w(e[n],e,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(c).then(function(e){l.value=e,i(l)},o)}o(s.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function C(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=w(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function F(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(121),n(72),n(103),n(327),n(332),n(334),n(335),e.exports=n(17).Map},function(e,t,n){"use strict";var r=n(168),a=n(124);e.exports=n(171)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(a(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(46),a=n(17),i=n(51),o=n(56),s=n(41)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(54),a=n(263),i=n(64),o=n(109),s=n(330);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,m=t||s;return function(t,s,f){for(var h,g,y=i(t),b=a(y),v=r(s,f,3),E=o(b.length),w=0,M=n?m(t,E):l?m(t,0):void 0;E>w;w++)if((p||w in b)&&(g=v(h=b[w],w,y),e))if(n)M[w]=g;else if(g)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:M.push(h)}else if(u)return!1;return d?-1:c||u?u:M}}},function(e,t,n){var r=n(331);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(47),a=n(322),i=n(41)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(32);r(r.P+r.R,"Map",{toJSON:n(172)("Map")})},function(e,t,n){var r=n(91);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(173)("Map")},function(e,t,n){n(174)("Map")},function(e,t,n){e.exports={default:n(337),__esModule:!0}},function(e,t,n){n(319),e.exports=n(17).Symbol.for},function(e,t,n){e.exports={default:n(339),__esModule:!0}},function(e,t,n){n(121),e.exports=n(166).f("toStringTag")},function(e,t,n){n(341),e.exports=n(17).Object.freeze},function(e,t,n){var r=n(47),a=n(120).onFreeze;n(65)("freeze",function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){e.exports={default:n(343),__esModule:!0}},function(e,t,n){n(344);var r=n(17).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},function(e,t,n){n(65)("getOwnPropertyNames",function(){return n(323).f})},function(e,t,n){e.exports={default:n(346),__esModule:!0}},function(e,t,n){n(347);var r=n(17).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(32);r(r.S+r.F*!n(56),"Object",{defineProperties:n(312)})},function(e,t,n){"use strict";(function(e){var r,a,i,o=n(28),s=n.n(o),l=n(21),c=n.n(l),u=n(15),d=(n.n(u),n(157),n(3)),p=(n.n(d),n(22)),m=n.n(p),f=n(181),h=n(187),g=n(349),y=n(75),b=n(210),v=n(58),E=(r=Object(u.coroutine)(c.a.mark(function e(t,n,r){var a,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:if(a=document.getElementById("initialData")){e.next=5;break}throw new Error("Could not bootstrap data!");case 5:return i=JSON.parse(a.textContent),a.parentNode.removeChild(a),i.err&&401===i.err.status&&(window.location.href="/timeout"),o=Object(f.a)("production"),h.a(o,i.revision),e.next=12,M(i);case 12:g.a(),S=v.a.init(i,o,t),x(n,r);case 15:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)}),w=(a=Object(u.coroutine)(c.a.mark(function t(){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.Intl){t.next=3;break}return t.next=3,new Promise(function(e){e()}).then(n.bind(null,483));case 3:case"end":return t.stop()}},t,this)})),function(){return a.apply(this,arguments)}),M=(i=Object(u.coroutine)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",t.localeMessages={},e.prev=2,n=t.user.me.preferences.locale,e.next=6,Object(b.a)(n);case 6:t.localeMessages[n]=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("Unable to load data for locale: "+n+".",e.t0);try{t.user.me.preferences.locale="en-US"}catch(e){}case 13:case"end":return e.stop()}},e,this,[[2,9]])})),function(e){return i.apply(this,arguments)}),S=void 0;function x(e,t){var r=void 0;switch(e){case"NATIVE":default:case"HOME":r=n(426).default;break;case"APP":r=n(436).default}var a=document.getElementById(t);if(!a)throw new Error("Couldn't find #content! Aborting.");var i=S.flux,o=d.createElement(r,{flux:i});document.body&&/prerendered/.test(document.body.className)?S.views.main=m.a.hydrate(o,a):S.views.main=m.a.render(o,a);var s=document.getElementById("footer");s&&s.classList.remove("hidden")}t.a={registerServiceWorker:function(){if(window.navigator&&null!=window.navigator.serviceWorker&&"function"==typeof window.navigator.serviceWorker.getRegistrations){var e=window.navigator.serviceWorker;e.getRegistrations().then(function(t){var n=t,r=Array.isArray(n),a=0;for(n=r?n:s()(n);;){var i;if(r){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}var o=i;-1!==o.scope.indexOf("staticJS")&&o.unregister()}e.register("/serviceWorker.js").catch(function(e){return window.Raven&&window.Raven.captureException(e)})})}},handleOfflineMode:function(){if("/offline"===window.location.pathname)return setTimeout(function(){window.location.reload()},5e3),void window.addEventListener("online",function(e){return window.location.reload()})},trackInstall:function(){window.addEventListener("beforeinstallprompt",function(e){e.userChoice.then(function(e){y.b("installprompt",e.outcome)})})},launchBrowser:E,renderApp:x}}).call(t,n(36))},function(e,t,n){"use strict";(function(e,n){t.a=function(){if(!e.browser||n.localStorage&&n.localStorage.getItem("greetingDisabled"))return;function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a;window.Raven&&window.Raven._originalConsoleMethods&&window.Raven._originalConsoleMethods.log?(r=window.Raven._originalConsoleMethods.log).call.apply(r,[console].concat(t)):(a=console).log.apply(a,t)}var r=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),a=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),i=void 0;if(window.disableGreeting=function(){clearTimeout(i),t("Disabled welcome greeting."),n.localStorage&&n.localStorage.setItem("greetingDisabled","true")},!r&&!a)return;o=function(e){var n,o;clearTimeout(i),n=[["",0],["Hey, you opened the console. Welcome to BitMEX.",2500],["We're happy you're here and even happier you're taking a look at our plumbing.",2e3],["",1e3],["Our API docs: https://"+window.location.host+"/explorer",1e3],["A sample API connector: https://github.com/BitMEX/api-connectors",1e3],["Want to work for BitMEX? Go to https://blog.bitmex.com/careers-at-bitmex/",5e3],["",0],["If you don't want to see these messages again, type: `disableGreeting();`",1e3]],o=0,i=setTimeout(function e(){r||a?t("%c "+n[o++][0],"font-size: 16px"):t(n[o++][0]),o<n.length&&(i=setTimeout(e,n[o-1][1]))},n[0][1])},s={open:!1},setInterval(function(){window.Firebug&&window.Firebug.chrome&&window.Firebug.chrome.isInitialized||window.outerWidth-window.innerWidth>160||window.outerHeight-window.innerHeight>160?(s.open||o(!0),s.open=!0):(s.open&&o(!1),s.open=!1)},1500);var o,s}}).call(t,n(12),n(36))},function(e,t,n){e.exports={default:n(351),__esModule:!0}},function(e,t,n){n(352),e.exports=n(17).Object.getPrototypeOf},function(e,t,n){var r=n(64),a=n(317);n(65)("getPrototypeOf",function(){return function(e){return a(r(e))}})},function(e,t,n){e.exports={default:n(354),__esModule:!0}},function(e,t,n){n(355),e.exports=n(17).Reflect.construct},function(e,t,n){var r=n(32),a=n(118),i=n(112),o=n(55),s=n(47),l=n(63),c=n(356),u=(n(46).Reflect||{}).construct,d=l(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),p=!l(function(){u(function(){})});r(r.S+r.F*(d||p),"Reflect",{construct:function(e,t){i(e),o(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=n.prototype,m=a(s(l)?l:Object.prototype),f=Function.apply.call(e,m,t);return s(f)?f:m}})},function(e,t,n){"use strict";var r=n(112),a=n(47),i=n(197),o=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),l=function(){var r=n.concat(o.call(arguments));return this instanceof l?function(e,t,n){if(!(t in s)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):i(t,r,e)};return a(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t,n){"use strict";var r=n(26),a=n.n(r),i=n(24),o=n.n(i),s=n(78),l=n.n(s),c=n(28),u=n.n(c),d=n(76),p=n.n(d),m=n(167),f=n.n(m),h=n(0),g=n.n(h),y=n(5),b=n.n(y),v=n(18),E=n.n(v),w=n(1),M=n.n(w),S=n(2),x=n.n(S),k=n(198),T=function(e){function t(){g()(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=M()(this,e.call.apply(e,[this].concat(r)));return i.__$ref=0,i.ended=!1,i.subscribed=!1,i.unsubscribePending=!1,i.onEnd=function(){i.ended=!0},i.onSubscribe=function(){i.subscribed=!0},i.onUnsubscribe=function(){i.subscribed=!1,i.unsubscribePending=!1,i.removeAllListeners()},i.name=r[0],i.on("end",i.onEnd),i.on("subscribe_success",i.onSubscribe),i.on("unsubscribe_success",i.onUnsubscribe),i}return x()(t,e),t.prototype.incrRef=function(){this.__$ref++},t.prototype.end=function(){this.__$ref--,this.__$ref<=0&&this.emit("end")},t}(k.a.Stream);Object.defineProperty(T.prototype,"requestPartial",{value:function(){this.emit("request_partial")}}),n.d(t,"a",function(){return F});var C=E()("frontend:ui:websocketManager"),N="/realtime?heartbeat=1",P=250+2e3*Math.random(),O=1e4+5e3*Math.random(),F=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;g()(this,e),this.pendingUnsubscribes=new f.a,this.previousInvalidLatency=0,this.streams=new f.a,this.symbolStreams=new f.a;var a=this.app=t;if(!this.checkWSCompat())return console.error("Websockets not supported.");this.websocket=new k.a(r,{manual:!0,strategy:["online","timeout","disconnect"],reconnect:{retries:1/0,min:P,max:O,factor:3}}),this.websocket.on("open",function(){a.flux.actions.websocketConnected();var e=p()(n.streams.keys()).filter(function(e){return!n._hasParentSub(e)});n._subscribe(e);var t=n.streams.values(),r=Array.isArray(t),i=0;for(t=r?t:u()(t);;){var o;if(r){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}o.emit("connected")}}).on("data",function(e){n.routeData(e)}).on("reconnect",function(){a.flux.actions.websocketReconnecting()}).on("reconnect scheduled",function(){a.flux.actions.websocketDisconnected();var e=n.streams.values(),t=Array.isArray(e),r=0;for(e=t?e:u()(e);;){var i;if(t){if(r>=e.length)break;i=e[r++]}else{if((r=e.next()).done)break;i=r.value}i.emit("disconnected")}}).on("close",function(){l()(function(){n.websocket.online||a.flux.actions.websocketDisconnected()})}).on("end",function(){n.websocket._ignoreFailure||"ratelimited"!==a.stores.getStore("BrowserStore").getConnectionStatus().websocket&&a.flux.actions.websocketFailure()}).on("incoming::error",function(e){console.warn("Websocket connection error:",e),401===e.description&&(console.warn("Auth has expired. Redirecting..."),a.timeout())})}return e.prototype.checkWSCompat=function(){var e=this;return"undefined"!=typeof WebSocket||("undefined"!=typeof MozWebSocket||(this.notSupported=!0,setTimeout(function(){e.app.flux.actions.websocketNotSupported()},16),!1))},e.prototype.getWebSocketStream=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("string"!=typeof e)throw new Error('getWebSocketStream requires a string "name".');if(this.streams.has(e)){var n=this.streams.get(e);return n.incrRef(),n}return this.notSupported?new T(e):(this._hasParentSub(e)?t&&this._requestPartial(e):this._subscribe(e),this._makeStream(e))},e.prototype._makeStream=function(e){var t=this,n=new T(e);this.streams.set(e,n),n.incrRef();var r=e.split(":"),a=r[0],i=r[1];if(i){var o=this.symbolStreams.get(a);o||(o=new f.a,this.symbolStreams.set(a,o)),o.set(i,n)}return n.on("error",function(e){console.error(e)}).on("end",function(){t._hasParentSub(e)?n.emit("unsubscribe_success"):(t._unsubscribe(e),t.pendingUnsubscribes.set(e,setTimeout(function(){n.emit("unsubscribe_success")},5e3)))}).on("unsubscribe_success",function(){if(clearTimeout(t.pendingUnsubscribes.get(e)),t.streams.delete(e),i){var n=t.symbolStreams.get(a);n&&n.delete(i)}}).on("request_partial",function(){t._requestPartial(e)}),n},e.prototype.routeData=function(e){if("string"==typeof e);else if(e.info);else if(e.success){var t=e.subscribe,n=e.unsubscribe,r=t||n,a=t?"subscribe":"unsubscribe";if("string"!=typeof r)return console.error("Unknown success message: ",o()(e));var i=this.streams.get(r);i?i.emit(a+"_success"):n&&!this.pendingUnsubscribes.has(r)?console.error("Unknown "+a+": "+r):t&&this._makeStream(r).end()}else if(e.error){if(419===e.status||401===e.status){if(this.app.timedOut)return;console.error("Got timeout from websocket. Message: "+o()(e)),this.app.timeout()}else if(429===e.status)return void this.app.flux.actions.websocketError({status:e.status,message:e.error});var s=this.streams.entries(),l=Array.isArray(s),c=0;for(s=l?s:u()(s);;){var d;if(l){if(c>=s.length)break;d=s[c++]}else{if((c=s.next()).done)break;d=c.value}var p=d,m=p[0],f=p[1];b.a.includes(e.error,m)&&(f.emit("data",e),f.ended&&f.emit("unsubscribe_success"))}/Unknown or expired symbol/i.test(String(e.error))?this.app.flux.actions.selectFallbackInstrument():console.error("Error from websocket: "+String(e.error))}else{if(!(e.data&&e.data.length||"partial"===e.action))return C("Empty "+e.action+" message for "+e.table+": "+o()(e)+".");m=e.table;var h=this.streams.get(m),g=!1;h&&!h.ended&&(h.emit("data",e),g=!0),this._emitToSymbolStreams(m,e)||g||console.error("Stream for table "+m+" not found! "+o()(e))}},e.prototype._emitToSymbolStreams=function(e,t){var n=this.symbolStreams.get(e);if(!n||!n.size)return!1;var r=t.filterKey||"symbol",i={},o=n.entries(),s=Array.isArray(o),l=0;for(o=s?o:u()(o);;){var c;if(s){if(l>=o.length)break;c=o[l++]}else{if((l=o.next()).done)break;c=l.value}var d=c,p=d[0];(w=d[1]).ended||(i[p]=[])}for(var m=0;m<t.data.length;m++){var f=t.data[m],h=f[r];i[h]&&i[h].push(f)}var g=a()(i),y=Array.isArray(g),v=0;for(g=y?g:u()(g);;){var E;if(y){if(v>=g.length)break;E=g[v++]}else{if((v=g.next()).done)break;E=v.value}if(0!==i[p=E].length){var w,M=b.a.clone(t);M.data=i[p],(w=n.get(p))&&w.emit("data",M)}}return!0},e.prototype._hasParentSub=function(e){var t=e.split(":");return t.length>1&&this.streams.has(t[0])},e.prototype._requestPartial=function(e){this.websocket.write({op:"__requestPartial",args:[e]})},e.prototype._subscribe=function(e){this.websocket.readyState===k.a.OPEN&&this.websocket.write({op:"subscribe",args:e})},e.prototype._unsubscribe=function(e){this.websocket.write({op:"unsubscribe",args:e})},e}()},function(e,t,n){n(359),e.exports=n(17).setImmediate},function(e,t,n){var r=n(32),a=n(360);r(r.G+r.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,n){var r,a,i,o=n(54),s=n(197),l=n(316),c=n(256),u=n(46),d=u.process,p=u.setImmediate,m=u.clearImmediate,f=u.MessageChannel,h=u.Dispatch,g=0,y={},b="onreadystatechange",v=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},E=function(e){v.call(e.data)};p&&m||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},m=function(e){delete y[e]},"process"==n(119)(d)?r=function(e){d.nextTick(o(v,e,1))}:h&&h.now?r=function(e){h.now(o(v,e,1))}:f?(i=(a=new f).port2,a.port1.onmessage=E,r=o(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",E,!1)):r=b in c("script")?function(e){l.appendChild(c("script"))[b]=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),e.exports={set:p,clear:m}},,function(e,t,n){"use strict";t.a=function(e){var t=[];e._flushChanges=function(){e.dataCache=null,s("++ Tick called."),t.forEach(function(e){return e()}),t.length=0};var n=new o.a(e._flushChanges);return e.queueChange=function(e){-1===t.indexOf(e)?(t.length||n.run(),t.push(e),s("+ Queued tick.")):s("- Ignored tick.")},e};var r=n(18),a=n.n(r),i=n(5),o=(n.n(i),n(363)),s=a()("frontend:tick")},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=n(0),a=n.n(r),i=void 0,o=function(){function t(r){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;a()(this,t),this.onForceTick=function(e){o.tickTimeoutObj&&clearTimeout(o.tickTimeoutObj),e?o.tickTimeoutObj=setTimeout(function(){o.cb(),o.onForceTick(!0)},o.forceTickInterval):o.cb()},!i&&e.browser&&(i=n(66)()),this.cb=r,this.forceTickInterval=s,i&&i.on("show",function(){o.onForceTick(!1)}),i&&i.on("hide",function(){o.onForceTick(!0)})}return t.prototype.run=function(){i&&i.hidden()?this.onForceTick(!0):requestAnimationFrame(this.cb)},t}()}).call(t,n(12))},function(e,t,n){"use strict";t.a=function(e,t,n){return s=[],function e(t,n,r,i){var o=void 0,l=void 0,c=void 0,d=void 0,p=void 0,m=n[t];switch(m&&"object"===(void 0===m?"undefined":a()(m))&&"function"==typeof m.toPrunedJSON&&(m=m.toPrunedJSON(t)),void 0===m?"undefined":a()(m)){case"string":return u(m);case"number":return isFinite(m)?String(m):"null";case"boolean":return String(m);default:case"object":if(!m)return"null";if(r<=0||-1!==s.indexOf(m))return'"-pruned-"';if(s.push(m),p=[],"[object Array]"===Object.prototype.toString.apply(m)){for(d=Math.min(m.length,i),o=0;o<d;o+=1)p[o]=e(o,m,r-1,i)||"null";return c=0===p.length?"[]":"["+p.join(",")+"]"}for(l in m)if(Object.prototype.hasOwnProperty.call(m,l))try{(c=e(l,m,r-1,i))&&p.push(u(l)+":"+c)}catch(e){}return c=0===p.length?"{}":"{"+p.join(",")+"}"}}("",{"":e},t=t||i,n=n||o)};var r=n(34),a=n.n(r),i=6,o=50,s=void 0;Date.prototype.toPrunedJSON=Date.prototype.toJSON,String.prototype.toPrunedJSON=String.prototype.toJSON;var l=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function u(e){return l.lastIndex=0,l.test(e)?'"'+e.replace(l,function(e){var t=c[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(366);n.d(t,"acknowledgeAnnouncement",function(){return r.a}),n.d(t,"fetchAnnouncements",function(){return r.d}),n.d(t,"acknowledgeUrgentAnnouncement",function(){return r.b}),n.d(t,"clearUrgentAnnouncementPreferences",function(){return r.c});var a=n(367);n.d(t,"clearAPIKeySecret",function(){return a.a}),n.d(t,"createAPIKey",function(){return a.b}),n.d(t,"deleteAPIKey",function(){return a.c}),n.d(t,"disableAPIKey",function(){return a.d}),n.d(t,"enableAPIKey",function(){return a.e});var i=n(368);n.d(t,"appDidMount",function(){return i.c}),n.d(t,"addQuery",function(){return i.a}),n.d(t,"afterNavigate",function(){return i.b}),n.d(t,"beforeNavigate",function(){return i.d}),n.d(t,"clearLocalStorage",function(){return i.e}),n.d(t,"fetchStaticPage",function(){return i.f}),n.d(t,"fluxInit",function(){return i.g}),n.d(t,"imageAllStores",function(){return i.h}),n.d(t,"navigate",function(){return i.i}),n.d(t,"removeQuery",function(){return i.j}),n.d(t,"saveLayout",function(){return i.k}),n.d(t,"switchSidebarName",function(){return i.p}),n.d(t,"switchSidebarSide",function(){return i.q}),n.d(t,"switchLocale",function(){return i.m}),n.d(t,"switchLocaleSuccess",function(){return i.o}),n.d(t,"switchLocaleFailed",function(){return i.n}),n.d(t,"systemError",function(){return i.r}),n.d(t,"switchFloatingWidget",function(){return i.l}),n.d(t,"toggleFullscreenPanel",function(){return i.s}),n.d(t,"toggleSidebarHidden",function(){return i.t}),n.d(t,"userMasq",function(){return i.u}),n.d(t,"websocketConnected",function(){return i.v}),n.d(t,"websocketDisconnected",function(){return i.w}),n.d(t,"websocketError",function(){return i.x}),n.d(t,"websocketFailure",function(){return i.y}),n.d(t,"websocketNotSupported",function(){return i.z}),n.d(t,"websocketReconnecting",function(){return i.A});var o=n(369);n.d(t,"setBucketTradeRange",function(){return o.a});var s=n(370);n.d(t,"addChatMessage",function(){return s.a}),n.d(t,"banChatUser",function(){return s.b}),n.d(t,"closeChatBox",function(){return s.c}),n.d(t,"openChatBox",function(){return s.f}),n.d(t,"deleteChatMessage",function(){return s.d}),n.d(t,"editChatMessage",function(){return s.e});var l=n(371);n.d(t,"openDialog",function(){return l.c}),n.d(t,"dialogCancel",function(){return l.a}),n.d(t,"dialogConfirm",function(){return l.b});var c=n(372);n.n(c);for(var u in c)["acknowledgeAnnouncement","fetchAnnouncements","acknowledgeUrgentAnnouncement","clearUrgentAnnouncementPreferences","clearAPIKeySecret","createAPIKey","deleteAPIKey","disableAPIKey","enableAPIKey","appDidMount","addQuery","afterNavigate","beforeNavigate","clearLocalStorage","fetchStaticPage","fluxInit","imageAllStores","navigate","removeQuery","saveLayout","switchSidebarName","switchSidebarSide","switchLocale","switchLocaleSuccess","switchLocaleFailed","systemError","switchFloatingWidget","toggleFullscreenPanel","toggleSidebarHidden","userMasq","websocketConnected","websocketDisconnected","websocketError","websocketFailure","websocketNotSupported","websocketReconnecting","setBucketTradeRange","addChatMessage","banChatUser","closeChatBox","openChatBox","deleteChatMessage","editChatMessage","openDialog","dialogCancel","dialogConfirm","default"].indexOf(u)<0&&function(e){n.d(t,e,function(){return c[e]})}(u);var d=n(373);n.d(t,"fetchFundingHistory",function(){return d.a});var p=n(374);n.d(t,"fetchExecutionHistory",function(){return p.a}),n.d(t,"fetchOrderHistory",function(){return p.b}),n.d(t,"fetchWalletHistory",function(){return p.c});var m=n(199);n.d(t,"selectInstrument",function(){return m.c}),n.d(t,"selectFallbackInstrument",function(){return m.b}),n.d(t,"getFallbackSymbol",function(){return m.a});var f=n(375);n.d(t,"fetchInsuranceHistory",function(){return f.a});var h=n(376);n.d(t,"confirmTFAToken",function(){return h.a}),n.d(t,"disableTFA",function(){return h.b}),n.d(t,"fetchDepositAddress",function(){return h.c}),n.d(t,"requestTFAToken",function(){return h.d}),n.d(t,"updateMe",function(){return h.e}),n.d(t,"updateMeComplete",function(){return h.f}),n.d(t,"updateMeFailed",function(){return h.g});var g=n(377);n.d(t,"createNotification",function(){return g.a}),n.d(t,"dismissNotification",function(){return g.b}),n.d(t,"linkNotificationNativeInstance",function(){return g.c});var y=n(378);n.d(t,"amendOrder",function(){return y.a}),n.d(t,"cancelAllOrders",function(){return y.b}),n.d(t,"cancelAllOrdersInPriceRange",function(){return y.c}),n.d(t,"cancelOrder",function(){return y.d}),n.d(t,"clearOrder",function(){return y.f}),n.d(t,"clearAllOrders",function(){return y.e}),n.d(t,"spamOrderDetected",function(){return y.g}),n.d(t,"submitOrder",function(){return y.h}),n.d(t,"submitOrderComplete",function(){return y.i}),n.d(t,"submitOrderFailed",function(){return y.j});var b=n(379);n.d(t,"changeOrderBookRows",function(){return b.a});var v=n(380);n.d(t,"changeOrderInput",function(){return v.a}),n.d(t,"disableOrderInput",function(){return v.b});var E=n(381);n.d(t,"setOption",function(){return E.a}),n.d(t,"setOptionSynchronous",function(){return E.b});var w=n(382);n.d(t,"positionIsolateMargin",function(){return w.b}),n.d(t,"positionTransferMargin",function(){return w.d}),n.d(t,"positionClose",function(){return w.a}),n.d(t,"positionSetRiskLimit",function(){return w.c}),n.d(t,"positionUpdateLeverage",function(){return w.e});var M=n(383);n.d(t,"fetchSettlementHistory",function(){return M.a});var S=n(384);n.d(t,"fetchMoreTrades",function(){return S.a});var x=n(385);n.d(t,"withdrawalCancel",function(){return x.a}),n.d(t,"withdrawalRequest",function(){return x.b})},function(e,t,n){"use strict";t.a=function(e){this.dispatch("ACKNOWLEDGE_ANNOUNCEMENT",e)},t.d=function(){this.dispatch("FETCH_ANNOUNCEMENTS")},t.b=function(e){this.dispatch("ACKNOWLEDGE_URGENT_ANNOUNCEMENT",e)},t.c=function(){this.dispatch("CLEAR_URGENT_ANNOUNCEMENT_PREFS")}},function(e,t,n){"use strict";t.a=function(){this.dispatch("CLEAR_APIKEY_SECRET")},t.b=function(e){this.dispatch("CREATE_APIKEY",e)},t.c=function(e){this.dispatch("DELETE_APIKEY",e)},t.d=function(e){this.dispatch("DISABLE_APIKEY",e)},t.e=function(e){this.dispatch("ENABLE_APIKEY",e)}},function(e,t,n){"use strict";(function(e){t.c=function(e){o=e,this.dispatch("APP_DID_MOUNT",{})},t.a=function(e){this.dispatch("ADD_QUERY",e)},t.b=function(e,t,n){this.dispatch("AFTER_NAVIGATE",{path:e,match:n})},t.d=function(e,t,n){this.dispatch("BEFORE_NAVIGATE",{path:e,match:n})},t.e=function(e){this.dispatch("CLEAR_LOCALSTORAGE",e)},t.f=function(e){this.dispatch("FETCH_STATIC_PAGE",e)},t.g=function(){if(!e.browser&&!e.native)return;this.dispatch("FLUX_INIT",{})},t.h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dispatch("IMAGE_ALL_STORES",e)},t.i=function e(t,n){if(!o)return setTimeout(function(){return e(t,n)},16);"/"===t[0]&&0!==t.indexOf(i.b)&&("/"===t[0]&&(t=t.slice(1)),t=i.b+t);o.router.navigate(t,a()({replace:!1},n))},t.j=function(e){this.dispatch("REMOVE_QUERY",e)},t.k=function(e,t){this.dispatch("SAVE_LAYOUT",{name:e,data:t})},t.p=function(e){this.dispatch("SWITCH_SIDEBAR_NAME",{name:e})},t.q=function(e){this.dispatch("SWITCH_SIDEBAR_SIDE",{side:e})},t.m=function(e){this.dispatch("SWITCH_LOCALE_PENDING",{locale:e})},t.o=function(e){this.dispatch("SWITCH_LOCALE_SUCCESS",{locale:e})},t.n=function(e){this.dispatch("SWITCH_LOCALE_FAILED",{locale:e})},t.r=function(e){this.dispatch("SYSTEM_ERROR",e)},t.l=function(e){this.dispatch("SWITCH_FLOATING_WIDGET",{name:e})},t.s=function(e,t){this.dispatch("TOGGLE_FULLSCREEN_PANEL",{toggle:e,name:t})},t.t=function(e){this.dispatch("TOGGLE_SIDEBAR_HIDDEN",{toggle:e})},t.u=function(e,t){this.dispatch("USER_MASQ",{id:e,cb:t})},t.v=function(){this.dispatch("WEBSOCKET_CONNECTED")},t.w=function(){this.dispatch("WEBSOCKET_DISCONNECTED")},t.x=function(e){this.dispatch("WEBSOCKET_ERROR",e)},t.y=function(){this.dispatch("WEBSOCKET_FAILURE")},t.z=function(){this.dispatch("WEBSOCKET_NOT_SUPPORTED")},t.A=function(){this.dispatch("WEBSOCKET_RECONNECTING")};var r=n(6),a=n.n(r),i=n(11),o=void 0}).call(t,n(12))},function(e,t,n){"use strict";t.a=function(e){this.dispatch("SET_BUCKETTRADE_RANGE",{min:e.min,max:e.max})}},function(e,t,n){"use strict";t.a=function(e,t){this.dispatch("ADD_CHAT_MESSAGE",{message:e,callback:t})},t.b=function(e){this.dispatch("BAN_CHAT_USER",e)},t.c=function(){this.dispatch("CLOSE_CHAT_BOX")},t.f=function(){this.dispatch("OPEN_CHAT_BOX")},t.d=function(e){this.dispatch("DELETE_CHAT_MESSAGE",{id:e})},t.e=function(e){this.dispatch("EDIT_CHAT_MESSAGE",e)}},function(e,t,n){"use strict";t.c=function(e){this.dispatch("OPEN_DIALOG",e)},t.a=function(e){this.dispatch("DIALOG_CANCEL",e)},t.b=function(e){this.dispatch("DIALOG_CONFIRM",e)}},function(e,t){},function(e,t,n){"use strict";t.a=function(e){this.dispatch("FETCH_FUNDING_HISTORY",e)}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("FETCH_EXECUTION_HISTORY",e)},t.b=function(e){this.dispatch("FETCH_ORDER_HISTORY",e)},t.c=function(e){this.dispatch("FETCH_WALLET_HISTORY",e)}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("FETCH_INSURANCE_HISTORY",e)}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("CONFIRM_TFA_TOKEN",e)},t.b=function(e){this.dispatch("DISABLE_TFA",e)},t.c=function(e){this.dispatch("FETCH_DEPOSIT_ADDRESS",e)},t.d=function(e){this.dispatch("REQUEST_TFA_TOKEN",e)},t.e=function(e){this.dispatch("UPDATE_ME",e)},t.f=function(e){this.dispatch("UPDATE_ME_COMPLETE",e)},t.g=function(e){this.dispatch("UPDATE_ME_FAILED",e)}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("CREATE_NOTIFICATION",e)},t.b=function(e){if("number"!=typeof e.id)throw new Error("To dismiss a notification, you must provide an `id`.");this.dispatch("DISMISS_NOTIFICATION",e)},t.c=function(e){this.dispatch("LINK_NOTIFICATION_NATIVE_INSTANCE",e)}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("AMEND_ORDER",e)},t.b=function(e){this.dispatch("CANCEL_ALL_ORDERS",e)},t.c=function(e){this.dispatch("CANCEL_ALL_ORDERS_IN_PRICE_RANGE",e)},t.d=function(e){this.dispatch("CANCEL_ORDER",e)},t.f=function(e){this.dispatch("CLEAR_ORDER",e)},t.e=function(e){this.dispatch("CLEAR_ALL_ORDERS",e)},t.g=function(e){this.dispatch("SPAM_ORDER_DETECTED",e)},t.h=function(e){this.dispatch("SUBMIT_ORDER",e)},t.i=function(e){this.dispatch("SUBMIT_ORDER_COMPLETE",e)},t.j=function(e){this.dispatch("SUBMIT_ORDER_FAILED",e)}},function(e,t,n){"use strict";t.a=function(e){this.flux.store("OrderBookStore").getRowCount()!==e&&this.dispatch("CHANGE_ORDERBOOK_ROWS",{rows:e})}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("CHANGE_ORDER_INPUT",e)},t.b=function(e){this.dispatch("DISABLE_ORDER_INPUT",{name:e})}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("SET_OPTION",e)},t.b=function(e){this.dispatch("SET_OPTION_SYNCHRONOUS",e)}},function(e,t,n){"use strict";t.b=function(e){this.dispatch("POSITION_ISOLATE_MARGIN",e)},t.d=function(e){this.dispatch("POSITION_TRANSFER_MARGIN",e)},t.a=function(e){this.dispatch("POSITION_CLOSE",e)},t.c=function(e){this.dispatch("POSITION_SET_RISK_LIMIT",e)},t.e=function(e){this.dispatch("POSITION_UPDATE_LEVERAGE",e)}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("FETCH_SETTLEMENT_HISTORY",e)}},function(e,t,n){"use strict";t.a=function(){this.dispatch("FETCH_MORE_TRADES")}},function(e,t,n){"use strict";t.a=function(e){this.dispatch("WITHDRAWAL_CANCEL",e)},t.b=function(e){this.dispatch("WITHDRAWAL_REQUEST",e)}},function(e,t,n){"use strict";t.a=function(e){return{actions:e.flux.actions,docs:function(){return"Please go to "+window.location.origin+"/api/explorer for full documentation."},getData:function(){return e.flux.getState()},getDataStream:e.getWebSocketStream,playSound:function(e){if(!l.a.includes(c,e))throw new Error("Invalid sound name! Available sounds: "+c.join(", ")+".");new window.Audio("/sound/"+e+".mp3").play()},stats:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Total";return Object(i.coroutine)(a.a.mark(function i(){var s,l,c,u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.c)({endpoint:"/stats/history"});case 2:return s=t.sent,l=s.filter(function(e){return e.rootSymbol===r}).slice(-n).reduce(function(e,t){return e+t.turnover},0),c=e.stores.getStore("InstrumentStore").getInstrument(".XBT30M").lastPrice,u=l/1e8,console.log(r+" "+n+"-day turnover is "+Math.floor(u).toLocaleString()+" XBT, which is $"+(u*c).toLocaleString()+" at the current price of $"+c+"."),t.abrupt("return",{stats:s,total:l,currentPrice:c,XBTTotal:u});case 8:case"end":return t.stop()}},i,t)}))()},tilt:function(e){document.body&&(document.body.style.transform="rotate("+e+"deg)")}}};var r=n(21),a=n.n(r),i=n(15),o=(n.n(i),n(25)),s=n(5),l=n.n(s),c=["click_hard","click_off","click_soft","click_toggle","pop"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return N});var r=n(6),a=n.n(r),i=n(21),o=n.n(i),s=n(15),l=(n.n(s),n(28)),c=n.n(l),u=n(0),d=n.n(u),p=n(1),m=n.n(p),f=n(2),h=n.n(f),g=n(33),y=n(11),b=n(5),v=n.n(b),E=n(18),w=n.n(E),M=n(57),S=n(39),x=n(388),k=n(25),T=n(10),C=n(23),N=(w()("frontend:ui:AnnouncementStore"),function(t){function n(e){d()(this,n);var r=m()(this,t.call(this,e));return r.on("insert",function(){var e=r.data.announcementsUnseen;r.refreshUnseenCount(),e!==r.data.announcementsUnseen&&r.emit("change")}),r}return h()(n,t),n.prototype.load=function(e){this.data={announcements:new x.a(e.announcements.announcements||[]),announcementsLoaded:!1,announcementsUnseen:0,allUrgent:[],contextualUrgent:[],urgent:e.announcements.urgent||[]},this.refreshUnseenCount(e.user.me.preferences,e.user.me)},n.prototype.refreshUnseenCount=function(e,t){e||(e=this.app.stores.getStore("OptionStore").getOptions()),t||(t=this.app.stores.getStore("MeStore").getMe());var n=new Date(e.announcementsLastSeen);t&&t.created>n&&(n=t.created),this.data.announcementsUnseen=this.data.announcements.filter(function(e){return new Date(e.date)>n}).length},n.prototype.onAcknowledgeAnnouncement=function(){var t=this;if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id)throw new Error("Acknowledging an individual announcement is not yet supported.");0!==this.data.announcementsUnseen&&(e.nextTick(function(){return t.flux.actions.setOption({announcementsLastSeen:new Date})}),this.data.announcementsUnseen=0,this.emit("change"))},n.prototype.onAcknowledgeUrgentAnnouncement=function(e){var t=this,n=e.id,r=e.instanceID;this.waitFor(["OptionStore"],function(){r&&M.a.set("bitmex-contextualUrgent-"+n+"-instance",r),t.updateUrgentAnnouncements()})},n.prototype.onClearUrgentAnnouncementPrefs=function(){var e=this;this.waitFor(["OptionStore"],function(){var t=M.a.getKeys().filter(function(e){return 0===e.indexOf("bitmex-contextualUrgent")}),n=Array.isArray(t),r=0;for(t=n?t:c()(t);;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var i=a;M.a.remove(i)}e.updateUrgentAnnouncements()})},n.prototype.onFetchAnnouncements=function(){var e=Object(s.coroutine)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.data.announcementsLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k.c({endpoint:"/announcement"});case 4:if(t=e.sent,Array.isArray(t)){e.next=7;break}throw new Error("Invalid return value, "+String(t));case 7:n=t,this.data.announcements=new x.a(n),this.data.announcementsLoaded=!0,this.onAcknowledgeAnnouncement(),this.emit("change");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n.prototype.onFluxInit=function(){var e=this;this.app.stores.getStore("MeStore").on("change",function(){return e.updateUrgentAnnouncements()}),this.app.stores.getStore("OptionStore").on("change",function(){return e.updateUrgentAnnouncements()}),setTimeout(function(){return e.updateUrgentAnnouncements()})},n.prototype.getAnnouncements=function(){return this.data.announcements},n.prototype.getAnnouncementsLoaded=function(){return this.data.announcementsLoaded},n.prototype.getAnnouncementsUnseen=function(){return this.data.announcementsUnseen},n.prototype.getUrgent=function(){return this.data.allUrgent},n.prototype.generateUrgentAnnouncements=function(){var e=this.flux.getState({cache:!1}),t=e.options.msgsSeen||[];return n.contextualUrgentAnnouncementTemplates.filter(function(n){var r=n.id+(n.version?String(n.version):"");if(v.a.includes(t,r))return!1;"function"==typeof n.messageData&&(n.data=n.messageData(e));var a=n.condition(e);if(a&&"function"==typeof n.makeInstanceID){var i=n.makeInstanceID(e);if(i){n.instanceID=i;var o=M.a.get("bitmex-contextualUrgent-"+r+"-instance");if("string"==typeof o)return o!==n.instanceID}}return a}).map(function(e){return{messageID:"Contextual."+e.id,messageValues:e.data||{},instanceID:e.instanceID,id:e.id+(e.version?String(e.version):""),dismissable:"boolean"!=typeof e.dismissable||e.dismissable,disableable:"boolean"!=typeof e.disableable||e.disableable}})},n.prototype.updateUrgentAnnouncements=function(){var e=this.generateUrgentAnnouncements();v.a.isEqual(e,this.data.contextualUrgent)||(this.data.contextualUrgent=e,this.data.allUrgent=[].concat(this.data.urgent,this.data.contextualUrgent),this.emit("change"))},n}(g.a));N.mixins=[Object(S.a)([{model:"Announcement",storeKey:"data.announcements",socketName:"announcement",partialIsUsable:!1}])],N.actions={ACKNOWLEDGE_ANNOUNCEMENT:"onAcknowledgeAnnouncement",ACKNOWLEDGE_URGENT_ANNOUNCEMENT:"onAcknowledgeUrgentAnnouncement",CLEAR_URGENT_ANNOUNCEMENT_PREFS:"onClearUrgentAnnouncementPrefs",FETCH_ANNOUNCEMENTS:"onFetchAnnouncements",FLUX_INIT:"onFluxInit"},N.contextualUrgentAnnouncementTemplates=[{id:"firstPosition",condition:function(e){var t=e.marginPrimary,n=e.myOrders;return t&&t.marginBalance>0&&0===t.grossComm&&0===t.realisedPnl&&0===t.prevRealisedPnl&&0===t.unrealisedPnl&&0===t.prevUnrealisedPnl&&0===n.length},messageData:function(e){var t=e.marginPrimary,n=e.options;return{faqUrl:y.b+"faq",marginBalance:T.g(t.marginBalance,n.currency),walletUrl:y.b+"wallet"}}},{id:"withdrawalPending",version:2,makeInstanceID:function(){return this.data&&this.data.transactID},condition:function(){return Boolean(this.data&&this.data.transactID)},messageData:function(e){var t=e.walletHistory.filter(function(e){return"Withdrawal"===e.transactType&&"Pending"===e.transactStatus})[0];return t?a()({},t.toJSON(),{amountFormatted:T.g(Math.abs(t.amount),e.options.currency)}):{}}},{id:"withdrawalConfirmed",version:2,makeInstanceID:function(){return this.data&&this.data.transactID},condition:function(){return Boolean(this.data&&this.data.transactID)},messageData:function(e){var t=e.walletHistory.filter(function(e){return"Withdrawal"===e.transactType&&"Confirmed"===e.transactStatus})[0];return t?a()({},t.toJSON(),{amountFormatted:T.g(Math.abs(t.amount),e.options.currency),nextWithdrawalTime:C.v(13)}):{}}},{id:"customUI",condition:function(e){var t=e.me,n=e.options;return t.authenticated&&"advanced"===n.tradeLayout},messageData:function(){return{customUIGifUrl:y.a+"/assets/img/customUI.gif"}}},{id:"tryCustomUI",condition:function(e){var t=e.marginPrimary,n=e.me,r=e.options;return n.authenticated&&t&&t.grossComm>0&&"basic"===r.tradeLayout&&!v.a.includes(r.msgsSeen,"customUI")&&new Date(n.created).valueOf()+2592e5<Date.now()},messageData:function(){return{customUIGifUrl:y.a+"/assets/img/customUI.gif"}}},{id:"enableTFA",disableable:!1,makeInstanceID:function(){return(new Date).toLocaleDateString()},condition:function(e){var t=e.marginPrimary,n=e.me;return n.authenticated&&!n.TFAEnabled&&t&&t.marginBalance>5e7},messageData:function(e){var t=e.marginPrimary,n=e.options;return{accountUrl:y.b+"account",marginBalance:T.g(t.marginBalance,n.currency)}}},{id:"clockSkewed",disableable:!1,makeInstanceID:function(){return(new Date).toLocaleDateString()},condition:function(){try{return Number(window.localStorage.getItem("bitmex-clockSkewCount"))>3}catch(e){return!1}}}]}.call(t,n(12))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(30),u=n(19),d=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(u.a));d.typeName="Announcement",d.idAttribute="date";var p=Object(u.c)(d);n.d(t,"a",function(){return m});var m=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(c.a);m.model=p,m.comparator=function(e){return-Number(e.date)}},function(e,t,n){e.exports={default:n(390),__esModule:!0}},function(e,t,n){n(391),e.exports=n(17).Math.log10},function(e,t,n){var r=n(32);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){n(393),e.exports=n(17).Number.isNaN},function(e,t,n){var r=n(32);r(r.S,"Number",{isNaN:function(e){return e!=e}})},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),a=n.n(r),i=n(34),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(33),f=(n(5),n(43)),h=n(25),g=n(30),y=n(19),b=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t}(function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t}(y.a));b.typeName="APIKey",b.idAttribute="id";var v=Object(y.c)(b),E=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t}(g.a);E.model=v,E.comparator=function(e){return-Number(e.created)},n.d(t,"default",function(){return w});var w=function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.load=function(e){this.apiKeys=new E(e.apiKeys)},t.prototype.getAPIKeys=function(){return this.apiKeys},t.prototype.clearAPIKeySecret=function(){this.apiKeys=this.apiKeys.new(this.apiKeys.map(function(e){return e.newWithProps({secret:""})})),this.emit("change")},t.prototype.createAPIKey=function(e){var t=this;return this.clearAPIKeySecret(),h.f({endpoint:"/apiKey",method:"POST",json:{name:e.name,cidr:e.cidr,token:e.token,enabled:!0,permissions:e.permissions},redirect401:!1}).then(function(n){if(Array.isArray(n)||"object"!==(void 0===n?"undefined":o()(n)))throw new Error("Invalid API Key data: "+String(n));t.apiKeys=t.apiKeys.new([new v(n)].concat(t.apiKeys.models));var r="APIKeyStore.CreateSuccess",i={},s=t.app.settings.dtc.permissionKey,l=e.permissions&&e.permissions.find(function(e){return e[0]===s});if(l){if(!l[1]||!l[1].username)throw new Error("Malformed DTC Permission created: "+a()(l));r="APIKeyStore.CreateDTCSuccess",i={username:l[1].username}}t.notify({messageId:r,type:"success",ttl:20,messageValues:i}),t.emit("change")}).catch(function(e){t.notify({messageId:"APIKeyStore.CreateError",body:e.message,type:"error"})})},t.prototype.deleteAPIKey=function(e){var t=this,n=this.apiKeys.find(function(t){return t.id===e.id});if(!n)return console.error("Unable to find key to delete.");this.app.stores.getStore("DialogStore").onOpenDialog({props:{apiKey:n},component:"DeleteAPIKeyDialog"}).then(function(){return h.f({endpoint:"/apiKey",method:"DELETE",json:{apiKeyID:e.id}}).then(function(){var n=e.id;t.apiKeys=t.apiKeys.new(t.apiKeys.reject({id:n})),t.notify({messageId:"APIKeyStore.DeleteSuccess",type:"success",ttl:60}),t.emit("change")}).catch(function(e){t.notify({messageId:"APIKeyStore.DeleteError",body:e.message,type:"error"})})}).catch(function(e){})},t.prototype.disableAPIKey=function(e){var t=this;return h.f({endpoint:"/apiKey/disable",method:"POST",json:{apiKeyID:e.id}}).then(function(){var n=e.id;t.apiKeys=t.apiKeys.new(t.apiKeys.map(function(e){return e.id===n?e.newWithProps({enabled:!1}):e})),t.notify({messageId:"APIKeyStore.DisableSuccess",type:"success",ttl:60}),t.emit("change")}).catch(function(e){t.notify({messageId:"APIKeyStore.DisableError",body:e.message,type:"error"})})},t.prototype.enableAPIKey=function(e){var t=this;return h.f({endpoint:"/apiKey/enable",method:"POST",json:{apiKeyID:e.id}}).then(function(){var n=e.id;t.apiKeys=t.apiKeys.new(t.apiKeys.map(function(e){return e.id===n?e.newWithProps({enabled:!0}):e})),t.notify({messageId:"APIKeyStore.EnableSuccess",type:"success",ttl:60}),t.emit("change")}).catch(function(e){t.notify({messageId:"APIKeyStore.EnableError",body:e.message,type:"error"})})},t}(m.a);w.actions={CLEAR_APIKEY_SECRET:"clearAPIKeySecret",CREATE_APIKEY:"createAPIKey",DELETE_APIKEY:"deleteAPIKey",DISABLE_APIKEY:"disableAPIKey",ENABLE_APIKEY:"enableAPIKey"},w.mixins=[Object(f.a)({storeKey:"apiKeys",restEndpoint:"/apiKey",restParams:{reverse:!0},enabled:function(){return Boolean(this.app.authenticated)},fetchOnDisconnect:!0})]},,function(e,t,n){"use strict";var r={jsonImport:function(e){return n(402)("./"+e+".json")},loadLocale:function(e){return n(403)("./"+e+".js")},loadPolyfillData:function(e){return n(404)("./"+e)},loadLocaleDate:function(e){return n(405)("./"+e)}};t.a=r},function(e,t,n){var r={"./en-US.json":[572,17],"./ja-JP.json":[573,16],"./ko-KR.json":[574,15],"./ru-RU.json":[575,14],"./zh-CN.json":[576,13]};function a(e){var t=r[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(r)},a.id=402,e.exports=a},function(e,t,n){var r={"./en":[283,4],"./en.js":[283,4],"./ja":[284,3],"./ja.js":[284,3],"./ko":[285,2],"./ko.js":[285,2],"./ru":[286,1],"./ru.js":[286,1],"./zh":[287,0],"./zh.js":[287,0]};function a(e){var t=r[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(r)},a.id=403,e.exports=a},function(e,t,n){var r={"./en-US":[577,21],"./ja-JP":[578,20],"./ko-KR":[579,19],"./ru-RU":[580,18]};function a(e){var t=r[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(r)},a.id=404,e.exports=a},function(e,t,n){var r={"./en":[133],"./ja":[581,11],"./ko":[582,10],"./ru":[583,9],"./zh_cn":[584,8],"./zh_tw":[585,7]};function a(e){var t=r[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}a.keys=function(){return Object.keys(r)},a.id=405,e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return N});var r=n(34),a=n.n(r),i=n(21),o=n.n(i),s=n(15),l=(n.n(s),n(28)),c=n.n(l),u=n(0),d=n.n(u),p=n(1),m=n.n(p),f=n(2),h=n.n(f),g=n(33),y=n(25),b=n(39),v=n(43),E=n(211),w=n(156),M=n.n(w),S=n(18),x=n.n(S),k=n(5),T=n.n(k),C=(x()("frontend:ui:ChatStore"),{"en-US":1,"zh-CN":2,"ru-RU":3,"ko-KR":4}),N=function(t){function n(r){d()(this,n);var a=m()(this,t.call(this,r));return a.connected=[{users:0,bots:0}],a.isOpen=!1,a.messages=[],a.newChatCount=0,e.browser&&(a.on("insert",function(e){return a.checkMention(e,!0)}),a.on("image:messages",function(e){return a.checkMention(e,!1)}),a.on("insert",a.incrementNewChats.bind(a))),a}return h()(n,t),n.prototype.load=function(e){this.chatChannels=e.chatChannels,this.messages=[],this.connected=[e.connected||this.connected],this.channelID=e.user.me.preferences.chatChannelId||"zh-CN"===e.user.me.preferences.locale?2:1},n.prototype._getAutoRefreshArgs=function(e){if("chat"===e.socketName)return[this.channelID]},n.prototype.getNewChatCount=function(){return this.newChatCount},n.prototype.getConnected=function(){return this.connected[0]},n.prototype.getChats=function(){return this.messages.length>100&&(this.messages=this.messages.slice(0,100)),this.messages},n.prototype.getChatChannels=function(){return this.chatChannels},n.prototype.getChatChannelID=function(){return this.channelID},n.prototype.checkMention=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.app.stores.getStore("MeStore").me.username,r=!1;Array.isArray(e)||(e=[e]);var a=e,i=Array.isArray(a),o=0;for(a=i?a:c()(a);;){var s;if(i){if(o>=a.length)break;s=a[o++]}else{if((o=a.next()).done)break;s=o.value}var l=s;n&&l.user!==n&&((new RegExp("^"+Object(E.a)(n)+":\\s","i").test(l.html)||new RegExp("@\\b"+Object(E.a)(n)+"\\b","i").test(l.html))&&(l.mentioned=!0,r=!0,t&&this.notify({key:"chatMention",messageId:"ChatStore.ChatMention",body:l.user+": "+l.html,type:"info",ttl:10,sound:"pop"})))}r&&this.emit("change")},n.prototype.incrementNewChats=function(){this.isOpen||(this.newChatCount++,this.emit("change"))},n.prototype.switchChannel=function(){var t=Object(s.coroutine)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(T.a.includes(this.chatChannels.map(function(e){return e.id}),n)||(e.browser&&window.Raven&&window.Raven.captureMessage("Unknown chat channel: "+n),n=1),this.channelID!==n){t.next=3;break}return t.abrupt("return");case 3:return this.channelID=n,t.next=6,this.fetch({},{preReset:!0});case 6:this._bindAutoRefresh();case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.prototype.onAddMessage=function(e){var t=this;y.d({endpoint:"/chat",json:{message:e.message,channelID:this.channelID}}).then(function(){}).catch(function(e){403===e.status?t.notify({key:"chatBanned",messageId:"ChatStore.ChatBanned",type:"error",ttl:10,sound:"pop"}):400===e.status&&t.notify({key:"chatError",messageId:"ChatStore.ChatError",body:e.message,type:"error",ttl:10})}).nodeify(e.callback)},n.prototype.onBanChatUser=function(){var e=Object(s.coroutine)(o.a.mark(function e(t){var n,r,i,s,l=t.user,c=t.toggle,u=t.expires;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasRoles(["admin","supportTeam"])){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,y.c({endpoint:"/user/adminGet",qs:{username:l}});case 5:if((n=e.sent)&&"object"===(void 0===n?"undefined":a()(n))){e.next=8;break}throw new Error("Unknown return value: "+String(n));case 8:return r=n.id,i=this.app.stores.getStore("MeStore").getMe(),e.next=12,y.d({endpoint:"/user/adminToggleRole",json:{id:r,roleName:"chatBanned",toggle:c,expires:u,note:"Ban from "+i.username}});case 12:this.flux.actions.createNotification({key:"userBanned",title:"User ban set to: "+String(c)}),c?u?(s=M()(new Date,u),this.flux.actions.addChatMessage("> *:door::hammer: User `"+l+"` has been banned from chat for "+s+".*")):this.flux.actions.addChatMessage("> *:door::hammer: User `"+l+"` has been permanently banned from chat.*"):this.flux.actions.addChatMessage("> *:wave: User `"+l+"` has been unbanned from chat.*"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),this.flux.actions.createNotification({key:"userBanned",title:"User not banned with toggle: "+String(c),body:e.t0.message});case 19:case"end":return e.stop()}},e,this,[[2,16]])}));return function(t){return e.apply(this,arguments)}}(),n.prototype.onDeleteMessage=function(){var e=Object(s.coroutine)(o.a.mark(function e(t){var n=t.id;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasRoles(["admin","supportTeam"])){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,y.b({endpoint:"/chat",json:{id:n}});case 5:this.flux.actions.createNotification({key:"chatDeleted",title:"Chat successfully deleted."}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.flux.actions.createNotification({key:"chatDeleted",title:"Chat not deleted.",body:e.t0.message});case 11:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),n.prototype.onEditMessage=function(){var e=Object(s.coroutine)(o.a.mark(function e(t){var n=t.id,r=t.message;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hasRoles(["admin","supportTeam"])){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,y.e({endpoint:"/chat",json:{id:n,message:r}});case 5:this.flux.actions.createNotification({key:"chatUpdated",title:"Chat successfully updated."}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),this.flux.actions.createNotification({key:"chatUpdated",title:"Chat not updated.",body:e.t0.message});case 11:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),n.prototype.hasRoles=function(e){var t=this.app.stores.getStore("MeStore").getMe();return T.a.some(e,function(e){return t.hasRole(e)})},n.prototype.onCloseChatBox=function(){this.isOpen=!1},n.prototype.onOpenChatBox=function(){var e=Object(s.coroutine)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.messages.length<100)||this.fetching){e.next=3;break}return e.next=3,this.fetch();case 3:this.newChatCount=0,this.isOpen=!0,this.emit("change");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n.prototype.onSetOption=function(e){e.chatChannelID&&this.switchChannel(e.chatChannelID)},n.prototype.onSwitchLocale=function(e){var t=e.locale;this.switchChannel(C[t]||C["en-US"])},n}(g.a);N.mixins=[Object(b.a)([{model:"Chat",storeKey:"messages",socketName:"chat",partialIsUsable:!1},{model:"ConnectedUsers",storeKey:"connected",socketName:"connected",partialIsUsable:!1}]),Object(v.a)({fetchOnDisconnect:!0,storeKey:"messages",restEndpoint:"/chat",restParams:function(e){return{reverse:!0,channelID:e.channelID}}})],N.actions={ADD_CHAT_MESSAGE:"onAddMessage",BAN_CHAT_USER:"onBanChatUser",CLOSE_CHAT_BOX:"onCloseChatBox",DELETE_CHAT_MESSAGE:"onDeleteMessage",EDIT_CHAT_MESSAGE:"onEditMessage",OPEN_CHAT_BOX:"onOpenChatBox",SET_OPTION:"onSetOption",SWITCH_LOCALE_SUCCESS:"onSwitchLocale"}}.call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return b});var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(33),p=n(5),m=n.n(p),f=n(18),h=n.n(f),g=n(15),y=n.n(g),b=(h()("frontend:ui:DialogStore"),function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.dialogs=[],r.dialogID=0,a=n,l()(r,a)}return u()(t,e),t.prototype.load=function(e){},t.prototype.getDialogs=function(){return this.dialogs},t.prototype.onOpenDialog=function(e){var t=this,n=new y.a(function(r,i){var o=t.app.stores.getStore("OptionStore").getOptions().hideConfirmDialogs,s=e.dialogKey&&m.a.includes(o,e.dialogKey),l=t.app.stores.getStore("BrowserStore").getIsPhone()&&!m.a.includes(o,"phoneConfirm");if(s&&!l)return r();var c={id:t.dialogID,component:e.component,props:a()({},e.props,{id:t.dialogID,dialogKey:e.dialogKey}),onConfirm:r,onCancel:function(t){n.cancel(),e.onCancel&&e.onCancel(t)}};t.dialogID++;var u=t.dialogs.filter(function(t){return t.component!==e.component});t.dialogs=[].concat(u,[c]),t.emit("change")}).then(function(t){return e.onConfirm&&e.onConfirm(t)});return n},t.prototype.onDialogCancel=function(e){var t=m.a.find(this.dialogs,{id:e.id});t&&(setTimeout(function(){return t.onCancel(e.callbackData)},0),this.dialogs=m.a.without(this.dialogs,t),this.emit("change"))},t.prototype.onDialogConfirm=function(e){var t=m.a.find(this.dialogs,{id:e.id});t&&(e.dontShowAgain&&this.confirmDialogDontShowAgain(t.props.dialogKey),setTimeout(function(){return t.onConfirm(e.callbackData)},0),this.dialogs=m.a.without(this.dialogs,t),this.emit("change"))},t.prototype.confirmDialogDontShowAgain=function(e){var t=this;setTimeout(function(){t.flux.actions.setOption({hideConfirmDialogs:[e]})},10)},t.prototype.onAfterNavigate=function(){this.dialogs.forEach(function(e){return e.onCancel("Navigation")}),this.dialogs=[],this.emit("change")},t}(d.a));b.actions={OPEN_DIALOG:"onOpenDialog",DIALOG_CANCEL:"onDialogCancel",DIALOG_CONFIRM:"onDialogConfirm",AFTER_NAVIGATE:"onAfterNavigate"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return v});var r=n(24),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(33),p=n(5),m=n.n(p),f=n(18),h=n.n(f),g=n(39),y=n(43),b=n(212),v=(h()("frontend:ui:ExecutionStore"),function(e){function t(n){o()(this,t);var r=l()(this,e.call(this,n));return r.on("insert:executions",r.onExecution.bind(r)),r}return u()(t,e),t.prototype.load=function(e){this.executions=new b.a(e.executions||[])},t.prototype.getExecutions=function(){return this.executions.length>200&&(this.executions=new b.a(this.executions.models.slice(0,200))),this.executions},t.prototype.onExecution=function(e){this.checkDeleverageOnUpdate(e),this.checkOrderExecution(e)},t.prototype.checkDeleverageOnUpdate=function(e){if("Deleverage"===e.text){var t=this.app.stores.getStore("PositionStore").getPosition(e.symbol),n=e.lastQty;this.notify({key:"deleverage",messageId:"ExecutionStore.Deleverage",messageValues:{isLong:t.currentQty>0,oldQty:Math.abs(t.currentQty),newQty:Math.abs(t.currentQty)-Math.abs(n),delta:n,symbol:e.symbol},ttl:60,type:"info",icon:"arrow-down"})}},t.prototype.checkOrderExecution=function(e){var t=e.lastQty,n=0===e.leavesQty,r=void 0,a=void 0,i={delta:t,side:e.side,symbol:e.symbol,price:e.lastPx,quantityLeft:0};n?(r="orderFilled",a="OrderStore.UpdateOrder.Filled"):(r="orderPartiallyFilled",a="OrderStore.UpdateOrder.PartialFill",i.quantityLeft=e.leavesQty),this.notify({key:r,messageId:a,messageValues:i,type:"success",sound:"click_hard",icon:"check-square"})},t}(d.a));v.mixins=[Object(g.a)({model:"Execution",socketName:"execution",storeKey:"executions",partialIsUsable:!1,dataFormatter:function(e){return m.a.filter(e,{execType:"Trade"})},enabled:function(){return Boolean(this.app.authenticated)}}),Object(y.a)({storeKey:"executions",restEndpoint:"/execution",restParams:{count:200,reverse:!0,filter:a()({execType:["Trade"]})},enabled:function(){return Boolean(this.app.authenticated)},fetchOnDisconnect:!0})],v.actions={}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(19),u=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(c.a));u.typeName="Affiliate",u.derived={avgPayoutPcnt:{deps:["prevPayout","prevComm","payoutPcnt"],fn:function(){return this.prevPayout/this.prevComm||this.payoutPcnt}}},u.displayColumns=["prevTurnover","execTurnover","prevPayout","pendingPayout","avgPayoutPcnt","payoutPcnt","prevComm","execComm"],u.displayTypes={prevTurnover:c.b.currency,execTurnover:c.b.currency,prevComm:c.b.currency,execComm:c.b.currency,prevPayout:c.b.currency,payoutPcnt:c.b.percentageInt,avgPayoutPcnt:c.b.percentageHundredths,pendingPayout:c.b.currency};t.a=Object(c.c)(u)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(30),u=n(213),d={},p=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getOrCreate=function(e){var t=this.get(e)||d[e];return t||(t=d[e]=new u.a({currency:e})),t},t}(c.a);p.model=u.a,p.comparator=function(e){return e.currency}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),a=n.n(r),i=n(6),o=n.n(i),s=n(24),l=n.n(s),c=n(15),u=n(26),d=n.n(u),p=n(0),m=n.n(p),f=n(1),h=n.n(f),g=n(2),y=n.n(g),b=n(33),v=n(5),E=n.n(v),w=n(18),M=n.n(w),S=n(25),x=n(212),k=n(215),T=n(30),C=n(288),N=function(e){function t(){return m()(this,t),h()(this,e.apply(this,arguments))}return y()(t,e),t}(T.a);N.model=C.a,N.comparator=function(e){return-Number(e.transactTime)||-1/0},n.d(t,"default",function(){return O});M()("frontend:ui:HistoryStore");var P={count:100,start:0,reverse:!0},O=function(e){function t(){return m()(this,t),h()(this,e.apply(this,arguments))}return y()(t,e),t.prototype.load=function(e){this.data={execution:new x.a([]),funding:e.funding||[],insurance:e.insurance||[],order:new k.a([]),settlement:e.settlements||[],wallet:new N(e.walletHistory||[])}},t.prototype.getExecutionHistory=function(){return this.data.execution},t.prototype.getFundingHistory=function(){return this.data.funding},t.prototype.getInsuranceHistory=function(){return this.data.insurance},t.prototype.getOrderHistory=function(){return this.data.order},t.prototype.getSettlementHistory=function(){return this.data.settlement},t.prototype.getWalletHistory=function(){return this.data.wallet},t.prototype.onFetchHistory=function(e,t){var n=t.match(/_(.*?)_/);if(n&&n.length){var r=n[1].toLowerCase();if(E.a.includes(d()(this.data),r))return this._fetchHistory(r,e)}throw new Error("Unknown HistoryStore action: "+t)},t.prototype._fetchHistory=function(){var e=Object(c.coroutine)(a.a.mark(function e(n,r){var i,s,c,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.endpoints[n]){e.next=3;break}throw new Error("Unknown endpoint for key: "+n+" and payload "+l()(r));case 3:return s=o()({},P,r),e.prev=4,e.next=7,S.c({endpoint:i,qs:s});case 7:if(c=e.sent,Array.isArray(c)){e.next=10;break}throw new Error("Unexpected response: "+String(c));case 10:u=c,this.data[n]=F(this.data[n],u),this.emit("change"),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),this.notify({messageId:"HistoryStore.FetchFailure",body:e.t0.message,type:"error"}),this.data[n]=F(this.data[n],[]),this.emit("change");case 20:case"end":return e.stop()}},e,this,[[4,15]])}));return function(t,n){return e.apply(this,arguments)}}(),t}(b.a);function F(e,t){return e instanceof T.a?e.new(t):t}O.actions={FETCH_EXECUTION_HISTORY:"onFetchHistory",FETCH_FUNDING_HISTORY:"onFetchHistory",FETCH_INSURANCE_HISTORY:"onFetchHistory",FETCH_ORDER_HISTORY:"onFetchHistory",FETCH_SETTLEMENT_HISTORY:"onFetchHistory",FETCH_WALLET_HISTORY:"onFetchHistory"},O.endpoints={execution:"/execution/tradeHistory",funding:"/funding",insurance:"/insurance",order:"/order",settlement:"/settlement",wallet:"/user/walletHistory"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(33),u=n(5),d=n.n(u),p=n(18),m=n.n(p),f=n(39),h=n(43),g=n(19),y=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getInstrument=function(){return this.stores.getStore("InstrumentStore").getInstrument(this.symbol)},t}(function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(g.a));y.typeName="Liquidation",y.idAttribute="orderID",y.displayTypes={price:g.b.fixedNumber},y.derived={tickSize:{deps:["symbol"],fn:function(){return this.getInstrument().tickSize}}};var b=Object(g.c)(y);n.d(t,"default",function(){return v});m()("frontend:ui:LiquidationStore");var v=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.isAlerting=!1,r.liqIDs=[],r.onLiquidation=function(e){var t=e.side,n=e.leavesQty,a=e.symbol,i=e.price,o=e.orderID,s=r.liqIDs;d.a.includes(s,o)||(s.unshift(o),s.length>100&&(s.length=100),r.notify({messageId:"LiquidationStore.Insert",messageValues:{isBuy:"Buy"===t,leavesQty:n,price:i,symbol:a},type:"info",key:o,icon:"Buy"===t?"arrow-up":"arrow-down"}))},i=n,o()(r,i)}return l()(t,e),t.prototype.load=function(e){this.liquidations=(e.liquidations||[]).map(function(e){return new b(e)}),e.user.me.preferences.alertOnLiquidations&&this.setAlerts()},t.prototype.getLiquidations=function(){return this.liquidations},t.prototype.onSetOption=function(e){"boolean"==typeof e.alertOnLiquidations&&(e.alertOnLiquidations?this.setAlerts():this.unsetAlerts())},t.prototype.setAlerts=function(){this.isAlerting||(this.on("insert:liquidations",this.onLiquidation),this.isAlerting=!0)},t.prototype.unsetAlerts=function(){this.removeListener("insert:liquidations",this.onLiquidation),this.isAlerting=!1},t}(c.a);v.mixins=[Object(f.a)({model:"Liquidation",socketName:"liquidation",storeKey:"liquidations",partialIsUsable:!0}),Object(h.a)({storeKey:"liquidations",restEndpoint:"/liquidation",restParams:{count:100,reverse:!0},fetchOnDisconnect:!1})],v.actions={SET_OPTION:"onSetOption"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return C});var r=n(35),a=n.n(r),i=n(34),o=n.n(i),s=n(28),l=n.n(s),c=n(6),u=n.n(c),d=n(0),p=n.n(d),m=n(1),f=n.n(m),h=n(2),g=n.n(h),y=n(33),b=n(3),v=(n.n(b),n(5)),E=n.n(v),w=n(18),M=n.n(w),S=n(57),x=n(39),k=n(11),T=(M()("frontend:ui:NotificationStore"),"bitmex-NotificationItems"),C=function(t){function n(e){p()(this,n);var r=f()(this,t.call(this,e));return r.notifications=[],r.nativeNotificationStatus="uninitialized",r.id=0,r.on("change",r.persistToLocalStorage.bind(r)),r.on("insert",function(e){r.addNotification(e,!1)}),r._setupDesktopNotifications(),r}return g()(n,t),n.prototype.load=function(e){var t=this;this.options=e.user.me.preferences,this.restoreFromLocalStorage().forEach(function(e){return t.addNotification(e)}),this.persistToLocalStorage()},n.prototype.getNativeNotificationStatus=function(){return this.nativeNotificationStatus},n.prototype.getNotifications=function(){return this.notifications},n.prototype.addNotification=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.app.stores&&this.app.stores.getStore("OptionStore")&&this.app.stores.getStore("OptionStore").getOptions()||this.options,r=n.hideNotifications;if(!e.key||!E.a.includes(r,e.key)){this.id=(this.id+1)%1e8;var a=u()({id:this.id,timestamp:Date.now()},e,{ttl:Math.max(0,e.ttl||10)});!a.sound||a.key&&E.a.includes(n.sounds,a.key)||(a.sound=null),!1===a.closable&&(this.notifications=this.notifications.filter(function(e){return!e.closable})),!1!==t&&(this.notifications=[a].concat(this.notifications)),this.setNotificationTTL(a)}},n.prototype.onNotificationSeen=function(e){var t=this,n=this.notifications.find(function(t){return t.id===e});if(n){n.seen=!0;var r=n.ttl;r&&setTimeout(function(){t.onDismissNotification(n),n.nativeInstance&&n.nativeInstance.close()},1e3*r)}},n.prototype.onCreateNotification=function(e){this.addNotification(e),this.emit("change")},n.prototype.onDismissNotification=function(e){var t=e.id,n=this.notifications.find(function(e){return e.id===t});n&&(this.notifications=E.a.without(this.notifications,n),this.emit("change"))},n.prototype.onClearNotifications=function(){this.notifications=[],this.emit("change")},n.prototype.linkNotificationNativeInstance=function(e){var t=this.notifications.find(function(t){return t.id===e.id});t&&(t.nativeInstance=e.nativeInstance)},n.prototype.persistToLocalStorage=function(){var e=Date.now();var t,n=[],r=this.notifications,a=Array.isArray(r),i=0;for(r=a?r:l()(r);;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var s=o;if(!(!1===(t=s).persist||t.timestamp+1e3*t.ttl<e)&&(n.unshift(s),n.length>=3))break}S.a.set(T,n)},n.prototype.restoreFromLocalStorage=function(){var e=S.a.get(T);Array.isArray(e)||(e=e&&"object"===(void 0===e?"undefined":o()(e))?E.a.values(e):[]);var t=e.slice(-3).map(function(e){return e.sound=null,e.nativeInstance=null,e.messageValues=E.a.mapValues(e.messageValues,function(e){return e.props&&e.props.defaultMessage?e.props.defaultMessage:e}),e}),n=Math.max.apply(Math,t.map(function(e){return e.id}));return this.id=a()(n)?n+1:0,t},n.prototype.setNotificationTTL=function(t){var n=this;t.nativeInstance&&!k.d?t.nativeInstance.addEventListener("show",this.onNotificationSeen.bind(this,t.id)):e.browser&&!1!==t.waitForVisibility?window.requestAnimationFrame(function(){n.onNotificationSeen(t.id),n.emit("change")}):this.onNotificationSeen(t.id)},n.prototype._isNewNotificationSupported=function(){if(!window.Notification||!window.Notification.requestPermission)return!1;if("granted"===window.Notification.permission)return"body"in window.Notification.prototype||"onshow"in window.Notification.prototype;try{new window.Notification("",{silent:!0,noscreen:!0})}catch(e){return!1}return!0},n.prototype._setupDesktopNotifications=function(){var t=this;e.browser&&this._isNewNotificationSupported()&&(this.nativeNotificationStatus=window.Notification.permission,"granted"!==this.nativeNotificationStatus&&window.Notification.requestPermission(function(e){t.nativeNotificationStatus=e}),window.addEventListener("beforeunload",function(){var e=t.notifications,n=Array.isArray(e),r=0;for(e=n?e:l()(e);;){var a;if(n){if(r>=e.length)break;a=e[r++]}else{if((r=e.next()).done)break;a=r.value}var i=a;i.nativeInstance&&"function"==typeof i.nativeInstance.close&&i.nativeInstance.close()}}))},n}(y.a);C.actions={CREATE_NOTIFICATION:"onCreateNotification",DISMISS_NOTIFICATION:"onDismissNotification",LINK_NOTIFICATION_NATIVE_INSTANCE:"linkNotificationNativeInstance",USER_MASQ:"onClearNotifications"},C.mixins=[Object(x.a)([{model:"Notification",storeKey:"notifications",socketName:"publicNotifications",partialIsUsable:!1},{model:"Notification",storeKey:"notifications",socketName:"privateNotifications",enabled:function(){return Boolean(this.app.authenticated)},partialIsUsable:!1}])]}.call(t,n(12))},function(e,t,n){"use strict";var r=n(5);e.exports={trimObject:function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=e[t[r]];""!==a&&null!==a&&void 0!==a&&(n[t[r]]=a)}return n},mergeWithArrays:function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;t++)e[t]=arguments[t];return e.push(function(e,t){return r.isArray(e)&&null===t?null:r.isArray(e)&&t?e.concat(t):void 0}),r.mergeWith.apply(r,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return f});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(33),u=n(39),d=n(43),p=n(216),m=n(416),f=function(t){function n(e){a()(this,n);var r=o()(this,t.call(this,e));return r.on("change",r.checkCross.bind(r)),r}return l()(n,t),n.prototype.load=function(e){this.orderBook=new m.a(e.orderBook||[]),this.rowCount=5},n.prototype.checkCross=function(){var t=this.orderBook.getBBO(),n=t[0],r=t[1];n&&r&&n.price>r.price&&(e.browser&&window.Raven&&window.Raven.captureMessage("Orderbook Crossed.",{extra:{book:this.orderBook.toJSON()},stacktrace:!0}),this.orderBook=new m.a([]),this.emit("change"),this.fetchWithSelectedInstrument())},n.prototype.getOrderBook=function(){return this.orderBook},n.prototype.getRawOrderBook=function(){return this.orderBook},n.prototype.getBBO=function(){return this.orderBook.getBBO()},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.onChangeOrderbookRows=function(e){var t=e.rows;this.rowCount!==t&&(this.rowCount=t,this.emit("change"))},n}(c.a);f.mixins=[Object(u.a)({model:"OrderBookL2",storeKey:"orderBook",socketName:"orderBookL2",partialIsUsable:!0}),Object(d.a)({storeKey:"orderBook",restEndpoint:"/orderBook/L2",restParams:{depth:0},fetchOnDisconnect:!1}),Object(p.a)({partialIsUsable:!0})],f.actions={CHANGE_ORDERBOOK_ROWS:"onChangeOrderbookRows"}}.call(t,n(12))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(30),u=n(19),d=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(u.a),p=n(10),m=n(5),f=n.n(m),h={qty:0,hiddenQty:0},g=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t}(d);g.typeName="OrderBookL2",g.idAttribute="id",g.props={binSize:{type:"number"}},g.derived={containsMyOrder:{cache:!1,fn:function(){var e=this.stores.getStore("OrderStore").getMyOpenOrders();if(!e.length)return h;for(var t=this.symbol,n=this.stores.getStore("InstrumentStore").getSelectedInstrument().tickSize,r=this.stores.getStore("OptionStore").getOptions().orderBookBinning[t],a={qty:0,hiddenQty:0},i=Number(this.priceClamped),o=0;o<e.models.length;o++){var s=e.models[o];if(s.symbol===t&&!s.terminated&&s.workingIndicator&&s.side===this.side&&b(s.price,i,r,n,this.side)){var l=null!=s.displayQty?Math.min(s.displayQty,s.leavesQty):s.leavesQty;a.qty+=l,a.hiddenQty+=s.leavesQty-l}}return a}},liquidationQty:{deps:["symbol","price","size"],fn:function(){var e=this.stores.getStore("LiquidationStore").getLiquidations();if(!e.length)return 0;for(var t=0,n=0;n<e.length;n++){var r=e[n];r.symbol===this.symbol&&r.price===this.price&&(t+=r.leavesQty)}return t}},priceClamped:{deps:["price"],fn:function(){return this.price?p.t(this.price,this.tickSize):0}},tickSize:{fn:function(){return this.binSize||this.stores.getStore("InstrumentStore").getSelectedInstrument().tickSize||.01}}};var y=Object(u.c)(g);function b(e,t,n,r,a){if(!n)return e===t;var i=1/r;return e*=i,t*=i,"Sell"===a?e>t-n&&e<=t:e<t+n&&e>=t}var v=n(42);n.d(t,"a",function(){return w});var E=Object(v.defaultMemoize)(function(e,t,n){for(var r=[],a=Math.round(Math.max(1/t,t,1)),i=e.getAsks(),o={price:null,size:0},s=0,l=0;l<i.length;l++){var c=i[l],u=c.price,d=c.symbol,m=c.size,f=Number(p.u(u,t));if(o.price===f)o.size+=m;else{if(s>=n)break;s++;var h={size:m,price:f,symbol:d,id:-Math.round(f*a),side:"Sell",binSize:t};r.unshift(h),o=h}}var g=e.getBids();o={price:null,size:0};for(var y=0,b=0;b<g.length;b++){var v=g[b],E=v.price,M=v.symbol,S=v.size,x=Number(p.t(E,t));if(o.price===x)o.size+=S;else{if(y>=n)break;y++;var k={size:S,price:x,symbol:M,id:-Math.round(x*a),side:"Buy",binSize:t};r.push(k),o=k}}var T=new w(r,{sort:!1});return T.crossoverIdx=s,T}),w=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.loading=!1,i=n,o()(r,i)}return l()(t,e),t.prototype.getBBO=function(){if(this.models.length){var e=this.getCrossoverIndex();return-1===e?[null,this.models[this.models.length-1]]:0===e?[this.models[0],null]:[this.models[e],this.models[e-1]]}return[null,null]},t.prototype.getCrossoverIndex=function(e){return"number"==typeof this.crossoverIdx?this.crossoverIdx:(e||(e=this.models),this.crossoverIdx=f.a.sortedIndexBy(e,{side:"Buy"},function(e){return"Buy"===e.side?1:0}),this.crossoverIdx)},t.prototype.getIndexOf=function(e){var t=this.models;e=Number(e);for(var n=0,r=t.length;n<r;){var a=n+r>>>1;t[a].id<e?n=a+1:r=a}return t[r]&&t[r].id===e?r:-1},t.prototype.getLevelCount=function(){var e=this.getCrossoverIndex();return Math.max(e,this.models.length-e)},t.prototype.getBinned=function(e,t,n){var r=p.i(e*t,e);return E(this,r,n)},t.prototype.getBids=function(){return this.models.slice(this.getCrossoverIndex())},t.prototype.getAsks=function(){return this.models.slice(0,this.getCrossoverIndex()).reverse()},t}(c.a);w.model=y,w.comparator=function(e){return e.id}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return K});var r=n(24),a=n.n(r),i=n(28),o=n.n(i),s=n(217),l=n.n(s),c=n(34),u=n.n(c),d=n(21),p=n.n(d),m=n(26),f=n.n(m),h=n(15),g=n.n(h),y=n(6),b=n.n(y),v=n(0),E=n.n(v),w=n(1),M=n.n(w),S=n(2),x=n.n(S),k=n(3),T=(n.n(k),n(33)),C=n(218),N=n(5),P=n.n(N),O=n(25),F=n(75),I=n(10),L=n(39),A=n(43),D=n(18),B=n.n(D),_=n(94),R=n(421),j=n(215),U=n(44),H=n(7),q=n(135),W=n(422),V=n(31),z=(B()("frontend:ui:OrderStore"),/^Spam\n/),K=function(t){function n(){var e,r,a;E()(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=M()(this,t.call.apply(t,[this].concat(o))),r.evictionInterval=3e4,r.spamDetected=!1,r.submitInProgress="",a=e,M()(r,a)}return x()(n,t),n.prototype.load=function(t){this.myOrders=new j.a(t.myOrders||[]),this.myOpenOrders=new j.a(t.myOpenOrders||[]),e.browser&&(setInterval(this.evictOrders.bind(this),this.evictionInterval),this.on("insert:myOpenOrders",this.onInsertOrder.bind(this)),this.on("update:myOpenOrders",this.onUpdateOrder.bind(this)))},n.prototype.evictOrders=function(){var e=Date.now(),t=this,n=this.myOpenOrders.filter(function(n){return!n.terminated||e-n.timestamp<t.evictionInterval});n.length<this.myOpenOrders.length&&(this.myOpenOrders=new j.a(n,{sort:!1}),this.emit("change"))},n.prototype.getMyOrders=function(){return this.myOrders.length>200&&(this.myOrders=new j.a(this.myOrders.models.slice(0,200),{sort:!1})),this.myOrders},n.prototype.getMyOpenOrders=function(){return this.myOpenOrders},n.prototype.getSubmitInProgress=function(){return this.submitInProgress},n.prototype.orderError=function(t){var n=this;e.nextTick(function(){var e=n.app.stores.getStore("InstrumentStore").getSelectedSymbol();n.flux.actions.submitOrderFailed(b()({},t,{order:b()({},t.order,{symbol:e})}))})},n.prototype.onAmendOrder=function(){var e=Object(h.coroutine)(p.a.mark(function e(t){var n,r,a=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.app,r=void 0,"function"==typeof t.cb&&(r=t.cb,t=P.a.omit(t,"cb")),e.abrupt("return",g.a.try(Object(h.coroutine)(p.a.mark(function e(){var r,i,o,s,l,c,u,d,m,h,g,y,v,E,w;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getMyOpenOrders().find(function(e){return e.orderID===t.orderID})){e.next=3;break}return e.abrupt("return",console.error("Attempted to amend "+t.orderID+" but order was not found."));case 3:if(t.hasOwnProperty("orderQty")&&(t.orderQty=Math.abs(t.orderQty)),P.a.some(t,function(e,t){return r[t]!==e})){e.next=7;break}return e.abrupt("return");case 7:e.prev=7,i={},o=r.toJSON(),e.t0=p.a.keys(t);case 11:if((e.t1=e.t0()).done){e.next=19;break}if(s=e.t1.value,!o.hasOwnProperty(s)){e.next=17;break}if(null!=t[s]){e.next=16;break}throw new Error("The "+s+" submitted was empty. Please try again.");case 16:i[s]=t[s];case 17:e.next=11;break;case 19:if(l=r.newWithProps(i),a.submitInProgress="amend:"+l.orderID,a.emit("change"),a._validateOrder(l,!0),c=!1,r.workingIndicator&&t.price?c=l.wouldMatchAt(t.price):t.stopPx?c=l.wouldStopTriggerAt(t.stopPx):t.pegOffsetValue&&(c=l.wouldTrailingStopTriggerAt(t.pegOffsetValue)),!c){e.next=28;break}return e.next=28,n.stores.getStore("DialogStore").onOpenDialog({props:{oldOrder:r,payload:t},component:"AmendWouldMatchDialog",dialogKey:t.price?"amendWouldMatch":"amendWouldTrigger"});case 28:return e.next=30,O.e({endpoint:"/order",json:b()({text:"Amend from "+window.location.hostname},t)});case 30:return F.b("order","amend:success",t),u=f()(t).filter(function(e){return"orderID"!==e&&t[e]!==r[e]})[0],d=t[u]||0,m=r[u],"number"==typeof d&&"Sell"===r.side&&"orderQty"===u&&(m*=-1,d*=-1),h=r.symbol,g=Object(V.c)("order",u),y=n.stores.getStore("InstrumentStore").getInstrument(r.symbol),v=y.tickSize,"orderQty"===u&&(v=1),E=function(e){return"number"==typeof e?I.t(e,v):e},a.notify({key:"orderAmended",messageId:"OrderStore.AmendSuccess",messageValues:{key:g,symbol:h,value:E(d),oldValue:E(m)},type:"success",icon:"edit"}),e.abrupt("return",null);case 44:throw e.prev=44,e.t2=e.catch(7),w=Array.isArray(e.t2.message)?e.t2.message[0].error:e.t2.message,a.notify({messageId:"OrderStore.AmendFailure",messageValues:{errorMessage:w},type:"error"}),F.b("order","amend:failure",b()({},t,{errorMessage:w})),e.t2;case 50:return e.prev=50,a.submitInProgress="",a.emit("change"),e.finish(50);case 54:case"end":return e.stop()}},e,a,[[7,44,50,54]])}))).nodeify(r));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.prototype.onCancelOrder=function(){var e=Object(h.coroutine)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.submitInProgress="cancel:"+("string"==typeof t.orderID?t.orderID:"*"),this.emit("change"),e.next=5,O.b({endpoint:"/order",json:{orderID:t.orderID,text:"Cancel from "+window.location.hostname}});case 5:if(!((n=e.sent)&&n.error||Array.isArray(n)&&n.find(function(e){return e&&"object"===(void 0===e?"undefined":u()(e))&&e.hasOwnProperty("error")}))){e.next=8;break}throw new _.a(400,"Error",{refresh:!0,orders:n});case 8:return F.b("order","cancel:success",t),e.abrupt("return",null);case 12:if(e.prev=12,e.t0=e.catch(0),r=Array.isArray(e.t0.meta&&e.t0.meta.orders)?e.t0.meta.orders[0].error:e.t0.message,this.notify({messageId:"OrderStore.CancelFailure",messageValues:{errorMessage:r},type:"error"}),F.b("order","cancel:failure",b()({},t,{errorMessage:r})),e.t0.meta&&e.t0.meta.refresh&&this.fetch(),!(e.t0.code>=500)){e.next=20;break}throw e.t0;case 20:return e.prev=20,this.submitInProgress="",this.emit("change"),e.finish(20);case 24:case"end":return e.stop()}},e,this,[[0,12,20,24]])}));return function(t){return e.apply(this,arguments)}}(),n.prototype.onCancelAllOrders=function(e){var t=this,n=e.symbol,r=P.a.omitBy(e,function(e,t){return null==e||"symbol"===t});O.b({endpoint:"/order/all",json:{symbol:n,filter:r,text:"Cancel All from "+window.location.hostname},method:"DELETE"}).then(function(t){return F.b("order","cancelAll:success",e),null}).catch(function(n){var r=Array.isArray(n.message)?n.message[0].error:n.message;if(t.notify({messageId:"OrderStore.CancelFailure",messageValues:{errorMessage:r},type:"error"}),F.b("order","cancelAll:failure",b()({},e,{errorMessage:r})),n.code>=500)throw n})},n.prototype.onCancelAllOrdersInPriceRange=function(e){var t=e.symbol,n=e.start,r=e.end,a=this.myOpenOrders.filter(function(e){return e.symbol===t&&e.price>=n&&e.price<r}).map(function(e){return e.orderID});if(a.length)return this.onCancelOrder({orderID:a})},n.prototype.onClearOrder=function(e){var t=this.myOpenOrders.find({orderID:e.orderID});t&&t.terminated&&(this.myOpenOrders=this.myOpenOrders.new(P.a.without(this.myOpenOrders.models,t)),this.emit("change"))},n.prototype.onClearAllOrders=function(e){var t=P.a.pickBy(b()({},e,{terminated:!0}),function(e){return null!=e}),n=this.myOpenOrders.reject(t);e.ordType&&(n=P.a.reject(n,function(t){return P.a.includes(e.ordType,t.ordType)})),n.length!==this.myOpenOrders.length&&(this.myOpenOrders=this.myOpenOrders.new(n),this.emit("change"))},n.prototype.onSpamOrderDetected=function(e){var t=e.order;this.spamDetected=!0,this.app.stores.getStore("DialogStore").onOpenDialog({props:{order:t},component:"SpamOrderDialog"})},n.prototype.onSubmitOrder=function(){var t=Object(h.coroutine)(p.a.mark(function t(n){var r,a,i,o=this,s=n.payload,l=n.validateFn;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.app,a=function(e){return o.orderError({order:s,reason:e})},t.prev=2,l(),t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(2),e.nextTick(function(){return o.flux.actions.systemError({message:"",error:t.t0})}),t.abrupt("return");case 10:if(!this.submitInProgress){t.next=12;break}return t.abrupt("return",a("Order submission in progress, please wait."));case 12:if(r.websocket&&r.websocket.online){t.next=14;break}return t.abrupt("return",a("You have lost connection to BitMEX. Please try again when reconnected."));case 14:i=void 0,t.prev=15,i=this.validateAndCreateOrder(s),t.next=22;break;case 19:return t.prev=19,t.t1=t.catch(15),t.abrupt("return",a(t.t1.message));case 22:return t.next=24,r.stores.getStore("DialogStore").onOpenDialog({props:{order:i},component:"SubmitOrderDialog",dialogKey:"confirm"+s.ordType});case 24:return t.next=26,this.sanityCheckOrder(i);case 26:return t.next=28,this.submitOrder(i);case 28:case"end":return t.stop()}},t,this,[[2,6],[15,19]])}));return function(e){return t.apply(this,arguments)}}(),n.prototype.onSubmitOrderComplete=function(e){e.getInstrument().uiVisible&&this.notify({key:"orderSubmitted",messageId:"OrderStore.SubmitSuccess",body:e.getDescriptionMessage(),type:"info",sound:"click_soft",icon:e.isStop?"thumb-tack":"check"})},n.prototype.onSubmitOrderFailed=function(e){if(this.emit("change"),/ParticipateDoNotInitiate/.test(e.reason))e.reason="Order was Post-Only, but would execute on submission.";else if(/position Risk Limit/i.test(e.reason)){var t=e.order.symbol;return this.app.stores.getStore("DialogStore").onOpenDialog({props:{symbol:t,error:k.createElement(H.FormattedMessage,{id:"orderStore.dialog.setRiskLimitError",defaultMessage:"You have exceeded the Risk Limit for {symbol}. Please adjust your Risk Limit.\nYour order has not been submitted and will need to be resubmitted manually.",description:"Dialog text for when the risk limit fails to be set",values:{symbol:t}})},component:"AdjustRiskLimitDialog"})}var n="OrderStore.SubmitFailure";this.notify({messageId:n,messageValues:{errorMessage:e.reason||q.a[n].errorMessage},type:"error"})},n.prototype.onInsertOrder=function(e){if("New"===e.ordStatus)this.onSubmitOrderComplete(e);else{if("Rejected"!==e.ordStatus)throw new Error("Unknown order insert status: "+e.ordStatus);this.onSubmitOrderFailed({order:e,reason:e.text,err:new Error("Rejected")})}},n.prototype.onUpdateOrder=function(t,n){var r=this,a=t.ordStatus;if(t.getInstrument().uiVisible){if(t.isStop&&t.workingIndicator!==n.workingIndicator&&this.notify({key:"stopTriggered",messageId:"OrderStore.UpdateOrder.Stop",messageValues:{side:t.side,price:t.price,orderQty:t.orderQty,symbol:t.symbol},type:"success",sound:"click_toggle",icon:"bolt"}),!n.terminated&&t.terminated&&"Rejected"!==a&&"Filled"!==a){var i=t.text.split("\n")[0].replace(/^Canceled: /,"");this.notify({key:"order"+a,messageId:"OrderStore.OrderStatus",messageValues:{status:W.a[a]},body:t.getDescriptionMessage()+"\n"+i,type:"info",sound:"Canceled"===a?"click_off":null,icon:"minus-circle"})}!this.spamDetected&&z.test(t.text)&&e.nextTick(function(){return r.flux.actions.spamOrderDetected({order:t})})}},n.prototype.sanityCheckOrder=function(){var e=Object(h.coroutine)(p.a.mark(function e(t){var n,r,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.app,"string"!=typeof(r="Limit"===t.ordType?this.isPriceOutOfBand(t):null)){e.next=6;break}return e.abrupt("return",n.stores.getStore("DialogStore").onOpenDialog({props:{order:t,outOfBandIndicator:r},component:"FatFingerOrderDialog",dialogKey:"fatFingerProtection"}));case 6:if(!t.isStop||!P.a.includes(t.execInstArr,"Close")){e.next=10;break}if(a=t.getPosition(),l()(a.currentQty+t.rawQty)!==l()(t.rawQty)){e.next=10;break}return e.abrupt("return",n.stores.getStore("DialogStore").onOpenDialog({props:{order:t,position:a},component:"CloseOnTriggerProtectionDialog"}));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.prototype.submitOrder=function(){var e=Object(h.coroutine)(p.a.mark(function e(t){var n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.submitInProgress="submit:*",this.emit("change"),n=b()({},t.toJSON(),{price:-1!==t.ordType.indexOf("Market")||"Stop"===t.ordType?null:t.price,execInst:t.execInst.toString()||null,timeInForce:"GoodTillCancel"===t.timeInForce?null:t.timeInForce,text:t.text||"Submission from "+window.location.hostname}),e.prev=3,e.next=6,O.d({endpoint:"/order",json:n});case 6:if((r=e.sent)&&"object"===(void 0===r?"undefined":u()(r))&&!Array.isArray(r)){e.next=9;break}throw new Error("Unexpected response: "+String(r));case 9:if(!r||"string"!=typeof r.ordRejReason||!r.ordRejReason.length){e.next=14;break}throw new Error(I.h(r.ordRejReason));case 14:if(!r||!r.error){e.next=16;break}throw new Error(r.error.message||r.error);case 16:F.b("order","create:success",P.a.pick(t,"price","symbol","orderQty"),t.grossValue/1e8),e.next=25;break;case 19:if(e.prev=19,e.t0=e.catch(3),F.b("order","create:failed",b()({},n,{reason:e.t0.message})),this.flux.actions.submitOrderFailed({order:n,reason:e.t0.message,err:e.t0}),!(e.t0.code>=500)){e.next=25;break}throw e.t0;case 25:return e.prev=25,this.submitInProgress="",this.emit("change"),e.finish(25);case 29:case"end":return e.stop()}},e,this,[[3,19,25,29]])}));return function(t){return e.apply(this,arguments)}}(),n.prototype._createOrder=function(e){if(!e.ordType)throw new Error("ordType is required");var t=[],n={},r=this.app.stores.getStore("InstrumentStore").getSelectedInstrument(),a=U.a.derived,i=a.isStop.fn.call(e),s=a.isMarket.fn.call(e),l="TrailingStopMarket"===e.ordType,c=U.a.advancedFeatures[e.ordType];if(!c)throw new Error("Invalid ordType: "+e.ordType);n.ordType=e.ordType,s||(n.price=e.price),i&&!l&&(n.stopPx=e.stopPx),l&&(n.pegOffsetValue=e.pegOffsetValue,n.pegPriceType="TrailingStopPeg",n.ordType="Stop");var u=c,d=Array.isArray(u),p=0;for(u=d?u:o()(u);;){var m;if(d){if(p>=u.length)break;m=u[p++]}else{if((p=u.next()).done)break;m=p.value}var f=m;null!=e[f]&&!1!==e[f]&&(P.a.endsWith(f,"ExecInst")?"postOnlyExecInst"===f?t.push("ParticipateDoNotInitiate"):t.push(P.a.upperFirst(f.replace("ExecInst",""))):n[f]=e[f])}return n.orderQty=e.orderQty,n.side=e.side,n.execInst=t.join(","),n.symbol=r.symbol,new U.a(n)},n.prototype._validateOrder=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.app,r=n.stores.getStore("InstrumentStore").getSelectedInstrument(),a=r.tickSize,i=n.stores.getStore("PositionStore").getActivePosition(),o=e.isStop,s=e.isMarket,l=e.isClose,c=e.isTrailing,u=function(e,t){return Object(C.a)(e,t,R.a)};if(s||(u("number"==typeof e.price,"Price needs to be a number on limit orders."),e.isPostOnly&&(u("ImmediateOrCancel"!==e.timeInForce&&"FillOrKill"!==e.timeInForce,"Can't submit a Post-Only order as ImmediateOrCancel or FillOrKill."),u("number"!=typeof e.displayQty,"Can't submit a hidden Post-Only order.")),u(e.price>0||r.isMultiLeg,"Price must be above 0.")),o&&!c&&u("number"==typeof e.stopPx,"Stop Price needs to be a number on stop orders."),c&&u("number"==typeof e.pegOffsetValue,"Trailing Value needs to be a number on trailing stop orders."),u("number"==typeof e.orderQty&&e.orderQty>0||o&&e.execInst.includes("Close"),"Quantity needs to be a positive number."),u("string"==typeof e.symbol,"A contract must be selected."),u("Buy"===e.side||"Sell"===e.side,"An order must have a 'side' of 'Buy' or 'Sell'."),!(o||s||l||t)){var d=e.rawQty,p=e.price,m=n.stores.getStore("MeStore").getMarginItem(r.settlCurrency).excessMargin,f=e.getMarginRequirement(d),h=n.stores.getStore("OptionStore").getOptions().currency;u(0===f||f<=m,function(){return"Total margin requirement of "+I.e(f,h)+" "+h+" is more than your Available Balance of "+I.e(m,h)+" "+h+"."});var g=e.isBuy,y=e.isSell,b=i.currentQty>0,v=i.currentQty<0,E=g&&b||y&&v,w=i.liquidationPrice,M=i.bankruptPrice,S=E?w:M;if(u(!("number"==typeof S&&(v&&p>S-a||b&&p<S+a)),function(){return"Your order price of "+I.t(p,a)+" is "+(b?"below":"above")+" your current "+(E?"liquidation":"bankruptcy")+" price of "+I.t(S,a)+"."}),r.taxed&&!i.crossMargin)u(!(I.n(r,i,d,p)>0),function(){return"Executing at "+I.t(p,a)+" would cause immediate liquidation. Try reducing leverage."})}},n.prototype.validateAndCreateOrder=function(e){var t=this._createOrder(e);return this._validateOrder(t),t},n.prototype.isPriceOutOfBand=function(e){var t=e.getInstrument(),n=t.impactAskPrice,r=t.impactBidPrice,a=t.markPrice;if(!r||!n)return!1;var i=.025;e.price<0&&(i*=-1);var o=e.isBuy,s=e.isSell;return o&&n*(1+i)<e.price||s&&r*(1-i)>e.price?"price":!!(o&&a*(1+2*i)<e.price||s&&a*(1-2*i)>e.price)&&"markPrice"},n}(T.a);K.actions={AMEND_ORDER:"onAmendOrder",CANCEL_ORDER:"onCancelOrder",CANCEL_ALL_ORDERS:"onCancelAllOrders",CANCEL_ALL_ORDERS_IN_PRICE_RANGE:"onCancelAllOrdersInPriceRange",CLEAR_ORDER:"onClearOrder",CLEAR_ALL_ORDERS:"onClearAllOrders",SPAM_ORDER_DETECTED:"onSpamOrderDetected",SUBMIT_ORDER:"onSubmitOrder",SUBMIT_ORDER_COMPLETE:"onSubmitOrderComplete",SUBMIT_ORDER_FAILED:"onSubmitOrderFailed"},K.mixins=[Object(L.a)([{model:"Order",storeKey:"myOpenOrders",socketName:"order",enabled:function(){return Boolean(this.app.authenticated)},partialIsUsable:!0},{model:"Order",storeKey:"myOrders",socketName:"order",enabled:function(){return Boolean(this.app.authenticated)},partialIsUsable:!1,fetchOnMissingUpdate:!1}]),Object(A.a)([{storeKey:"myOpenOrders",restEndpoint:"/order",restParams:{filter:a()({open:!0}),reverse:!0,count:500},enabled:function(){return Boolean(this.app.authenticated)},fetchOnDisconnect:!1},{storeKey:"myOrders",restEndpoint:"/order",restParams:{count:200,reverse:!0},enabled:function(){return Boolean(this.app.authenticated)},fetchOnDisconnect:!1}])]}.call(t,n(12))},function(e,t,n){n(419),e.exports=n(17).Math.sign},function(e,t,n){var r=n(32);r(r.S,"Math",{sign:n(420)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=function(e){function t(n,r){return a()(this,t),o()(this,e.call(this,400,n,r))}return l()(t,e),t}(n(94).a)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),a=(n.n(r),n(7)),i={New:r.createElement(a.FormattedMessage,{id:"orderStatus.new",defaultMessage:"New",description:"Order status text for an order that is New"}),PartiallyFilled:r.createElement(a.FormattedMessage,{id:"orderStatus.partiallyFilled",defaultMessage:"Partially Filled",description:"Order status text for an order that is Partially Filled"}),PendingCancel:r.createElement(a.FormattedMessage,{id:"orderStatus.pendingCancel",defaultMessage:"Pending Cancel",description:"Order status text for an order that is Pending Cancel"}),PendingNew:r.createElement(a.FormattedMessage,{id:"orderStatus.pendingNew",defaultMessage:"Pending New",description:"Order status text for an order that is Pending New"}),Stopped:r.createElement(a.FormattedMessage,{id:"orderStatus.stopped",defaultMessage:"Stopped",description:"Order status text for an order that is Stopped"}),Suspended:r.createElement(a.FormattedMessage,{id:"orderStatus.suspended",defaultMessage:"Suspended",description:"Order status text for an order that is Suspended"}),AcceptedForBidding:r.createElement(a.FormattedMessage,{id:"orderStatus.acceptedForBidding",defaultMessage:"Accepted For Bidding",description:"Order status text for an order that is Accepted For Bidding"}),PendingReplace:r.createElement(a.FormattedMessage,{id:"orderStatus.pendingReplace",defaultMessage:"Pending Replace",description:"Order status text for an order that is Pending Replace"}),Filled:r.createElement(a.FormattedMessage,{id:"orderStatus.filled",defaultMessage:"Filled",description:"Order status text for an order that is Filled"}),DoneForDay:r.createElement(a.FormattedMessage,{id:"orderStatus.doneForDay",defaultMessage:"Done For Day",description:"Order status text for an order that is Done For Day"}),Canceled:r.createElement(a.FormattedMessage,{id:"orderStatus.canceled",defaultMessage:"Canceled",description:"Order status text for an order that is Canceled"}),Rejected:r.createElement(a.FormattedMessage,{id:"orderStatus.rejected",defaultMessage:"Rejected",description:"Order status text for an order that is Rejected"}),Calculated:r.createElement(a.FormattedMessage,{id:"orderStatus.calculated",defaultMessage:"calculated",description:"Order status text for an order that is Calculated"}),Expired:r.createElement(a.FormattedMessage,{id:"orderStatus.expired",defaultMessage:"Expired",description:"Order status text for an order that is Expired"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),a=n.n(r),i=n(6),o=n.n(i),s=n(15),l=n.n(s),c=n(0),u=n.n(c),d=n(1),p=n.n(d),m=n(2),f=n.n(m),h=n(3),g=n(33),y=(n(5),n(30)),b=n(80),v=n(42),E={},w=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.getOrCreate=function(e,t,n){var r=this.get(e)||E[e];return r||(r=E[e]=new b.a({symbol:e,commission:t&&t[e]?t[e].takerFee:75e-5,maintMarginReq:n?n.maintMargin:0,initMarginReq:n?n.initMargin:0})),r},t.prototype.getOpen=function(){return x(this)},t.prototype.getClosed=function(){return k(this)},t}(y.a);w.model=b.a,w.comparator=function(e){return e.instrumentIdx?1e14*e.instrumentIdx:1e16-e.timestamp};var M=function(e){return new w(e)},S=function(e){return"RCSXXX"!==e.typ},x=Object(v.createSelector)(function(e){return e.filter(function(e){return 0!==e.currentQty&&!1===e.expired&&S(e)})},M),k=Object(v.createSelector)(function(e){return e.filter(function(e){return 0!==e.prevRealisedPnl&&S(e)})},M),T=n(44),C=n(39),N=n(43),P=n(7),O=n(94),F=n(10),I=n(25);n.d(t,"default",function(){return L});var L=function(e){function t(n){u()(this,t);var r=p()(this,e.call(this,n));return r.on("update:positions",r.checkLiquidationOnUpdate.bind(r)),r}return f()(t,e),t.prototype.load=function(e){this.positions=new w(e.positions||[])},t.prototype.getActivePosition=function(){return this.getPosition(this.app.stores.getStore("InstrumentStore").selectedSymbol)},t.prototype.getPosition=function(e){return this.positions.getOrCreate(e,this.app.stores.getStore("MeStore").getCommission(),this.app.stores.getStore("InstrumentStore").getInstrument(e))},t.prototype.getPositions=function(){return this.positions},t.prototype.checkLiquidationOnUpdate=function(e,t){"Liquidated"!==t.posState&&"Liquidated"===e.posState&&this.notify({key:"liquidation",messageId:"PositionStore.Liquidation",messageValues:{isLong:t.currentQty>0,quantity:Math.abs(t.currentQty),symbol:t.symbol,price:t.liquidationPrice},ttl:60,type:"error"})},t.prototype.confirmPositionClose=function(e,t){var n=this.getPosition(e.symbol);this.app.stores.getStore("DialogStore").onOpenDialog({props:{position:n},component:e.price?"CloseLimitDialog":"CloseMarketDialog",dialogKey:e.price?"limitClose":null,onConfirm:t})},t.prototype.onIsolateMargin=function(e){var t=this;this.getPosition(e.symbol).crossMargin!==!e.enabled&&I.d({endpoint:"/position/isolate",json:{enabled:e.enabled,symbol:e.symbol}}).then(function(e){}).catch(function(n){t.notify({messageId:"PositionStore.IsolateFailure",messageValues:{symbol:e.symbol},body:n.message,type:"error"})})},t.prototype.onPositionClose=function(){var e=Object(s.coroutine)(a.a.mark(function e(t){var n,r,i,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.price,r=t.symbol,i=this.getPosition(r),n&&(t.price=parseFloat(F.t(n,i.tickSize))),e.prev=3,e.next=6,this.app.stores.getStore("DialogStore").onOpenDialog({props:{position:i,price:n},component:n?"CloseLimitDialog":"CloseMarketDialog",dialogKey:n?"confirmLimitClose":null});case 6:return s=o()({},t,{ordType:t.price?"Limit":"Market",execInst:"Close",text:"Position Close from "+window.location.hostname}),c=new T.a(s),e.next=10,this.app.stores.getStore("OrderStore").sanityCheckOrder(c);case 10:return e.next=12,this.app.stores.getStore("OrderStore").submitOrder(c);case 12:e.next=23;break;case 14:if(e.prev=14,e.t0=e.catch(3),!(e.t0 instanceof l.a.CancellationError)){e.next=20;break}return e.abrupt("return");case 20:if(!(e.t0 instanceof O.a)){e.next=22;break}return e.abrupt("return",this.notify({messageId:"PositionStore.CloseFailure",messageValues:{symbol:r},body:e.t0.message,type:"error"}));case 22:throw e.t0;case 23:case"end":return e.stop()}},e,this,[[3,14]])}));return function(t){return e.apply(this,arguments)}}(),t.prototype.onSetRiskLimit=function(e){var t=this,n=e.symbol,r=e.riskLimit;I.d({endpoint:"/position/riskLimit",json:{symbol:n,riskLimit:r}}).then(function(e){t.notify({messageId:"PositionStore.RiskLimitSuccess",messageValues:{symbol:n,riskLimit:F.c(r)},type:"success",icon:"arrows-h"})}).catch(function(n){t.app.stores.getStore("DialogStore").onOpenDialog({props:{symbol:e.symbol,error:h.createElement(P.FormattedMessage,{id:"positionStore.dialog.setRiskLimitError",defaultMessage:"Unable to set Risk Limit: {errorMessage}",description:"Dialog text for when the risk limit fails to be set",values:{errorMessage:n.message}})},component:"AdjustRiskLimitDialog"})})},t.prototype.onTransferMargin=function(e){var t=this,n=e.symbol,r=e.amount;I.d({endpoint:"/position/transferMargin",json:{symbol:n,amount:r}}).then(function(e){var a=F.g(Math.abs(r),t.app.stores.getStore("OptionStore").getOptions().currency);t.notify({messageId:"PositionStore.TransferMarginSuccess",messageValues:{isAdded:r>0,currencyString:a,symbol:n},type:"success",icon:"bank"})}).catch(function(e){t.notify({messageId:"PositionStore.TransferMarginFailure",messageValues:{symbol:n},body:e.message,type:"error"})})},t.prototype.onUpdateLeverage=function(e){var t=this,n=e.symbol,r=e.leverage;return l.a.try(function(){var e=t.getPosition(n);if((0!==r||!e.crossMargin)&&(!(r===e.leverage&&e.effectiveLeverage<=e.leverage)||e.crossMargin)){if(r>e.initialLeverage)throw new Error("Selected leverage is above maximum of "+e.initialLeverage+"x.");return I.d({endpoint:"/position/leverage",json:{symbol:n,leverage:r}})}}).then(function(e){}).catch(function(e){throw t.notify({messageId:"PositionStore.UpdateLeverageFailure",messageValues:{symbol:n},body:e.message,type:"error"}),e}).nodeify(e.callback)},t}(g.a);L.mixins=[Object(C.a)({model:"Position",storeKey:"positions",socketName:"position",enabled:function(){return Boolean(this.app.authenticated)},partialIsUsable:!1}),Object(N.a)({storeKey:"positions",restEndpoint:"/position",enabled:function(){return Boolean(this.app.authenticated)},fetchOnDisconnect:!0})],L.actions={POSITION_CLOSE:"onPositionClose",POSITION_ISOLATE_MARGIN:"onIsolateMargin",POSITION_TRANSFER_MARGIN:"onTransferMargin",POSITION_SET_RISK_LIMIT:"onSetRiskLimit",POSITION_UPDATE_LEVERAGE:"onUpdateLeverage"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return M});var r=n(21),a=n.n(r),i=n(15),o=(n.n(i),n(0)),s=n.n(o),l=n(1),c=n.n(l),u=n(2),d=n.n(u),p=n(33),m=n(5),f=(n.n(m),n(18)),h=n.n(f),g=n(39),y=n(43),b=n(216),v=n(25),E=n(137),w=n(219),M=(h()("frontend:ui:TradeStore"),function(e){function t(){return s()(this,t),c()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.load=function(e){this.trades=new w.a(e.trades||[])},t.prototype.getTrades=function(){return this.trades.length>1100&&(this.trades=new w.a(this.trades.models.slice(0,1e3))),this.trades},t.prototype.onFetchMoreTrades=function(){var e=Object(i.coroutine)(a.a.mark(function e(){var t,n,r,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.trades.atEnd&&!this.trades.loading&&0!==this.trades.length){e.next=2;break}return e.abrupt("return");case 2:return this.trades.loading=!0,t={count:200,start:this.trades.length,reverse:!0,symbol:this.app.stores.getStore("InstrumentStore").getSelectedSymbol()},e.prev=4,e.next=7,v.c({endpoint:"/trade",qs:t});case 7:if(n=e.sent,Array.isArray(n)&&n.length){e.next=11;break}return this.trades.atEnd=!0,e.abrupt("return");case 11:r={},this.trades.models.forEach(function(e){var t=e.trdMatchID;r[t]=!0}),i=n.filter(function(e){return!(e.trdMatchID in r)}).map(function(e){return new E.a(e)}),this.trades=this.trades.new([].concat(this.trades.models,i)),this.emit("change"),this.trades.length>1e3&&(this.trades.atEnd=!0),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),this.notify({messageId:"TradeStore.FetchFailure",body:e.t0.message,type:"error"});case 22:return e.prev=22,this.trades.loading=!1,e.finish(22);case 25:case"end":return e.stop()}},e,this,[[4,19,22,25]])}));return function(){return e.apply(this,arguments)}}(),t}(p.a));M.mixins=[Object(g.a)({model:"Trade",socketName:"trade",storeKey:"trades",partialIsUsable:!1}),Object(y.a)({storeKey:"trades",restEndpoint:"/trade",restParams:{count:200,reverse:!0},fetchOnDisconnect:!0}),Object(b.a)({partialIsUsable:!1})],M.actions={FETCH_MORE_TRADES:"onFetchMoreTrades"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return v});var r=n(34),a=n.n(r),i=n(21),o=n.n(i),s=n(15),l=n.n(s),c=n(0),u=n.n(c),d=n(1),p=n.n(d),m=n(2),f=n.n(m),h=n(33),g=n(5),y=(n.n(g),n(25)),b=n(10),v=function(e){function t(){return u()(this,t),p()(this,e.apply(this,arguments))}return f()(t,e),t.prototype.load=function(e){},t.prototype.onWithdrawalCancel=function(){var e=Object(s.coroutine)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.d({endpoint:"/user/cancelWithdrawal",json:{token:t.transactID}});case 3:this.app.flux.actions.createNotification({messageId:"WalletStore.CancelWithdrawalSuccess",ttl:10,type:"success"}),this.app.stores.getStore("HistoryStore")._fetchHistory("wallet",{}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.app.flux.actions.createNotification({messageId:"WalletStore.CancelWithdrawalError",messageValues:{errorMessage:e.t0.message},ttl:10,type:"error"});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),t.prototype.onWithdrawalRequest=function(e){var t=this;return l.a.try(Object(s.coroutine)(o.a.mark(function n(){var r,i,s,l;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.d({endpoint:"/user/requestWithdrawal",redirect401:!1,json:e});case 2:if(r=n.sent,!Array.isArray(r)&&"string"!=typeof r&&"object"===(void 0===r?"undefined":a()(r))&&r){n.next=5;break}throw new Error("Bad response: "+String(r));case 5:return i=r,s=t.app.stores.getStore("OptionStore").getOptions(),l=s.currency,"Completed"===i.transactStatus?t.app.flux.actions.createNotification({messageId:"WalletStore.WithdrawalSuccess",messageValues:{amount:Object(b.g)(e.amount,l,e.currency)},ttl:30,type:"success"}):t.app.flux.actions.createNotification({messageId:"WalletStore.WithdrawalRequested",messageValues:{amount:Object(b.g)(e.amount,l,e.currency)},ttl:30,type:"success"}),t.app.stores.getStore("HistoryStore")._fetchHistory("wallet",{}),n.abrupt("return",i);case 10:case"end":return n.stop()}},n,t)}))).nodeify(e.callback)},t}(h.a);v.mixins=[],v.actions={WITHDRAWAL_REQUEST:"onWithdrawalRequest",WITHDRAWAL_CANCEL:"onWithdrawalCancel"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(7)),d=n(131),p=n(4),m=n(8),f=n(276),h=n(221),g=n(98),y=c.createElement(h.a,null),b=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.initialNow,n=e.locale,r=e.localeMessages;return c.createElement(g.a,null,c.createElement(f.default,{flux:this.props.flux},c.createElement(u.IntlProvider,{formats:d.a,locale:n,initialNow:t,defaultLocale:"en-US",messages:r,textComponent:c.Fragment},y)))},t}(p.a);b.displayName="HomeMain",t.default=Object(m.a)(function(e){var t=e.instruments,n=e.locale,r=e.localeMessages;return{instruments:t,initialNow:e.initialNow,locale:n,localeMessages:r}})(b)},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var m=o(n);s&&(m=m.concat(s(n)));for(var f=0;f<m.length;++f){var h=m[f];if(!(r[h]||a[h]||d&&d[h])){var g=l(n,h);try{i(t,h,g)}catch(e){}}}return t}return t}},function(e,t,n){e.exports={default:n(429),__esModule:!0}},function(e,t,n){n(121),n(72),n(103),n(430),n(431),n(432),n(433),e.exports=n(17).Set},function(e,t,n){"use strict";var r=n(168),a=n(124);e.exports=n(171)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(a(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(32);r(r.P+r.R,"Set",{toJSON:n(172)("Set")})},function(e,t,n){n(173)("Set")},function(e,t,n){n(174)("Set")},function(e,t){function n(e){return Object.prototype.toString.call(e)}function r(e){return e}function a(e){return"function"!=typeof e?e:function(){return e.apply(this,arguments)}}function i(e,t,n){t in e?e[t]=n:Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function o(e,t,r){if(void 0!==e&&void 0!==t){var a=function(e){return e&&e.constructor&&e.constructor.name?e.constructor.name:n(e).slice(8,-1)};throw new TypeError("Cannot mixin key "+r+" because it is provided by multiple sources, and the types are "+a(e)+" and "+a(t))}return void 0===e?t:e}function s(e,t){if("[object Object]"!==n(e)){var r=e.constructor?e.constructor.name:"Unknown",a=t.constructor?t.constructor.name:"Unknown";throw new Error("cannot merge returned value of type "+r+" with an "+a)}}var l=e.exports=function(e,t){var n=t||{};return n.unknownFunction||(n.unknownFunction=l.ONCE),n.nonFunctionProperty||(n.nonFunctionProperty=o),function(t,r){Object.keys(r).forEach(function(o){var s=t[o],l=r[o],c=e[o];if(void 0!==s||void 0!==l)if(c){var u=c(s,l,o);i(t,o,a(u))}else{var d="function"==typeof s,p="function"==typeof l;d&&void 0===l||p&&void 0===s||d&&p?i(t,o,a(n.unknownFunction(s,l,o))):t[o]=n.nonFunctionProperty(s,l,o)}})}};l._mergeObjects=function(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);s(e,t),s(t,e);var n={};return Object.keys(e).forEach(function(r){if(Object.prototype.hasOwnProperty.call(t,r))throw new Error("cannot merge returns because both have the "+JSON.stringify(r)+" key");n[r]=e[r]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n},l.ONCE=function(e,t,n){if(e&&t)throw new TypeError("Cannot mixin "+n+" because it has a unique constraint.");return e||t},l.MANY=function(e,t,n){return function(){return t&&t.apply(this,arguments),e?e.apply(this,arguments):void 0}},l.MANY_MERGED_LOOSE=function(e,t,n){return e&&t?l._mergeObjects(e,t):e||t},l.MANY_MERGED=function(e,t,n){return function(){var n=t&&t.apply(this,arguments),r=e&&e.apply(this,arguments);return n&&r?l._mergeObjects(n,r):r||n}},l.REDUCE_LEFT=function(e,t,n){var a=e||r,i=t||r;return function(){return i.call(this,a.apply(this,arguments))}},l.REDUCE_RIGHT=function(e,t,n){var a=e||r,i=t||r;return function(){return a.call(this,i.apply(this,arguments))}}},function(e,t,n){"use strict";t.a=function(e){var t=e.error,n=e.info,a=e.onButtonClick;return r.createElement("div",{className:"errorDisplay",style:{minHeight:o,position:"relative"}},r.createElement("div",{className:"posAbsFill verticalAlignFlexParent"},r.createElement("div",{className:"errorBoundary text-align-center",style:{maxWidth:"100%"}},r.createElement("div",null,r.createElement("i",{className:"fa fa-close fa-2x",style:{fontSize:"3em"}})),s,i||"string"!=typeof t?null:r.createElement("div",{className:"v-offset-1"},r.createElement("code",null,t),r.createElement("code",null,n&&n.componentStack)),e.showButton?r.createElement("div",{className:"v-offset-1"},r.createElement("span",{className:"btn btn-info",onClick:a},l)):null)))};var r=n(3),a=(n.n(r),n(7)),i=!0,o=i?"150px":"300px",s=r.createElement("div",{className:"v-offset-1"},r.createElement(a.FormattedMessage,{id:"panel.error",defaultMessage:"Unfortunately, this panel has crashed. We have been notified.",description:"Shown on error boundary"})),l=r.createElement(a.FormattedMessage,{id:"panel.error.reload",defaultMessage:"Reload Panel",description:"Shown on error boundary"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(14)),d=n.n(u),p=n(7),m=n(4),f=n(131),h=n(58),g=n(11),y=n(437),b=n(220),v=n(8),E=n(438),w=n(451),M=n(221),S=n(453),x=n(457),k=n(465),T=n(240),C=n(466),N=n(467),P=n(468),O=n(469),F=n(98),I=n(450),L=n.n(I),A=n(470),D=n(5),B=n.n(D),_=c.createElement(y.a,null),R=c.createElement(P.a,{isSupportedBrowser:g.e}),j=c.createElement(M.a,null),U=c.createElement(w.a,null),H=c.createElement(E.a,null),q=c.createElement(k.a,null),W=c.createElement(F.a,null,c.createElement(C.a,null),c.createElement(N.a,null),c.createElement(S.a,null),c.createElement(x.a,null)),V=function(t){function n(e,r){a()(this,n);var i=o()(this,t.call(this,e,r));return i.routes=Object(A.a)(g.b,e.flux.getState()),i}return l()(n,t),n.prototype.componentDidMount=function(){if(!this.router)return window.Raven.captureMessage("Router missing on mount!");var t=this.router;if(h.a.router=t,this.props.actions.appDidMount(h.a),e.browser){var n=document.getElementById("footer");n&&n.addEventListener("click",function(e){return function(e,t){var n=e.target;for(;n&&"A"!==n.nodeName;)n=n.parentNode;if(!(n instanceof window.HTMLAnchorElement))return;var r=n.pathname;0===r.indexOf("/app")&&(e.preventDefault(),t.navigate(r),window.scroll(0,0))}(e,t)})}},n.prototype.getChildContext=function(){return{activeCurrency:this.props.activeCurrency,locale:this.props.locale,timezoneOffset:this.props.timezoneOffset}},n.getAllRoutes=function(e){var t=Object(A.a)(g.b,e).map(function(e){if(!e)return"";var t=e.props?e.props.path:null;return"string"!=typeof t?"":t.replace(/\(.*\)/,"")}).filter(function(e){return e&&e!==g.b+"trade/:symbol"&&e!==g.b+"contract/:symbol"}),n=e.instruments.pluck("symbol").map(function(e){return g.b+"contract/"+e}),r=e.instruments.pluck("symbol").map(function(e){return g.b+"trade/"+e});return t.concat(r).concat(n)},n.prototype.render=function(){var e=this,t=this.props,r=t.animationsEnabled,a=t.colorTheme,i=t.currentRoute,o=t.initialNow,s=t.locale,l=t.localeMessages,u=t.masqID,d="containerOuter "+a+" "+(t.tickerPinned?"tickerPinned":"")+" "+(r?"animsOn":"");return c.createElement(b.default,{flux:this.props.flux},c.createElement(p.IntlProvider,{formats:f.a,locale:s,initialNow:o,defaultLocale:"en-US",messages:l,textComponent:c.Fragment},c.createElement(L.a,{className:d,onClick:K,gotoURL:Q},_,c.createElement(F.a,null,R,j,"number"==typeof u?c.createElement(O.a,{masqID:u}):null,U),c.createElement(F.a,null,c.createElement("span",{className:"contentFlex"},H,c.createElement("div",{className:"content container"},c.createElement(T.a,{ref:function(t){return e.router=t},path:i,onBeforeNavigation:n.onBeforeNavigation,onNavigation:n.onAfterNavigation,isMainRouter:!0,component:"div",children:this.routes})),q)),W)))},n}(m.a);V.displayName="AppMain",V.childContextTypes={activeCurrency:d.a.string,locale:d.a.string,timezoneOffset:d.a.number},V.onBeforeNavigation=function(e,t,n){h.a.flux.actions.beforeNavigate(e,t,n)},V.onAfterNavigation=function(e,t,n){h.a.flux.actions.afterNavigate(e,t,n)},t.default=Object(v.a)(function(t){var n=t.actions,r=t.currentRoute,a=t.initialNow,i=t.locale,o=t.localeMessages,s=t.masqID,l=t.options,c=t.timezoneOffset;return{actions:n,activeCurrency:l.currency,animationsEnabled:l.animationsEnabled,colorTheme:l.colorTheme,currentRoute:e.browser?void 0:r,initialNow:a,locale:i,localeMessages:o,masqID:s,tickerPinned:l.tickerPinned,timezoneOffset:c}})(V);var z=["/login","/register"];function K(e){for(var t=e.target;t&&"A"!==t.nodeName;)t=t.parentNode;if(t instanceof window.HTMLAnchorElement&&(!t.target||"_self"===t.target)&&t.href&&"#"!==t.href)return t.pathname===window.location.pathname?(t.hash===window.location.hash&&e.preventDefault(),!1):G(t.href)?void 0:(e.preventDefault(),B.a.includes(z,t.pathname)?window.location.href=t.href:window.open(t.href,"_blank"),!1)}function Q(e){G(e)||(window.location.href=e)}function G(e){return new RegExp("^"+window.location.origin+g.b+".*$").test(e)}}.call(t,n(12))},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(4),u=n(134),d=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return Object(u.b)(this.context.intl),null},t}(c.a);d.displayName="ReceiveIntl"},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(5),u=n.n(c),d=n(3),p=(n.n(d),n(4)),m=n(8),f=n(222),h=n(442),g=n(443),y=n(446),b=n(447),v=n(143),E=(n.n(v),n(240)),w=n(83),M={AccountSidebar:f,APISidebar:h,ContractsSidebar:g,ReferencesSidebar:y,TradeSidebar:b},S=/$^/,x=function(t){function n(){var e,r,i;a()(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=r=o()(this,t.call.apply(t,[this].concat(l))),r.specs=r.generateSpecs(r.props,r.context),r.onNavigation=function(e,t,n){var a=n.route.key;"string"==typeof a&&a||(a="ReferencesSidebar"),a!==r.props.sidebarName&&r.props.actions.switchSidebarName(a)},i=e,o()(r,i)}return l()(n,t),n.prototype.shouldComponentUpdate=function(e,t,n){return this.props.currentRoute!==e.currentRoute||this.context.locale!==n.locale||!u.a.isEqual(this.props.instruments.map(function(e){return e.symbol}),e.instruments.map(function(e){return e.symbol}))},n.prototype.componentWillUpdate=function(e,t,n){n.locale===this.context.locale&&this.props.instruments===e.instruments||(this.specs=this.generateSpecs(e,n))},n.prototype.generateSpecs=function(e,t){return u.a.mapValues(M,function(n){var r=n.authRequired,a=n.default,i=n.generateSpec,o=n.regex,s=(!r||e.me.authenticated)&&i?i(e,t.intl):null;return{component:a,regex:o||(s?Object(w.c)(s):S),spec:s}})},n.prototype.getLocations=function(){return u.a.map(this.specs,function(e,t){var n=e.component,r=e.regex,a=e.spec;return d.createElement(v.Location,{path:r,handler:n,shareKeys:!0,spec:a,key:t})})},n.prototype.render=function(){var t=this.props.currentRoute,n=this.specs.ReferencesSidebar;return d.createElement(E.a,{path:e.browser?void 0:t,childProps:{currentRoute:t},onBeforeNavigation:this.onNavigation,onNavigation:this.onNavigation},this.getLocations(),d.createElement(v.NotFound,{handler:n.component,spec:n.spec,shareKeys:!0}))},n}(p.a);x.displayName="SidebarRouter",t.a=Object(m.a)(function(e){return{actions:e.actions,currentRoute:e.currentRoute,me:e.me,indices:e.indices,instruments:e.instruments,sidebarName:e.sidebarName}})(x)}).call(t,n(12))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return y});var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(4),f=n(3),h=(n.n(f),n(52)),g=n.n(h),y=function(t){function n(){var e,r,a;l()(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u()(this,t.call.apply(t,[this].concat(o))),r.state={sticky:Boolean(r.props.initialSticky),topOffset:r.props.topOffset,width:0},r.onScroll=function(e){if(r.mounted){var t=window.pageYOffset>=r.props.topTrigger,n=r.state.sticky,a=r.props.topOffset;if(t&&r.container&&r.container.parentElement instanceof HTMLElement){if(window.innerHeight<r.container.offsetHeight)return;var i=window.pageYOffset-(r.props.topTrigger+r.props.topOffset),o=r.container.offsetHeight+i,s=r.container.parentElement.offsetHeight-o;a=Math.min(a,s)}var l=r.state.width;t&&!n&&(l=r.getWidth()),r.setState({sticky:t,width:l,topOffset:a})}},r.onResize=function(e){r.setState({width:r.getWidth()})},a=e,u()(r,a)}return p()(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.getWidth=function(){if(!this.mounted)return 0;var e=this.container&&this.container.parentNode;return e instanceof HTMLElement?e.offsetWidth:0},n.prototype.render=function(){var t=this,n=this.state.width,r=this.props,i=r.children,s=(r.initialSticky,r.style),l=(r.topTrigger,r.topOffset,o()(r,["children","initialSticky","style","topTrigger","topOffset"])),c=this.state.topOffset;return this.state.sticky&&(s=a()({},s,{position:"fixed",top:c,width:n||"auto",overflow:"auto",paddingBottom:c})),f.createElement("div",a()({},l,{style:s,ref:function(e){return t.container=e}}),f.createElement(g.a,{onScroll:this.onScroll,passive:!0}),f.createElement(g.a,{target:e.browser?window:null,onResize:this.onResize,passive:!0}),i)},n}(m.a);y.displayName="Sticky",y.defaultProps={initialSticky:!1,topTrigger:0,topOffset:0}}).call(t,n(12))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n(3);n(14);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.enabled&&this.bindHandlers()}},{key:"componentWillUnmount",value:function(){this.unbindHandlers()}},{key:"componentWillReceiveProps",value:function(e){this.props.enabled&&!e.enabled?this.unbindHandlers():!this.props.enabled&&e.enabled&&this.bindHandlers()}},{key:"getKeys",value:function(){this.props.target,window;return Object.keys(this.props).filter(function(e){return"on"===e.slice(0,2)}).map(function(e){return[e,e.slice(2).toLowerCase()]})}},{key:"getTarget",value:function(){var e=this.props,t="function"==typeof e.target?e.target():e.target;return t||(t=this.node&&this.node.ownerDocument),t}},{key:"bindHandlers",value:function(){this._adjustHandlers(o)}},{key:"unbindHandlers",value:function(){this._adjustHandlers(s)}},{key:"_adjustHandlers",value:function(e){var t=this.props,n=this.getTarget();if(n){var r=l?{passive:t.passive,capture:t.capture}:t.capture;this.getKeys().forEach(function(a){e(n,a[1],t[a[0]],r)})}}},{key:"render",value:function(){var e=this;return this.props.target?null:a.createElement("noscript",{ref:function(t){e.node=t}})}}]),t}();function o(e,t,n,r){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,r),n}function s(e,t,n,r){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,r),n}i.displayName="DocumentEvents",i.defaultProps={capture:!1,enabled:!0,passive:!1};var l=function(){try{var e=!1;return document.createElement("div").addEventListener("test",function(){},{get passive(){e=!0}}),e}catch(e){return!1}}();e.exports=i},function(e,t,n){"use strict";var r=["onAbort","onAnimationEnd","onAnimationIteration","onAnimationStart","onBlur","onCanPlay","onCanPlayThrough","onClick","onContextMenu","onCopy","onCut","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onFocus","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLoad","onLoadedData","onLoadedMetadata","onLoadStart","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPaste","onPause","onPlay","onPlaying","onProgress","onRateChange","onReset","onScroll","onSeeked","onSeeking","onStalled","onSubmit","onSuspend","onTimeUpdate","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onTransitionEnd","onVolumeChange","onWaiting","onWheel"],a=["onAfterPrint","onBeforePrint","onBeforeUnload","onDeviceLight","onDeviceMotion","onDeviceOrientation","onDeviceProximity","onHashChange","onLanguageChange","onPopState","onRejectionHandled","onResize","onSelect","onStorage","onUnhandledRejection","onUnload","onUserProximity"],i=["onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp"];e.exports={allEvents:r.concat(a).concat(i),documentEvents:r.concat(i),windowEvents:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return b}),t.generateSpec=function(e){var t={link:"https://testnet.bitmex.com",label:"BitMEX Testnet",external:!0,icon:"sign-out"},n=[{separator:v},{link:m.b+"apiOverview",label:E,icon:"bars"},{link:m.b+"apiChangelog",label:w,icon:"edit"},{link:"https://blog.bitmex.com/api_announcement/feed/",label:M,icon:"bullhorn",external:!0},{separator:S},{link:m.b+"restAPI",label:x,icon:"download"},{link:"/api/explorer/",label:k,external:!0,icon:"desktop"},{link:m.b+"wsAPI",label:T,icon:"bolt"},{separator:C},{link:m.b+"apiKeys",label:N,icon:"lock",authenticated:!0},{link:m.b+"apiKeysUsage",label:P,icon:"question"},{separator:O},{link:m.b+"automatedTradingEngines",label:F,icon:"calculator"},{link:m.b+"charting",label:I,icon:"line-chart"},{separator:L},{link:"https://blog.bitmex.com/careers-at-bitmex/",label:A,external:!0,icon:"pencil"},t];return Object(h.b)(n,e)};var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(4)),m=n(11),f=n(5),h=(n.n(f),n(83)),g=n(82),y=n(7),b=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){return d.createElement(g.a,this.props,d.createElement(h.a,a()({},this.props,{spec:this.props.spec})))},t}(p.a);b.displayName="APISidebar";var v=d.createElement(y.FormattedMessage,{id:"api.sidebar.header.documentation",defaultMessage:"Documentation",description:"Sidebar header for documentation section"}),E=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.apiOverview",defaultMessage:"Overview",description:"Sidebar link for API overview"}),w=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.apiChangelog",defaultMessage:"Changelog",description:"Sidebar link to API Changelog page"}),M=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.apiChangelogRSSFeed",defaultMessage:"API RSS Feed",description:"Sidebar link to API RSS feed"}),S=d.createElement(y.FormattedMessage,{id:"api.sidebar.header.usingAPI",defaultMessage:"Using the BitMEX API",description:"Sidebar header for using BitMEX API section"}),x=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.restApi",defaultMessage:"REST API",description:"Sidebar link for REST API documentation"}),k=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.apiExplorer",defaultMessage:"Interactive REST API Explorer",description:"Sidebar link to API Explorer"}),T=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.webSocketApi",defaultMessage:"WebSocket API",description:"Sidebar link to WebSocket API documentation"}),C=d.createElement(y.FormattedMessage,{id:"api.sidebar.header.APIKeys",defaultMessage:"API Keys",description:"Sidebar header for API Keys section"}),N=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.apiKeys",defaultMessage:"API Key Management",description:"Sidebar link for API keys page"}),P=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.apiKeysUsage",defaultMessage:"Using API Keys",description:"Sidebar link for API Keys usage page"}),O=d.createElement(y.FormattedMessage,{id:"api.sidebar.header.companies",defaultMessage:"Companies Using BitMEX",description:"Sidebar header for companies using bitmex section"}),F=d.createElement(y.FormattedMessage,{id:"api.sidebar.header.automatedTrading",defaultMessage:"Automated Trading",description:"Sidebar link for automated trading page"}),I=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.charting",defaultMessage:"Charting",description:"Sidebar link for charting page"}),L=d.createElement(y.FormattedMessage,{id:"api.sidebar.header.links",defaultMessage:"Links",description:"Sidebar header for links section"}),A=d.createElement(y.FormattedMessage,{id:"api.sidebar.link.careers",defaultMessage:"Careers at BitMEX",description:"Sidebar link for careers"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return M}),t.generateSpec=function(e,t){var n=e.instruments,r=e.indices,a=[{separator:S},{link:m.b+"fundingHistory",icon:"bank",label:x},{link:m.b+"insuranceFund",icon:"btc",label:k},{link:m.b+"settlementHistory",icon:"file-text-o",label:T},{link:m.b+"leaderboard",icon:"bullhorn",label:C},{separator:N}].concat(O(n,t),[{separator:P}],(i=r,o=n,s=t,l=[].concat(g.a.uniq(o.map(function(e){return e.rootSymbol})),["EVOL","BVOL","USD"]),c=[".BVOL10M",".BVOL30M",".BVOL1H",".XBX",".XBT",".XBT30M"],g()(i.models).reject(function(e){return g.a.includes(c,e.symbol)||!g.a.includes(l,e.rootSymbol)}).sortBy(f.b).groupBy("rootSymbol").map(function(e,t){var n=s.messages["symbol."+t]||t;return{label:d.createElement("span",null,t," (",n,")"),subLinks:g.a.sortBy(e,function(e){return e.symbol}).map(function(e){return{link:m.b+"index/"+e.symbol,label:(t=s,n=e.symbol,t.messages["sidebar.items."+n]||e.symbol)};var t,n})}}).value()));var i,o,s,l,c;return Object(y.b)(a,e)},t.generateContracts=O;var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(4)),m=n(11),f=n(79),h=n(5),g=n.n(h),y=n(83),b=n(82),v=n(9),E=n(99),w=n(7),M=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){return d.createElement(b.a,this.props,d.createElement(y.a,a()({},this.props,{spec:this.props.spec})))},t}(p.a);M.displayName="ContractsSidebar";var S=d.createElement(w.FormattedMessage,{id:"contractsSidebar.header.historicalData",defaultMessage:"Historical Data",description:"Sidebar header for Historical Data"}),x=d.createElement(w.FormattedMessage,{id:"contractsSidebar.label.fundingHistory",defaultMessage:"Funding History",description:"Sidebar link label for funding history page"}),k=d.createElement(w.FormattedMessage,{id:"contractsSidebar.label.insuranceFund",defaultMessage:"Insurance Fund",description:"Sidebar link for insurance fund page"}),T=d.createElement(w.FormattedMessage,{id:"contractsSidebar.label.settlementHistory",defaultMessage:"Settlement History",description:"Sidebar link for settlement history page"}),C=d.createElement(w.FormattedMessage,{id:"contractsSidebar.label.leaderboard",defaultMessage:"Leaderboard",description:"Sidebar link for leaderboard page"}),N=d.createElement(w.FormattedMessage,{id:"contractsSidebar.header.contracts",defaultMessage:"Contracts",description:"Sidebar header for contracts"}),P=d.createElement(w.FormattedMessage,{id:"contractsSidebar.indices",defaultMessage:"Indices",description:"Sidebar header for indices"});function O(e,t){return g()(e.models).filter(function(t){return t instanceof e.constructor.model}).sortBy(f.b).groupBy("displayRootSymbol").map(function(e,n){var r,a=t.messages["symbol."+n]||n,i={label:d.createElement("span",null,n," (",a,")"),subLinks:[F({rootSymbol:n},t)].concat(e.map(function(e){return{link:m.b+"contract/"+e.symbol,label:e.open?e.symbol:d.createElement("span",null,e.symbol," (",v.a[e.state]||e.state,")")}}))};e[0].isBinary&&(r=i.subLinks).splice.apply(r,[1,0].concat(e.map(function(e){return F(e,t)})));return i}).value()}function F(e,t){var n=e.rootSymbol,r=m.b+"seriesGuide/"+n;return{link:r,label:Object(E.b)(r,t)}}},function(e,t,n){var r;!function(){"use strict";var a=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:a,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return v}),t.generateSpec=function(e){var t=E,n=[{separator:w},{link:m.b+"tradingOverview",label:M,icon:"check"},{link:m.b+"faq",label:S,icon:"quote-left"},{link:m.b+"fees",label:x,icon:"btc"},{separator:k},{link:m.b+"futuresGuide",label:T,icon:"area-chart"},{link:m.b+"perpetualContractsGuide",label:C,icon:"line-chart"},{separator:N},{link:m.b+"autoDeleveraging",label:P,icon:"bar-chart"},{link:m.b+"exchangeGuide",label:O,icon:"bank"},{link:m.b+"fairPriceMarking",label:F,icon:"edit"},{link:m.b+"isolatedMargin",label:I,icon:"pie-chart"},{link:m.b+"liquidation",label:L,icon:"exclamation-triangle"},{link:m.b+"marginTermReference",label:A,icon:"file-text-o"},{link:m.b+"orderTypeFAQ",label:D,icon:"calculator"},{link:m.b+"pnlGuide",label:B,icon:"btc"},{link:m.b+"riskLimits",label:_,icon:"thumb-tack"},{separator:t},{label:t,subLinks:[{link:m.b+"aboutUs",label:R},{link:m.b+"affiliates",label:j,authenticated:!1},{link:m.b+"affiliateToS",label:U},{link:m.b+"privacyPolicy",label:H},{link:m.b+"security",label:q},{link:m.b+"terms",label:W},{link:m.b+"technicalContact",label:V}]},{link:m.b+"whatsDifferent",label:z,icon:"bullhorn"},{link:"https://blog.bitmex.com",external:!0,label:K,icon:"pencil"},{link:m.b+"support",label:Q,icon:"envelope-o"}].concat(g.adminRoutes);return Object(h.b)(n,e)};var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(4)),m=n(11),f=n(5),h=(n.n(f),n(83)),g=n(222),y=n(82),b=n(7),v=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){return d.createElement(y.a,this.props,d.createElement(h.a,a()({},this.props,{spec:this.props.spec})))},t}(p.a);v.displayName="ReferencesSidebar";var E=d.createElement(b.FormattedMessage,{id:"referencesSidebar.header.aboutBitmex",defaultMessage:"About BitMEX",description:"Sidebar header for BitMEX information"}),w=d.createElement(b.FormattedMessage,{id:"referencesSidebar.separator.basics",defaultMessage:"Basics",description:"Sidebar header for basics"}),M=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.tradingOverview",defaultMessage:"* Overview (Start Here)",description:"Sidebar link for overview of trading info on BitMEX"}),S=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.faq",defaultMessage:"FAQ",description:"Sidebar link for frequently asked questions"}),x=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.fees",defaultMessage:"Fees",description:"Sidebar link for fees page."}),k=d.createElement(b.FormattedMessage,{id:"referencesSidebar.separator.contractGuides",defaultMessage:"Contract Guides",description:"Sidebar separator for contract guides section"}),T=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.futuresTradingGuide",defaultMessage:"Futures Guide",description:"Sidebar link for futures trading guide page"}),C=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.perpetualContractsGuide",defaultMessage:"Perpetual Contracts Guide",description:"Sidebar link for Perpetual Contracts guide page"}),N=d.createElement(b.FormattedMessage,{id:"referencesSidebar.separator.marginTrading",defaultMessage:"Margin Trading",description:"Sidebar separator for margin trading section"}),P=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.autoDeleveraging",defaultMessage:"Auto-Deleveraging",description:"Sidebar link for auto-deleveraging"}),O=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.exchangeGuide",defaultMessage:"Exchange Guide",description:"Sidebar link for exchange guide page"}),F=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.fairPriceMarking",defaultMessage:"Fair Price Marking",description:"Sidebar link for fair price marking page"}),I=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.isolatedMargin",defaultMessage:"Isolated and Cross Margin",description:"Sidebar link for isolated and cross margin page"}),L=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.liquidation",defaultMessage:"Liquidation",description:"Sidebar link for liquidation page"}),A=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.marginTermReference",defaultMessage:"Margin Term Reference",description:"Sidebar link for page explaining margin terms"}),D=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.orderTypeFAQ",defaultMessage:"Order Type FAQ",description:"Sidebar link for a page with frequently asked questions about order types"}),B=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.pnlGuide",defaultMessage:"Profit/Loss Guide",description:"Sidebar link for pnl guide page"}),_=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.riskLimits",defaultMessage:"Risk Limits",description:"Sidebar Link for Risk Limits"}),R=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.aboutTheTeam",defaultMessage:"About The Team",description:"Sidebar link for About Us Page"}),j=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.affiliates",defaultMessage:"Affiliate Program",description:"Sidebar link for Affiliate Program"}),U=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.affiliateToS",defaultMessage:"Affiliate Terms of Service",description:"Sidebar link to Affiliate Terms of Service"}),H=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.privacyPolicy",defaultMessage:"Privacy Policy",description:"Sidebar link for privacy policy page"}),q=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.security",defaultMessage:"Security",description:"Sidebar link to security page"}),W=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.terms",defaultMessage:"Terms of Service",description:"Sidebar link to Terms of Service page"}),V=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.technicalContact",defaultMessage:"Technical Contact",description:"Sidebar link to technical contact page"}),z=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.whatsDifferent",defaultMessage:"BitMEX vs. Competitors",description:"Sidebar link for unique features page"}),K=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.blog",defaultMessage:"BitMEX Blog",description:"Sidebar link for BitMEX Blog"}),Q=d.createElement(b.FormattedMessage,{id:"referencesSidebar.link.support",defaultMessage:"Support",description:"Sidebar link to support page"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"regex",function(){return M});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(8),p=n(5),m=(n.n(p),n(82)),f=n(225),h=n(227),g=n(86),y=n(238),b=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onHiddenToggle=function(e){r.props.actions.toggleSidebarHidden()},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.authenticated,n=e.className,r=e.responsiveSize,a=e.sidebarHidden,i=e.sidebarSide,o=e.tickerPinned;if("xs"===r||"xxs"===r)return null;var s=4+(o?22:0),l=o?40:62;return c.createElement(m.a,{sidebarHidden:a,className:n+" tradeSidebar hidden-xs "+(t?"":"preview"),sticky:!0,stickyOptions:{topOffset:s,topTrigger:l}},t||a?null:c.createElement(w,null,c.createElement("div",{className:"widget-controls"},c.createElement(h.a,{showPlusMinusToggle:t}))),a?c.createElement("div",{className:"fa fa-fw fa-angle-double-"+("left"===i?"right":"left")+" linkify",onClick:this.onHiddenToggle}):c.createElement(f.a,{showOrderInput:t,showPositionStatus:t}))},t}(u.a);b.displayName="TradeSidebar",b.defaultProps={className:""};var v=c.createElement(g.a,{pageName:"welcome",className:"disabledHeaderAnchors"}),E=c.createElement(y.a,null),w=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return c.createElement("div",{className:"widget welcome"},v,E,this.props.children)},t}(u.a);w.displayName="WelcomeWidget",t.default=Object(d.a)(function(e){var t=e.actions,n=e.floatingWidget,r=e.me,a=e.options,i=e.responsiveSize,o=e.sidebarHidden,s=e.sidebarSide;return{actions:t,authenticated:r.authenticated,floatingWidget:n,tickerPinned:a.tickerPinned,plusMinusEnabled:a.orderControlsPlusMinus,responsiveSize:i,sidebarHidden:o,sidebarSide:s}})(b);var M=/^\/app\/trade(?:\/(\w+))?$/},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(22)),d=n.n(u),p=n(4),m=n(95),f=(n.n(m),n(52)),h=n.n(f),g=function(t){function n(){var e,r,i;a()(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=r=o()(this,t.call.apply(t,[this].concat(l))),r.state={width:null,internalPrice:r.props.inputPrice},r.onResize=function(e){r.state.width&&r.setState({width:null})},r.onDoubleClick=function(e){var t=d.a.findDOMNode(r);if(t instanceof HTMLElement){var n=t.getBoundingClientRect(),a=n.left,i=n.width,o=e.clientX-a,s=r.getScale(),l=s[0],c=s[1],u=o/i;r.setNewPrice(c+u*l)}},r.onDragStart=function(e){r.setState({internalPrice:r.props.inputPrice})},r.onDrag=function(e,t){var n=t.deltaX;e.stopPropagation();var a=r.getWidth();if(a){var i=r.getScale()[0],o=n/a,s=r.state.internalPrice+i*o;r.setState({internalPrice:s}),r.setNewPrice(s)}},i=e,o()(r,i)}return l()(n,t),n.prototype.getInputSizes=function(){var e=this.props,t=e.askPrice,n=e.bidPrice,r=e.inputPrice,a=this.getScale(),i=a[0],o=a[1],s=(a[2]-t)/i,l=Math.abs(o-n)/i;return[y((r-o)/i,.015,.985),s,l]},n.prototype.getScale=function(){var e=this.props,t=e.askPrice,n=(e.bidPrice+t)/2,r=.05*n;return[r,n-r/2,n+r/2]},n.prototype.getWidth=function(){var e=this.state.width;if(!e){var t=d.a.findDOMNode(this);t instanceof HTMLElement&&(e=t.offsetWidth,this.setState({width:e}))}return e},n.prototype.setNewPrice=function(e){var t=this.getScale(),n=y(e,t[1],t[2]);n!==this.props.inputPrice&&this.props.onChange(n)},n.prototype.render=function(){var t=this.props,n=t.askPrice,r=t.bidPrice,a=t.inputPrice,i=this.getInputSizes(),o=i[0],s=i[1],l=i[2],u=a<=r?"bidSide":a>=n?"askSide":"neutral";return c.createElement("div",{className:"orderPriceVisualization",onDoubleClick:this.onDoubleClick},c.createElement(h.a,{onResize:this.onResize,target:e.browser?window:null,passive:!0}),c.createElement("div",{className:"bidLine priceLine",style:{width:100*l+"%"}}),c.createElement("div",{className:"askLine priceLine",style:{width:100*s+"%"}}),c.createElement(m.DraggableCore,{onDrag:this.onDrag,onStart:this.onDragStart},c.createElement("div",{className:"inputLine "+u,style:{left:100*o+"%"}})))},n}(p.a);function y(e,t,n){return Math.min(Math.max(e,t),n)}g.displayName="OrderPriceVisualization"}).call(t,n(12))},,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(4),d=n(8),p=n(11),m=n(5),f=n.n(m),h=n(59),g=n(241),y=n(242),b=n(141),v=n(243),E=n(7),w=c.createElement(E.FormattedMessage,{id:"tradeLayoutOptions.button.reset",defaultMessage:"Reset",description:"Button text for resetting trade layout"}),M=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onResetLayout=function(e){r.props.saveLayout(r.props.tradeLayout,null)},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){return c.createElement("span",{className:"tradeLayoutOptions"},c.createElement("div",{className:"btn btn-sm btn-warning v-offset-1",onClick:this.onResetLayout,"data-close":"1"},w))},t}(u.a);M.displayName="TradeLayoutOptions";var S=Object(d.a)(function(e){return{saveLayout:e.actions.saveLayout,tradeLayout:e.options.tradeLayout}})(M),x=n(238),k=n(139),T=n(16),C=n(144),N=n(9),P=[{label:c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.label.basic",defaultMessage:"Basic",description:"Label text for basic trade layout option"}),value:"basic"},{label:c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.label.advanced",defaultMessage:"Advanced",description:"Label text for advanced trade layout option"}),value:"advanced"}],O=c.createElement("div",{className:"optionLabel"},c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.label.currencyDisplay",defaultMessage:"Currency Display",description:"Option label text for option to show specified currency"})),F=c.createElement("div",{className:"optionLabel"},c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.label.colorTheme",defaultMessage:"Color Theme",description:"Option label text for the color theme option"})),I=c.createElement("div",{className:"optionLabel"},c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.label.dashboardLayout",defaultMessage:"Dashboard Layout",description:"Option label text for the layout option"})),L=c.createElement(S,null),A=c.createElement("div",{className:"divider"}),D=c.createElement("i",{className:"fa fa-user fa-fw icon"}),B=c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.button.accountSecurity",defaultMessage:"Account & Security",description:"Button text for navigating to the account and security page"}),_=c.createElement("i",{className:"fa fa-gear fa-fw icon"}),R=c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.button.sitePreferences",defaultMessage:"Site Preferences",description:"Button text for navigating to the preferences page"}),j=c.createElement("i",{className:"fa fa-sign-out fa-fw icon"}),U=c.createElement(x.a,null),H=c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.span.guest",defaultMessage:"Guest",description:"Span text for identifying user as a guest"}),q=c.createElement("span",{className:"hidden-lg hidden-sm"},c.createElement("i",{className:"fa fa-user"})),W=c.createElement(E.FormattedMessage,{id:"mainOptionsDropdown.title.mainOptions",defaultMessage:"Main Options",description:"Title text for main options dropdown option menu"}),V=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.renderContents=function(){var e=this.props,t=e.me,n=e.options;return c.createElement("span",null,c.createElement("div",{className:"optionsSection"},O,c.createElement(g.a,{activeCurrency:n.currency})),c.createElement("div",{className:"optionsSection"},F,c.createElement(y.a,{activeColorTheme:n.colorTheme})),c.createElement("div",{className:"optionsSection hidden-xs"},I,c.createElement(v.a,{keyName:"tradeLayout",options:P,value:n.tradeLayout||"basic"}),L),c.createElement("div",{className:"optionsSection"},c.createElement("label",{className:"optionLabel"},c.createElement(b.a,{keyName:"animationsEnabled",value:n.animationsEnabled}),c.createElement(T.a,{text:C.a.animationsEnabled},C.b.animationsEnabled))),A,t.authenticated?c.createElement("div",{className:"optionsSection"},c.createElement("a",{className:"btn btn-info btn-block btn-segmented",href:p.b+"account"},D,B)):null,t.authenticated?c.createElement("div",{className:"optionsSection"},c.createElement("a",{className:"btn btn-info btn-block btn-segmented",href:p.b+"preferences"},_,R)):null,t.authenticated?c.createElement("div",{className:"optionsSection"},c.createElement(k.a,null,c.createElement("span",{className:"btn btn-danger btn-block btn-segmented","data-close":"true"},j,N.a["Log Out"]))):U)},t.prototype.render=function(){var e=this,t=this.props,n=t.initialOpen,r=t.me,a=c.createElement("span",null,c.createElement("span",{className:"visible-lg-inline-block visible-sm-inline-block"},r.authenticated?r.username:H),q),i=W;return c.createElement(h.a,{showCaret:!0,alignRight:!0,toggle:a,initialOpen:n,className:"optionsDropdown mainOptionsDropdown",title:i},function(){return e.renderContents()})},t}(u.a);V.displayName="MainOptionsDropdown";var z=n(62),K=n(23),Q=c.createElement("div",{className:"announcement strong"},c.createElement("a",{href:"https://blog.bitmex.com/?post_type=site_announcement"},c.createElement(E.FormattedMessage,{id:"announcements.anchor.moreAnnouncements",defaultMessage:"More Announcements...",description:"URL Text for link to announcements on BitMEX blog"}))),G=c.createElement("div",{className:"absCenter"},c.createElement(E.FormattedMessage,{id:"announcements.header.noAnnouncements",defaultMessage:"No announcements at this time.",description:"Text for when no announcements exist"})),X=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.announcement=function(e){var t=e.date?K.l(e.date,r.context.timezoneOffset):null;return c.createElement("div",{className:"announcement",key:e.id},c.createElement("header",null,c.createElement("a",{href:e.link},e.title)),c.createElement("div",{className:"pubDate"},t),c.createElement("div",{dangerouslySetInnerHTML:{__html:e.content}}))},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){return c.createElement("div",{className:"announcements"},this.props.announcements.length?c.createElement("span",null,this.props.announcements.map(this.announcement),Q):G)},t}(u.a);X.displayName="Announcements";var Y=c.createElement(E.FormattedMessage,{id:"announcements.header.announcements",defaultMessage:"Announcements and Updates",description:"Header text for announcement and updates section"}),J=c.createElement(z.a,{className:"verticalAlign"}),Z=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onToggle=function(e){e&&(r.props.announcementsLoaded?r.props.actions.acknowledgeAnnouncement():r.props.actions.fetchAnnouncements())},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.announcementsUnseen,r=t.authenticated,a=null;if(n){var i=c.createElement(E.FormattedMessage,{id:"announcements.dropdown.tooltip",description:"Tooltip shown for new announcements",defaultMessage:"{unseen, number} new {unseen, plural, one {announcement} other {announcements}}!",values:{unseen:n}});a=c.createElement(T.a,{open:r,text:i,horizFlip:!0,onClick:function(){return e.onToggle(n>0)}},c.createElement("b",{className:"unread-count"},n))}var o=Y;return c.createElement(h.a,{icon:"bullhorn",toggle:a,alignRight:!0,title:o,className:"announcementsDropdown optionsDropdown",onToggle:this.onToggle},this.props.announcementsLoaded?c.createElement(X,{announcements:this.props.announcements,timezoneOffset:this.context.timezoneOffset}):J)},t}(u.a);Z.displayName="AnnouncementsDropdown";var $=Object(d.a)(function(e){return{actions:e.actions,announcements:e.announcements,announcementsLoaded:e.announcementsLoaded,announcementsUnseen:e.announcementsUnseen,authenticated:e.me.authenticated}})(Z),ee=n(228),te=n(452),ne=n.n(te).a,re=["English","ä¸­ć–‡","Đ ŃŃŃĐşĐ¸Đą","í•śęµ­ě–´","ć—Ąćś¬čŞž"],ae=c.createElement(E.FormattedMessage,{id:"localeSelector.title",defaultMessage:"Language",description:"Title text for title of locale selector."}),ie=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.createLocaleOption=function(e){return[c.createElement(oe,{locale:e,key:"0"}),c.createElement("span",{className:"localeText",key:"1"},r.getLocaleTranslation(e))]},r.onLocaleSwitch=function(e){if("string"!=typeof e)throw new Error("Invalid locale: "+String(e));r.props.switchLocale(e)},i=n,o()(r,i)}return l()(t,e),t.prototype.getLocaleTranslation=function(e){return re[ne.indexOf(e)]},t.prototype.render=function(){var e=this.props.locale,t=ae;return c.createElement(ee.a,{value:e,options:ne,renderer:function(e){return c.createElement(oe,{locale:e})},itemRenderer:this.createLocaleOption,onChange:this.onLocaleSwitch,alignRight:!0,showCaret:!1,title:t,className:"localeSelector localeSelectorDropdown"})},t}(u.a);function oe(e){return c.createElement("img",{src:"/img/static/flags/"+e.locale+".svg",className:"flag-icon"})}ie.displayName="LocaleSelector";var se=Object(d.a)(function(e){return{switchLocale:e.actions.switchLocale}})(ie),le=p.a+"/assets/img/bitmex-logo-",ce=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=le+(this.props.showText?"alt-white.png":"square.png");return c.createElement("a",{href:p.b,className:"logoWrap "+(this.props.showText?"":"noText")},c.createElement("img",{src:e}))},t}(u.a);ce.displayName="Logo",ce.defaultProps={showText:!1};var ue=n(10),de=c.createElement(E.FormattedMessage,{id:"header.label.trade",defaultMessage:"Trade",description:"Header label text for trade dashboard page"}),pe=c.createElement(E.FormattedMessage,{id:"header.label.account",defaultMessage:"Account",description:"Header label text for account page"}),me=c.createElement(E.FormattedMessage,{id:"header.label.contracts",defaultMessage:"Contracts",description:"Header label text for contracts page"}),fe=c.createElement(E.FormattedMessage,{id:"header.label.references",defaultMessage:"References",description:"Header label text for trading references page"}),he=c.createElement(E.FormattedMessage,{id:"header.label.api",defaultMessage:"API",description:"Header label text for API documentation"}),ge=c.createElement("span",{className:"divider hidden-xs"}),ye=c.createElement("span",{className:"divider"}),be=c.createElement(E.FormattedMessage,{id:"header.label.walletBalance",defaultMessage:"Click to view your full wallet details.",description:"Tooltip for display of users available/total wallet balance"}),ve=c.createElement("span",{className:"divider visible-lg visible-md"}),Ee=c.createElement($,null),we=c.createElement("span",{className:"divider"}),Me=c.createElement("span",{className:"divider hidden-xs"}),Se=c.createElement("span",{className:"divider"}),xe=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onSidebarToggle=function(e){r.props.actions.toggleSidebarHidden()},i=n,o()(r,i)}return l()(t,e),t.prototype.componentWillMount=function(){this.spec=this.generateSpec()},t.prototype.isActive=function(e){return this.props.currentRoute===e.link||this.props.sidebarName===e.sidebarName},t.prototype.generateSpec=function(){var e=this;return[{label:de,link:p.b+"trade",sidebarName:"TradeSidebar"},{label:pe,link:p.b+"wallet",sidebarName:"AccountSidebar",loggedIn:!0},{label:me,link:p.b+"seriesGuide/XBT",sidebarName:"ContractsSidebar"},{label:fe,link:p.b+"tradingOverview",sidebarName:"ReferencesSidebar"},{label:he,link:p.b+"apiOverview",className:"hidden-xs",sidebarName:"APISidebar"},{label:N.a.Register,link:"/register",loggedIn:!1,external:!0,sidebarName:null},{label:N.a["Log In"],link:"/login",loggedIn:!1,external:!0,sidebarName:null}].filter(function(t){return!f.a.isBoolean(t.loggedIn)||t.loggedIn===e.props.me.authenticated})},t.prototype.createLinks=function(e){var t=this;return e.map(function(e,n){var r=t.isActive(e);return c.createElement("a",{key:n,href:e.link,rel:e.external?"external":null,className:"link "+(r?"active":"")+" "+(e.className||"")},e.label)}).reduce(function(t,n,r,a){return t.push(n),r<a.length-1&&t.push(c.createElement("span",{key:r+"dot",className:e[r+1].className||""},"â€˘")),t},[])},t.prototype.render=function(){var e=this,t=this.createLinks(this.spec),n=this.isActive(this.spec[0]),r=this.props,a=r.margin,i=r.me,o=r.options,s=r.responsiveSize,l=r.revision,u=r.revisionDate;return c.createElement("header",{id:"header"},n?null:c.createElement("span",{className:"hamburger hidden-sm hidden-md hidden-lg"},c.createElement("span",{className:"btn-navbar headerLink linkify",onClick:this.onSidebarToggle},c.createElement("i",{className:"fa fa-fw fa-bars "+(this.props.sidebarHidden?"":"fa-rotate-90")}))),c.createElement(T.a,{className:"noHover noBorder hidden-xs hidden-xxs",text:function(){return"BitMEX Revision "+l+"\nLast Updated "+(u?K.i(u,e.context.timezoneOffset):"")}},c.createElement(ce,{showText:"xs"!==s})),ge,c.createElement("div",{className:"headerLinks"},t),c.createElement("div",{className:"rightWrap"},ye,i.authenticated?c.createElement("a",{className:"margin noHover",href:p.b+"wallet"},c.createElement(T.a,{className:"noBorder",text:be},c.createElement("table",{className:"visible-lg visible-md"},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{className:"shortLabel"},N.a.Total),c.createElement("td",null,ue.g(a.walletBalance,o.currency))),c.createElement("tr",null,c.createElement("td",{className:"shortLabel"},N.a.Avail),c.createElement("td",null,ue.g(a.excessMargin,o.currency))))))):null,i.authenticated?ve:null,Ee,we,c.createElement(se,{locale:o.locale}),Me,c.createElement("a",{href:p.b+"support",className:"fa fa-question-circle support-icon hidden-xs"}),Se,c.createElement(V,{me:i,options:o})))},t}(u.a);xe.displayName="Header";t.a=Object(d.a)(function(e){return{actions:e.actions,currentRoute:e.currentRoute,margin:e.marginPrimary,me:e.me,options:e.options,responsiveSize:e.responsiveSize,revision:e.revision,revisionDate:e.revisionDate,sidebarName:e.sidebarName,sidebarHidden:e.sidebarHidden}})(xe)},function(e,t){e.exports=["en-US","zh-CN","ru-RU","ko-KR","ja-JP"]},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(8),p=n(5),m=(n.n(p),n(454)),f=n(455),h=n(11),g=n(456),y=function(t){function n(){var e,r,i;a()(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=r=o()(this,t.call.apply(t,[this].concat(l))),r.state={flipSide:!1},i=e,o()(r,i)}return l()(n,t),n.prototype.componentDidMount=function(){this.props.notifications.length>0&&this.moveAwayFromChat()},n.prototype.componentDidUpdate=function(){this.props.notifications.length>0&&(this.node instanceof HTMLElement&&(this.node.scrollTop=9999),this.moveAwayFromChat())},n.prototype.moveAwayFromChat=function(){if(e.browser){var t,n,r=document.querySelector(".popUpChat.open");if(r instanceof HTMLElement&&this.node instanceof HTMLElement)(t=this.node.getBoundingClientRect(),(n=r.getBoundingClientRect()).left>t.left&&n.left<t.right||n.right>t.left&&n.right<t.right||t.left>n.left&&t.left<n.right||t.right>n.left&&t.right<n.right)&&this.setState({flipSide:!this.state.flipSide})}},n.prototype.render=function(){var e=this,t=this.props,n=t.notifications,r=t.options,a=n.filter(function(e){return Boolean(e.sound&&!h.d)}).map(function(e){return c.createElement(f.a,{name:e.sound,key:e.id+"-sound",autoPlay:!0})}),i=n.slice(0,3).reverse(),o=i.length;return c.createElement("div",{className:"notifications "+(this.state.flipSide?"flipped":""),ref:function(t){return e.node=t}},c.createElement(g.a,{duration:250,staggerDelayBy:50,enterAnimation:"elevator",leaveAnimation:!1,disableAllAnimations:!1===r.animationsEnabled},i.map(function(e,t){return c.createElement(m.a,{data:e,key:e.id,idx:o-t})})),a.length?a:null)},n}(u.a);y.displayName="NotificationContainer",t.a=Object(d.a)(function(e){return{notifications:e.notifications,options:e.options}})(y)}).call(t,n(12))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(8),p=n(5),m=(n.n(p),n(135)),f=n(9),h=n(31),g=c.createElement("i",{className:"fa fa-fw fa-times-circle"}),y=function(t){function n(){var e,r,i;a()(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=r=o()(this,t.call.apply(t,[this].concat(l))),r.dismissNotification=function(){r.props.actions.dismissNotification({id:r.props.data.id})},i=e,o()(r,i)}return l()(n,t),n.prototype.getMessage=function(e){var t=this.context.intl,n=this.props.data,r=n.messageId,a=n.messageValues;if(c.isValidElement(this.props.data[e]))return Object(h.e)(this.props.data[e],t);var i=void 0!==r?m.a[r]:null;if(null!==i&&i.hasOwnProperty(e)){var o=i[e].props;return t.formatMessage(o,a||{})}return this.props.data[e]||""},n.prototype.componentWillMount=function(){var e=this.props.data.messageValues,t=this.context.intl.formatMessage;for(var n in e)Object(f.b)(e[n])&&(e[n]=t(e[n].props,{}));this.compiledTitle=this.getMessage("title"),this.compiledBody=this.getMessage("body")},n.prototype.renderNative=function(){var t=this,n=this.props.data,r=n.id,a=n.sound,i=new window.Notification(this.compiledTitle,{body:this.compiledBody,tag:this.compiledTitle,icon:"/img/fav/android-chrome-192x192.png",silent:!a});e.nextTick(function(){t.props.actions.linkNotificationNativeInstance({id:r,nativeInstance:i})})},n.prototype.render=function(){var e=this.props,t=e.data,n=e.idx,r=t.browserOnly,a=t.nativeOnly,i=r||!1,o=a||!1;if("granted"===this.props.nativeNotificationStatus&&!i&&(this.renderNative(),o))return null;var s=t.timestamp||Date.now(),l=t.type,u=t.closable,d=l||"info",p=t.icon;return p||"error"!==d||(p="exclamation-triangle"),c.createElement("div",{className:"notification "+d+" item-"+n},!1!==u?c.createElement("button",{type:"button",className:"close",onClick:this.dismissNotification},g):null,c.createElement("h4",null,c.createElement("span",{className:"alert alert-"+d+" date pull-right"},new Date(s).toLocaleTimeString()),p?c.createElement("i",{className:"fa fa-fw fa-"+p}):null,this.compiledTitle),c.createElement("p",null,this.compiledBody))},n}(u.a);y.displayName="NotificationView",t.a=Object(d.a)(function(e){return{actions:e.actions,nativeNotificationStatus:e.nativeNotificationStatus}})(y)}).call(t,n(12))},function(e,t,n){"use strict";t.a=o;var r=n(3),a=(n.n(r),n(14)),i=n.n(a);function o(e){return r.createElement("audio",{autoPlay:"boolean"!=typeof e.autoPlay||e.autoPlay},r.createElement("source",{src:"/sound/"+e.name+".ogg",type:"audio/ogg"}),r.createElement("source",{src:"/sound/"+e.name+".mp3",type:"audio/mp3"}))}o.propTypes={name:i.a.string.isRequired,autoPlay:i.a.bool}},function(e,t,n){"use strict";var r=n(3),a=n.n(r),i=n(22),o=n.n(i);function s(e){var t=!1;return function(){t||(console.warn(e),t=!0)}}s("\n>> Error, via react-flip-move <<\n\nYou provided a stateless functional component as a child to <FlipMove>. Unfortunately, SFCs aren't supported, because Flip Move needs access to the backing instances via refs, and SFCs don't have a public instance that holds that info.\n\nPlease wrap your components in a native element (eg. <div>), or a non-functional component.\n"),s("\n>> Error, via react-flip-move <<\n\nYou provided a primitive (text or number) node as a child to <FlipMove>. Flip Move needs containers with unique keys to move children around.\n\nPlease wrap your value in a native element (eg. <span>), or a component.\n");var l=s("\n>> Warning, via react-flip-move <<\n\nWhen using \"wrapperless\" mode (by supplying 'typeName' of 'null'), strange things happen when the direct parent has the default \"static\" position.\n\nFlipMove has added 'position: relative' to this node, to ensure Flip Move animates correctly.\n\nTo avoid seeing this warning, simply apply a non-static position to that parent node.\n"),c=s("\n>> Warning, via react-flip-move <<\n\nOne or more of Flip Move's child elements have the html attribute 'disabled' set to true.\n\nPlease note that this will cause animations to break in Internet Explorer 11 and below. Either remove the disabled attribute or set 'animation' to false.\n"),u={elevator:{from:{transform:"scale(0)",opacity:"0"},to:{transform:"",opacity:""}},fade:{from:{opacity:"0"},to:{opacity:""}},accordionVertical:{from:{transform:"scaleY(0)",transformOrigin:"center top"},to:{transform:"",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(0)",transformOrigin:"left center"},to:{transform:"",transformOrigin:"left center"}},none:null},d={elevator:{from:{transform:"scale(1)",opacity:"1"},to:{transform:"scale(0)",opacity:"0"}},fade:{from:{opacity:"1"},to:{opacity:"0"}},accordionVertical:{from:{transform:"scaleY(1)",transformOrigin:"center top"},to:{transform:"scaleY(0)",transformOrigin:"center top"}},accordionHorizontal:{from:{transform:"scaleX(1)",transformOrigin:"left center"},to:{transform:"scaleX(0)",transformOrigin:"left center"}},none:null},p=u,m="elevator",f="none",h=function(e,t){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return t[n]},g=function(e,t){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},y=function(e){return(y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)};var b,v,E=(b=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},v={},function(e){return v[e]||(v[e]=b(e)),v[e]}),w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function T(e){var t=e.domNode,n=e.styles;Object.keys(n).forEach(function(e){t.style.setProperty(E(e),n[e])})}var C=function(e){var t=e.childDomNode,n=e.childBoundingBox,r=e.parentBoundingBox,a=e.getPosition,i={top:0,left:0,right:0,bottom:0,height:0,width:0},o=n||i,s=r||i,l=a(t),c=l.top-s.top,u=l.left-s.left;return[o.left-u,o.top-c]},N=function(){var e={transition:"transitionend","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-webkit-transition":"webkitTransitionEnd"};if("undefined"==typeof document)return"";var t=document.createElement("fakeelement"),n=h(function(e){return void 0!==t.style.getPropertyValue(e)},Object.keys(e));return n?e[n]:""}(),P=!N;function O(e){return e.key||""}function F(e){return r.Children.toArray(e)}var I=function(e){var t,n;return n=t=function(t){function n(){return M(this,n),k(this,t.apply(this,arguments))}return x(n,t),n.prototype.checkChildren=function(e){},n.prototype.convertProps=function(e){var t={children:e.children,easing:e.easing,onStart:e.onStart,onFinish:e.onFinish,onStartAll:e.onStartAll,onFinishAll:e.onFinishAll,typeName:e.typeName,disableAllAnimations:e.disableAllAnimations,getPosition:e.getPosition,maintainContainerHeight:e.maintainContainerHeight,verticalAlignment:e.verticalAlignment,duration:this.convertTimingProp("duration"),delay:this.convertTimingProp("delay"),staggerDurationBy:this.convertTimingProp("staggerDurationBy"),staggerDelayBy:this.convertTimingProp("staggerDelayBy"),appearAnimation:this.convertAnimationProp(e.appearAnimation,p),enterAnimation:this.convertAnimationProp(e.enterAnimation,u),leaveAnimation:this.convertAnimationProp(e.leaveAnimation,d),delegated:{}};this.checkChildren(t.children);var n=Object.keys(t),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}(this.props,n);return r.style=S({position:"relative"},r.style),t.delegated=r,t},n.prototype.convertTimingProp=function(e){var t=this.props[e],r="number"==typeof t?t:parseInt(t,10);if(isNaN(r)){var a=n.defaultProps[e];return a}return r},n.prototype.convertAnimationProp=function(e,t){switch(void 0===e?"undefined":w(e)){case"boolean":return t[e?m:f];case"string":var n=Object.keys(t);return-1===n.indexOf(e)?t[m]:t[e];default:return e}},n.prototype.render=function(){return a.a.createElement(e,this.convertProps(this.props))},n}(r.Component),t.defaultProps={easing:"ease-in-out",duration:350,delay:0,staggerDurationBy:0,staggerDelayBy:0,typeName:"div",enterAnimation:m,leaveAnimation:m,disableAllAnimations:!1,getPosition:function(e){return e.getBoundingClientRect()},maintainContainerHeight:!1,verticalAlignment:"top"},n}(function(e){function t(){var n,r;M(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=k(this,e.call.apply(e,[this].concat(i))),r.state={children:F(r.props?r.props.children:[]).map(function(e){return S({},e,{element:e,appearing:!0})})},r.childrenData={},r.parentData={domNode:null,boundingBox:null},r.heightPlaceholderData={domNode:null},r.remainingAnimations=0,r.childrenToAnimate=[],r.findDOMContainer=function(){var e=o.a.findDOMNode(r),t=e&&e.parentNode;t&&t instanceof HTMLElement&&("static"===window.getComputedStyle(t).position&&(t.style.position="relative",l()),r.parentData.domNode=t)},r.runAnimation=function(){var e=r.state.children.filter(r.doesChildNeedToBeAnimated),t=e.map(function(e){return r.computeInitialStyles(e)});e.forEach(function(e,n){r.remainingAnimations+=1,r.childrenToAnimate.push(O(e)),r.animateChild(e,n,t[n])}),"function"==typeof r.props.onStartAll&&r.callChildrenHook(r.props.onStartAll)},r.doesChildNeedToBeAnimated=function(e){if(!O(e))return!1;var t=r.getChildData(O(e)),n=t.domNode,a=t.boundingBox,i=r.parentData.boundingBox;if(!n)return!1;var o=r.props,s=o.appearAnimation,l=o.enterAnimation,c=o.leaveAnimation,u=o.getPosition,d=e.appearing&&s,p=e.entering&&l,m=e.leaving&&c;if(d||p||m)return!0;var f=C({childDomNode:n,childBoundingBox:a,parentBoundingBox:i,getPosition:u}),h=f[0],g=f[1];return 0!==h||0!==g},k(r,n)}return x(t,e),t.prototype.componentDidMount=function(){null===this.props.typeName&&this.findDOMContainer(),this.props.appearAnimation&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},t.prototype.componentWillReceiveProps=function(e){this.updateBoundingBoxCaches();var t=F(e.children);this.setState({children:this.isAnimationDisabled(e)?t.map(function(e){return S({},e,{element:e})}):this.calculateNextSetOfChildren(t)})},t.prototype.componentDidUpdate=function(e){null===this.props.typeName&&this.findDOMContainer(),!function(e,t){if(e===t)return!0;var n=!y(e)||!y(t),r=e.length!==t.length;return!n&&!r&&g(function(e,n){return e===t[n]},e)}(F(this.props.children).map(function(e){return e.key}),F(e.children).map(function(e){return e.key}))&&!this.isAnimationDisabled(this.props)&&(this.prepForAnimation(),this.runAnimation())},t.prototype.calculateNextSetOfChildren=function(e){var t=this,n=e.map(function(e){var n=t.findChildByKey(e.key),r=!n||n.leaving;return S({},e,{element:e,entering:r})}),r=0;return this.state.children.forEach(function(a,i){if(!h(function(e){return e.key===O(a)},e)&&t.props.leaveAnimation){var o=S({},a,{leaving:!0}),s=i+r;n.splice(s,0,o),r+=1}}),n},t.prototype.prepForAnimation=function(){var e=this,t=this.props,n=t.leaveAnimation,r=t.maintainContainerHeight,a=t.getPosition;n&&(this.state.children.filter(function(e){return e.leaving}).forEach(function(t){var n=e.getChildData(O(t));!e.isAnimationDisabled(e.props)&&n.domNode&&n.domNode.disabled&&c(),n.boundingBox&&function(e,t){var n=e.domNode,r=e.boundingBox;if(n&&r){var a=window.getComputedStyle(n),i=["margin-top","margin-left","margin-right"].reduce(function(e,t){var n,r=a.getPropertyValue(t);return S({},e,((n={})[t]=Number(r.replace("px","")),n))},{});T({domNode:n,styles:{position:"absolute",top:("bottom"===t?r.top-r.height:r.top)-i["margin-top"]+"px",left:r.left-i["margin-left"]+"px",right:r.right-i["margin-right"]+"px"}})}}(n,e.props.verticalAlignment)}),r&&this.heightPlaceholderData.domNode&&function(e){var t=e.domNode,n=e.parentData,r=e.getPosition,a=n.domNode,i=n.boundingBox;if(a&&i){T({domNode:t,styles:{height:"0"}});var o=i.height-r(a).height;T({domNode:t,styles:{height:o>0?o+"px":"0"}})}}({domNode:this.heightPlaceholderData.domNode,parentData:this.parentData,getPosition:a}));this.state.children.forEach(function(t){var n=e.getChildData(O(t)).domNode;n&&(t.entering||t.leaving||T({domNode:n,styles:{transition:""}}))})},t.prototype.animateChild=function(e,t,n){var r=this,a=this.getChildData(O(e)).domNode;a&&(T({domNode:a,styles:n}),this.props.onStart&&this.props.onStart(e,a),requestAnimationFrame(function(){requestAnimationFrame(function(){var n={transition:function(e,t){var n=t.delay,r=t.duration,a=t.staggerDurationBy,i=t.staggerDelayBy,o=t.easing;n+=e*i,r+=e*a;return["transform","opacity"].map(function(e){return e+" "+r+"ms "+o+" "+n+"ms"}).join(", ")}(t,r.props),transform:"",opacity:""};e.appearing&&r.props.appearAnimation?n=S({},n,r.props.appearAnimation.to):e.entering&&r.props.enterAnimation?n=S({},n,r.props.enterAnimation.to):e.leaving&&r.props.leaveAnimation&&(n=S({},n,r.props.leaveAnimation.to)),T({domNode:a,styles:n})})}),this.bindTransitionEndHandler(e))},t.prototype.bindTransitionEndHandler=function(e){var t=this,n=this.getChildData(O(e)).domNode;if(n){n.addEventListener(N,function r(a){a.target===n&&(n.style.transition="",t.triggerFinishHooks(e,n),n.removeEventListener(N,r),e.leaving&&t.removeChildData(O(e)))})}},t.prototype.triggerFinishHooks=function(e,t){var n=this;if(this.props.onFinish&&this.props.onFinish(e,t),this.remainingAnimations-=1,0===this.remainingAnimations){var r=this.state.children.filter(function(e){return!e.leaving}).map(function(e){return S({},e,{element:e.element,appearing:!1,entering:!1})});this.setState({children:r},function(){"function"==typeof n.props.onFinishAll&&n.callChildrenHook(n.props.onFinishAll),n.childrenToAnimate=[]}),this.heightPlaceholderData.domNode&&(this.heightPlaceholderData.domNode.style.height="0")}},t.prototype.callChildrenHook=function(e){var t=this,n=[],r=[];this.childrenToAnimate.forEach(function(e){var a=t.findChildByKey(e);a&&(n.push(a),t.hasChildData(e)&&r.push(t.getChildData(e).domNode))}),e(n,r)},t.prototype.updateBoundingBoxCaches=function(){var e=this,t=this.parentData.domNode;if(t){this.parentData.boundingBox=this.props.getPosition(t);var n=[];this.state.children.forEach(function(r){var a=O(r);if(a)if(e.hasChildData(a)){var i,o,s,l,c,u,d,p,m,f,h,g,y=e.getChildData(a);if(y.domNode&&r)n.push((i={childDomNode:y.domNode,parentDomNode:t,getPosition:e.props.getPosition},o=i.childDomNode,s=i.parentDomNode,l=i.getPosition,c=l(s),u=l(o),d=u.top,p=u.left,m=u.right,f=u.bottom,h=u.width,g=u.height,{top:d-c.top,left:p-c.left,right:c.right-m,bottom:c.bottom-f,width:h,height:g}));else n.push(null)}else n.push(null);else n.push(null)}),this.state.children.forEach(function(t,r){var a=O(t),i=n[r];a&&e.setChildData(a,{boundingBox:i})})}},t.prototype.computeInitialStyles=function(e){if(e.appearing)return this.props.appearAnimation?this.props.appearAnimation.from:{};if(e.entering)return this.props.enterAnimation?S({position:"",top:"",left:"",right:"",bottom:""},this.props.enterAnimation.from):{};if(e.leaving)return this.props.leaveAnimation?this.props.leaveAnimation.from:{};var t=this.getChildData(O(e)),n=t.domNode,r=t.boundingBox,a=this.parentData.boundingBox;if(!n)return{};var i=C({childDomNode:n,childBoundingBox:r,parentBoundingBox:a,getPosition:this.props.getPosition});return{transform:"translate("+i[0]+"px, "+i[1]+"px)"}},t.prototype.isAnimationDisabled=function(e){return P||e.disableAllAnimations||0===e.duration&&0===e.delay&&0===e.staggerDurationBy&&0===e.staggerDelayBy},t.prototype.findChildByKey=function(e){return h(function(t){return O(t)===e},this.state.children)},t.prototype.hasChildData=function(e){return Object.prototype.hasOwnProperty.call(this.childrenData,e)},t.prototype.getChildData=function(e){return this.hasChildData(e)?this.childrenData[e]:{}},t.prototype.setChildData=function(e,t){this.childrenData[e]=S({},this.getChildData(e),t)},t.prototype.removeChildData=function(e){delete this.childrenData[e],this.setState(function(t){return S({},t,{children:t.children.filter(function(t){return t.element.key!==e})})})},t.prototype.createHeightPlaceholder=function(){var e=this,t=this.props.typeName,n="ul"===t||"ol"===t?"li":"div";return Object(r.createElement)(n,{key:"height-placeholder",ref:function(t){e.heightPlaceholderData.domNode=t},style:{visibility:"hidden",height:0}})},t.prototype.childrenWithRefs=function(){var e=this;return this.state.children.map(function(t){return Object(r.cloneElement)(t.element,{ref:function(n){if(n){var r=function(e){if("undefined"==typeof HTMLElement)return null;if(e instanceof HTMLElement)return e;var t=Object(i.findDOMNode)(e);return t&&t.nodeType===Node.TEXT_NODE?null:t}(n);e.setChildData(O(t),{domNode:r})}}})})},t.prototype.render=function(){var e=this,t=this.props,n=t.typeName,a=t.delegated,i=t.leaveAnimation,o=t.maintainContainerHeight,s=this.childrenWithRefs();if(i&&o&&s.push(this.createHeightPlaceholder()),!n)return s;var l=S({},a,{children:s,ref:function(t){e.parentData.domNode=t}});return Object(r.createElement)(n,l)},t}(r.Component));t.a=I},function(e,t,n){"use strict";var r={};n.d(r,"Dialog",function(){return y.a}),n.d(r,"ConfirmDialog",function(){return k}),n.d(r,"AdjustPosMarginDialog",function(){return L}),n.d(r,"AdjustRiskLimitDialog",function(){return H}),n.d(r,"AmendWouldMatchDialog",function(){return G}),n.d(r,"CloseLimitDialog",function(){return ee}),n.d(r,"CloseMarketDialog",function(){return ie}),n.d(r,"CloseOnTriggerProtectionDialog",function(){return ce}),n.d(r,"DeleteAPIKeyDialog",function(){return de}),n.d(r,"DisplayLiquidationsDialog",function(){return fe}),n.d(r,"FatFingerOrderDialog",function(){return we}),n.d(r,"SpamOrderDialog",function(){return ke}),n.d(r,"SubmitOrderDialog",function(){return Be}),n.d(r,"WebSocketNotSupportedDialog",function(){return Ue});var a=n(6),i=n.n(a),o=n(20),s=n.n(o),l=n(0),c=n.n(l),u=n(1),d=n.n(u),p=n(2),m=n.n(p),f=n(3),h=n(4),g=n(8),y=n(145),b=n(5),v=n.n(b),E=n(16),w=n(7),M=f.createElement(E.a,{className:"dontShowAgain",text:f.createElement(w.FormattedMessage,{id:"dialog.isPhoneTooltip",description:"Tooltip for message on dialog indicating user is on a mobile device",defaultMessage:"This message was shown because you seem to be on a mobile device, where touch mistakes are more common.\n\nFor this reason, we always show confirmation dialogs on these devices."})},f.createElement(w.FormattedMessage,{id:"dialog.isPhone",description:"Message telling user this dialog will always be shown because they're on a mobile device.",defaultMessage:"Why am I seeing this?"})),S=f.createElement(w.FormattedMessage,{id:"dialog.dontShowAgain",description:"Label for checkbox indicating desire to not show this dialog again",defaultMessage:"Don't Show Again"}),x=f.createElement("div",{className:"clearfix"}),k=function(e){function t(){var n,r,a;c()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=d()(this,e.call.apply(e,[this].concat(o))),r.state={dontShowAgain:!1},r.onCancel=function(e){var t=r.props.onCancel(e)||{};r.props.actions.dialogCancel({callbackData:t,id:r.props.id})},r.onConfirm=function(e){var t=r.props.onConfirm(e)||{};r.props.actions.dialogConfirm({callbackData:t,id:r.props.id,dontShowAgain:r.state.dontShowAgain})},a=n,d()(r,a)}return m()(t,e),t.prototype.getDontShowAgain=function(){return!this.props.dialogKey||this.props.dontShowAgainDisabled?null:this.props.isPhone?M:f.createElement("div",{className:"checkbox dontShowAgain"},f.createElement("label",null,f.createElement("input",i()({type:"checkbox",name:"dontShowAgain"},this.linkState("dontShowAgain"))),S))},t.prototype.render=function(){return f.createElement(y.a,i()({},this.props,{onCancel:this.onCancel,onConfirm:this.onConfirm}),f.createElement("div",{className:"bodyText"},this.props.body),this.getDontShowAgain(),x)},t}(h.a);k.displayName="ConfirmDialog",k.defaultProps={confirmDisabled:!1,onCancel:function(e){},onConfirm:function(e){},dontShowAgainDisabled:!1,isPhone:!1,showCancel:!0};var T=n(244),C=n(48),N=n(9),P=n(10),O=f.createElement(E.a,{text:f.createElement(w.FormattedMessage,{id:"adjustPosMarginDialog.tooltip.unrealisedProfit",defaultMessage:"You may remove unused added margin from the position, but unrealised profit is not removable.",description:"Tooltip text instructing user unrealised profit can not be removed"})},f.createElement(w.FormattedMessage,{id:"adjustPosMarginDialog.maxRemovable",defaultMessage:"Max Removable",description:"Text instructing user how much margin is available to be removed"})),F=f.createElement("hr",null),I=f.createElement(w.FormattedMessage,{id:"adjustPosMarginDialog.title.dialog",defaultMessage:"Add/Remove Position Margin",description:"Dialog title text for dialog that allows user to add or remove margin for a given position"}),L=function(e){function t(){var n,r,a;c()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=d()(this,e.call.apply(e,[this].concat(o))),r.state={adding:!0,margin:Number(P.e(1e4,r.context.activeCurrency,"XBt")),valid:!0},r.onAvailableClick=function(e){var t=r.props,n=t.margin,a=t.position,i=r.state.adding?n.withdrawableMargin:a.posWithdrawable;r.setState({margin:Number(P.e(i,r.context.activeCurrency,"XBt")),valid:!0})},r.onChangeAddRemove=function(e){e.target instanceof window.HTMLInputElement&&r.setState({adding:"true"===e.target.value})},r.onConfirm=function(e){var t=parseFloat(P.e(r.state.margin,"XBt",r.context.activeCurrency));return{amount:r.state.adding?t:-t}},r.onMarginChange=function(e){r.setState({margin:e})},r.onValidityChange=function(e){r.setState({valid:e})},a=n,d()(r,a)}return m()(t,e),t.prototype.componentDidMount=function(){var e=this.input&&this.input.input;e instanceof HTMLInputElement&&e.focus()},t.prototype.getBody=function(){var e=this,t=this.props,n=t.margin,r=t.position,a=this.context,i=a.activeCurrency,o=a.timezoneOffset,s=this.context.intl.formatMessage,l=this.state.adding,c=l?n.withdrawableMargin:r.posWithdrawable;return c=Number(P.e(c,i,"XBt")),f.createElement("div",{className:"form form-inline"},f.createElement(T.a,{onChange:this.onChangeAddRemove,name:"addRemove",value:String(this.state.adding)},f.createElement("input",{type:"radio",value:"true",label:s(N.a["Add Margin"].props)}),f.createElement("input",{type:"radio",value:"false",label:s(N.a["Remove Margin"].props)})),f.createElement("div",{className:"posDetails v-offset-xs-1"},f.createElement("div",null,f.createElement(w.FormattedMessage,{id:"adjustPosMarginDialog.div.currentPosition",defaultMessage:"Your current position: {quantityBold} {quantity, plural, one {Contract} other {Contracts}} ({effectiveLeverage})",description:"Text instructing user amount of currently assigned margin",values:{quantityBold:f.createElement("b",null,r.currentQty),quantity:r.currentQty,effectiveLeverage:r.getDisplayField("effectiveLeverage",{activeCurrency:i,timezoneOffset:o})}})),f.createElement("div",null,f.createElement(w.FormattedMessage,{id:"adjustPosMarginDialog.div.currentlyAssignedMargin",defaultMessage:"Currently assigned margin: {assignedMargin}",description:"Text instructing user amount of currently assigned margin",values:{assignedMargin:f.createElement("b",null,P.g(r.assignedMargin,i))}})),l?f.createElement("div",{onClick:this.onAvailableClick,className:"linkify"},f.createElement(w.FormattedMessage,{id:"adjustPosMarginDialog.div.availableMargin",defaultMessage:"Available Margin: {availableMargin}.",description:"Text instructing user how much available margin they have to add to a given position",values:{availableMargin:f.createElement("b",null,P.g(n.withdrawableMargin,i))}})):f.createElement("div",{onClick:this.onAvailableClick,className:"linkify"},O,":Â ",f.createElement("b",null,P.g(r.posWithdrawable,i)),"."),F,f.createElement("h4",null,l?N.a["Add Margin"]:N.a["Remove Margin"]),f.createElement("div",{className:"input-group"},f.createElement(C.a,{ref:function(t){return e.input=t},allowDecimal:!0,allowNegative:!1,allowZero:!1,onValidityChange:this.onValidityChange,onChange:this.onMarginChange,placeholder:s(N.a["Margin Amount"].props),required:!0,step:1/Math.pow(10,P.d[i].tickLog),max:c,value:this.state.margin,name:"margin"}),f.createElement("span",{className:"input-group-addon"},i))))},t.prototype.render=function(){return f.createElement(k,i()({},this.props,{title:I,body:this.getBody(),cancelText:N.a.Cancel,confirmText:this.state.adding?N.a["Add Margin"]:N.a["Remove Margin"],onConfirm:this.onConfirm,confirmDisabled:!this.state.valid}))},t}(h.a);L.displayName="AdjustPosMarginDialog";var A=n(236),D=n(49),B=Object(w.defineMessages)({riskLimitsDocumentation:{id:"adjustRiskLimitDialog.url.riskLimitsDocumentation",defaultMessage:"Risk Limits Documentation",description:"Url text for risk limits documentation page"}}),_=f.createElement("hr",null),R=f.createElement("h4",null,f.createElement(w.FormattedMessage,{id:"adjustRiskLimitDialog.header.changeRiskLimit",defaultMessage:"Change Risk Limit (XBT)",description:"Header text for the scale to adjust risk limit"})),j=f.createElement(w.FormattedMessage,{id:"adjustRiskLimitDialog.confirm.selectNewLimit",defaultMessage:"Please Select New Limit",description:"Confirmation text instructing user to select new limit"}),U=function(e){function t(){var n,r,a;c()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=d()(this,e.call.apply(e,[this].concat(o))),r.state={newRiskLimit:r.props.position.riskLimit||r.props.instrument.riskLimit,valid:!1},r.riskLimitTooltipFormatter=function(e){var t=r.generateMarks().marks;return Object(P.c)(1e8*t[e])},r.onConfirm=function(e){var t={riskLimit:r.state.newRiskLimit,symbol:r.props.symbol};r.props.actions.positionSetRiskLimit(t)},r.onRiskLimitChange=function(e){var t=r.generateMarks(),n=t.marks,a=t.markMult,i=n[e]*a;r.setState({newRiskLimit:i,valid:i!==r.getRiskLimit()})},a=n,d()(r,a)}return m()(t,e),t.prototype.generateMarks=function(){for(var e=this.props.instrument,t=e.riskStep,n=e.riskLimit,r=this.props.position.riskValue,a=P.d.XBT.multiplier,i=n/a,o=t/a;i<r/a;)i+=o;return{marks:v.a.zipObject(v.a.range(0,10),v.a.range(i,11*i,o)),markStart:i,markInterval:o,markEnd:10,markMult:a}},t.prototype.getBody=function(){var e=this.props,t=e.error,n=e.instrument,r=e.symbol,a=this.state.newRiskLimit,i=this.context,o=i.activeCurrency,s=i.timezoneOffset,l=this.context.intl.formatMessage,c=this.generateMarks(),u=c.marks,d=c.markStart,p=c.markInterval,m=c.markEnd,h=this.getRiskLimit(),g=this.getStepDelta(h,n.riskLimit),y=Object(P.i)(100*n.maintMargin+g,.01),b=Object(P.i)(100*n.initMargin+g,.01),v=this.getStepDelta(a,h),E=[["",N.a["Risk Limit"],N.a["Maintenance Margin"],N.a["Initial Margin"]],[N.a.Current,Object(P.c)(h),y+"%",b+"%"],[N.a.New,Object(P.c)(a),y+v+"%",b+v+"%"]];return f.createElement("div",{className:"form form-inline"},f.createElement("div",{className:"posDetails v-offset-xs-1"},t?f.createElement("div",{className:"alert alert-warning"},t):null,f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"adjustRiskLimitDialog.paragraph.slidingScaleExplanation",defaultMessage:"BitMEX employs a sliding-scale Risk Limit function. In {symbol}, the base risk limit is {riskLimit}.\nFor every {riskStep} increase in position size, the maintenance & initial margin requirements rise by {maintMargin}.",description:"Text describing BitMEX's sliding-scale risk limit function",values:{symbol:r,riskLimit:Object(P.c)(n.riskLimit)||"",riskStep:f.createElement("b",null,Object(P.c)(n.riskStep)||""),maintMargin:f.createElement("b",null,n.getDisplayField("maintMargin",{activeCurrency:o,timezoneOffset:s})||"")}})),f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"adjustRiskLimitDialog.paragraph.riskLimitDocumentation",defaultMessage:"Please view the {riskLimitUrl} for more information.",description:"Text and url to read more information on risk limits",values:{riskLimitUrl:f.createElement("a",{href:"/app/riskLimits"},l(B.riskLimitsDocumentation))}})),_,R,f.createElement(A.a,{defaultValue:(h/1e8-d)/p,min:0,max:m-1,className:"riskLimitSlider well well-dark",marks:u,onChange:this.onRiskLimitChange,tipFormatter:this.riskLimitTooltipFormatter}),f.createElement(D.a,{data:E})))},t.prototype.getRiskLimit=function(){var e=this.props,t=e.instrument;return e.position.riskLimit||t.riskLimit},t.prototype.getStepDelta=function(e,t){var n=this.props.instrument,r=n.maintMargin,a=n.riskStep;return Object(P.i)((e-t)/a*r*100,.01)},t.prototype.render=function(){var e=this.props.symbol,t=this.state,n=t.newRiskLimit,r=t.valid;return f.createElement(k,i()({},this.props,{className:"adjustRiskLimitDialog",title:f.createElement(w.FormattedMessage,{id:"adjustRiskLimitDialog.title.dialog",defaultMessage:"Adjust {symbol} Risk Limit",description:"Title text for confirmation of adjusting risk limit dialog",values:{symbol:e}}),body:this.getBody(),onConfirm:this.onConfirm,cancelText:N.a.Cancel,confirmText:r?f.createElement(w.FormattedMessage,{id:"adjustRiskLimitDialog.confirm.newLimit",defaultMessage:"Confirm New {newRiskLimit} Limit",description:"Confirmation text displaying the confirming new risk limit",values:{newRiskLimit:Object(P.c)(n)}}):j,confirmDisabled:!r}))},t}(h.a);U.displayName="AdjustRiskLimitDialog";var H=Object(g.a)(function(e,t){var n=e.commission,r=e.instruments,a=e.positions,i=t.symbol,o=r.getOrCreate(i);return{instrument:o,position:a.getOrCreate(i,n,o)}})(U),q=n(35),W=n.n(q),V=f.createElement("br",null),z=f.createElement("br",null),K=f.createElement(w.FormattedMessage,{id:"amendWouldMatchDialog.title",defaultMessage:"Warning: Order Amend May Execute",description:"Dialog title text for amend would match dialog"}),Q=f.createElement(w.FormattedMessage,{id:"amendWouldMatchDialog.confirm",defaultMessage:"Execute Amend",description:"Dialog confirm text for amend would match dialog"}),G=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.body=function(e,t){var n=void 0;if("number"==typeof t.price)n=f.createElement(w.FormattedMessage,{id:"amendWouldMatchDialog.explanation",defaultMessage:"Amending this order to a price of {price} may cause it to execute against orders in the market.{newLine} Please confirm your intention.",description:"Header text asking user if the order was intentional",values:{price:P.t(t.price,e.tickSize),newLine:V}});else{var r=W()(t.stopPx)?t.stopPx:t.pegOffsetValue;n=f.createElement(w.FormattedMessage,{id:"amendWouldMatchDialog.explanation.stop",defaultMessage:"Amending your stop to {price} may cause it to immediately trigger.{newLine} Please confirm your intention.",description:"Header text asking user if the order was intentional",values:{price:P.t(r,e.tickSize),newLine:z}})}return f.createElement("div",null,f.createElement("p",null,n))},t.prototype.render=function(){var e=this.props,t=e.oldOrder,n=e.payload;return f.createElement(k,i()({},this.props,{title:K,body:this.body(t,n),cancelText:N.a.Cancel,confirmText:Q}))},t}(h.a);G.displayName="AmendWouldMatchDialog";var X=n(44),Y=f.createElement(w.FormattedMessage,{id:"closeLimitDialog.buyLimitClose",defaultMessage:"Buy Limit Close",description:"Header text for buy limit close"}),J=f.createElement(w.FormattedMessage,{id:"closeLimitDialog.sellLimitClose",defaultMessage:"Sell Limit Close",description:"Header text for sell limit close"}),Z=f.createElement(w.FormattedMessage,{id:"closeLimitDialog.title",defaultMessage:"Limit Close This Position?",description:"Title text for close limit dialog"}),$=f.createElement(w.FormattedMessage,{id:"closeLimitDialog.confirmText",defaultMessage:"Limit Close Position",description:"Confirm text for close limit dialog"}),ee=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.body=function(){var e=this.props,t=e.position,n=e.price,r=t.currentQty>0?"Sell":"Buy",a=new X.a({symbol:t.symbol,orderQty:-t.currentQty,price:n}).getDescriptionMessage(!0),i="Buy"===r?"pricePos":"priceNeg",o=f.createElement("span",null,f.createElement("span",{className:i},"Buy"===r?N.a.Buy:N.a.Sell),a);return f.createElement("div",null,f.createElement("h3",{className:"underlined strong "+i},f.createElement("b",null,"Buy"===r?Y:J)),f.createElement("p",{className:"lead"},o),f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"closeLimitDialog.body",defaultMessage:"When executed, this will close your entire position.",description:"Text explaining limit close position",values:{symbol:t.symbol}})))},t.prototype.render=function(){return f.createElement(k,i()({},this.props,{title:Z,body:this.body(),cancelText:N.a.Cancel,confirmText:$}))},t}(h.a);ee.displayName="CloseLimitDialog";var te=f.createElement(w.FormattedMessage,{id:"closeMarketDialog.buyMarketClose",defaultMessage:"Buy Market Close",description:"Header text for buy market close"}),ne=f.createElement(w.FormattedMessage,{id:"closeMarketDialog.sellMarketClose",defaultMessage:"Sell Market Close",description:"Header text for sell market close"}),re=f.createElement(w.FormattedMessage,{id:"closeMarketDialog.title",defaultMessage:"Market Close This Position?",description:"Title text for close market dialog"}),ae=f.createElement(w.FormattedMessage,{id:"closeMarketDialog.confirmText",defaultMessage:"Market Close Position",description:"Confirm text for close market dialog"}),ie=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.body=function(){var e=this.props.position,t=e.currentQty>0?"Sell":"Buy",n=new X.a({symbol:e.symbol,orderQty:-e.currentQty,ordType:"Market"}).getDescriptionMessage(!0),r="Buy"===t?"pricePos":"priceNeg",a=f.createElement("span",null,f.createElement("span",{className:r},"Buy"===t?N.a.Buy:N.a.Sell),n);return f.createElement("div",null,f.createElement("h3",{className:"underlined strong "+r},f.createElement("b",null,"Buy"===t?te:ne)),f.createElement("p",{className:"lead"},a),f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"closeMarketDialog.body",defaultMessage:"This will close your entire position at the available market price.",description:"Text explaining market close position",values:{symbol:e.symbol}})))},t.prototype.render=function(){return f.createElement(k,i()({},this.props,{title:re,body:this.body(),cancelText:N.a.Cancel,confirmText:ae}))},t}(h.a);ie.displayName="CloseMarketDialog";var oe=f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"closeOnTriggerProtectionDialog.confirmAction",defaultMessage:"If this is intentional, please confirm this action.",description:"Text instructing user to confirm the action if it was intentional"})),se=f.createElement(w.FormattedMessage,{id:"closeOnTriggerProtectionDialog.title",defaultMessage:"Warning: Stop May Not Trigger",description:"Dialog title text for close on trigger protection"}),le=f.createElement(w.FormattedMessage,{id:"closeOnTriggerProtectionDialog.confirm",defaultMessage:"Place Stop",description:"Dialog body text for close on trigger protection"}),ce=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.body=function(e,t){var n=t.currentQty,r=n+e.rawQty;return f.createElement("div",null,f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"closeOnTriggerProtectionDialog.deepOrder",defaultMessage:'This Stop Order would increase your position from {currentQty, number} to {newQty, number} contracts on execution, but you have "Close On Trigger" selected. This option is intended for close orders only. If you proceed, this stop may automatically cancel upon triggering. ',description:"Header text asking user if the order was intentional",values:{currentQty:n,newQty:r}})),oe)},t.prototype.render=function(){var e=this.props,t=e.order,n=e.position;return f.createElement(k,i()({},this.props,{title:se,body:this.body(t,n),cancelText:N.a.Cancel,confirmText:le}))},t}(h.a);ce.displayName="CloseOnTriggerProtectionDialog";var ue=f.createElement(w.FormattedMessage,{id:"deleteAPIKeyDialog.title",defaultMessage:"Delete API Key?",description:"Dialog title text for deleting an api key"}),de=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.render=function(){var e=this.props.apiKey,t=ue,n=f.createElement(w.FormattedMessage,{id:"deleteAPIKeyDialog.body",defaultMessage:"This will permanently delete this API Key.\n\nDetails: \nName: {keyName}\nID: {keyId}",description:"Dialog body text for deleting an api key",values:{keyName:e.name,keyId:e.id}});return f.createElement(k,i()({},this.props,{title:t,body:n}))},t}(h.a);de.displayName="DeleteAPIKeyDialog";var pe=f.createElement(w.FormattedMessage,{id:"displayLiquidationsOnChart.title",defaultMessage:"Note on Liquidations",description:"Dialog title text outlining liquidation chart behavior"}),me=f.createElement(w.FormattedMessage,{id:"displayLiquidationsOnChart.body",defaultMessage:"Liquidation events from now on will appear on the chart. Historic liquidation data will not be shown.",description:"Body text outlining liquidation chart behavior"}),fe=function(e){function t(){var n,r,a;c()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=d()(this,e.call.apply(e,[this].concat(o))),r.onDismiss=function(){r.props.actions.dialogCancel({callbackData:{},id:r.props.id})},a=n,d()(r,a)}return m()(t,e),t.prototype.render=function(){var e=pe;return f.createElement(y.a,i()({},this.props,{title:e,showCancel:!1,confirmText:N.a.OK,onConfirm:this.onDismiss,onCancel:function(){return null}}),me)},t}(h.a);fe.displayName="DisplayLiquidationsDialog";var he=f.createElement("h2",{className:"underlined"},f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.intentionalOrder",defaultMessage:"Did you intend to place this order?",description:"Header text asking user if the order was intentional"})),ge=f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.deepOrder",defaultMessage:"This order's submitted price places it deep into the market, where it could execute immediately.",description:"Header text asking user if the order was intentional"})),ye=f.createElement("br",null),be=f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.confirmAction",defaultMessage:"If this is intentional, please confirm this action.",description:"Text instructing user to confirm the action if it was intentional"})),ve=f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.title",defaultMessage:"Warning: Immediate Deep Execution Likely",description:"Dialog title text for fat finger protection"}),Ee=f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.confirm",defaultMessage:"Execute Order",description:"Dialog body text for fat finger protection"}),we=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.body=function(){var e=this.props,t=e.order,n=e.outOfBandIndicator,r=t.getInstrument(),a=t.getPosition(),i=r.impactBidPrice,o=r.impactAskPrice,s=r.markPrice,l=t.isBuy,c=Math.abs(t.orderQty);!c&&t.isClose&&(c=Math.abs(a.currentQty));var u=void 0;if("price"===n){var d=l?o:i,p=P.t(Math.abs(t.price-d),t.tickSize),m=Number(p)/d;u=f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.bestPrice",defaultMessage:"At this time, the best {isBuy, select, true {ask} other {bid}} is {bestPriceRed}, placing your order {delta} ({deltaPercent, number, percent}) {isBuy, select, true {above} other {below}} it.",description:"Text informing user of the difference between the price they specified, and the best price",values:{isBuy:l,bestPriceRed:f.createElement("b",{className:"color-dark-red"},d),delta:p,deltaPercent:m}})}else{var h=P.t(Math.abs(t.price-s),t.tickSize),g=Number(h)/s;u=f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.bestPriceMark",defaultMessage:"At this time, the mark price is {markPrice}, placing your order {delta} ({deltaPercent, number, percent}) outside it.",description:"Text informing user of the difference between the price they specified, and the best price",values:{markPrice:f.createElement("b",{className:"color-dark-red"},s),delta:h,deltaPercent:g}})}return f.createElement("div",null,he,ge,f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"fatFingerOrderDialog.orderConfirmation",defaultMessage:"You submitted a {isBuy, select, true {buy} other {sell}} order for {quantity, number} {quantity, plural, one {contract} other {contracts}} at {orderPriceBold}.",description:"Text summarizing the action that was possibly fat fingered",values:{isBuy:l,quantity:c,orderPriceBold:f.createElement("b",null,t.price)}}),ye),u?f.createElement("p",null,u):null,be)},t.prototype.render=function(){return f.createElement(k,i()({},this.props,{title:ve,body:this.body(),cancelText:N.a.Cancel,confirmText:Ee}))},t}(h.a);we.displayName="FatFingerOrderDialog";var Me=f.createElement(w.FormattedMessage,{id:"spamOrderDialog.title",defaultMessage:"Warning: Your Account Has Been Marked As Spam",description:"Dialog title text for spam dialog"}),Se=f.createElement("a",{href:"/app/restAPI#Order-Minimum-Size-Limits"},f.createElement(w.FormattedMessage,{id:"spamOrderDialog.link",defaultMessage:"Spam Account Warning",description:"Anchor text to link for spam accounts"})),xe=f.createElement(w.FormattedMessage,{id:"spamOrderDialog.confirm",defaultMessage:"Okay, I understand.",description:"Dialog confirm text for spam dialog"}),ke=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.render=function(){return f.createElement(k,i()({},this.props,{title:Me,showCancel:!1,body:f.createElement(w.FormattedMessage,{id:"spamOrderDialog.body",defaultMessage:"Your account has been marked as a 'Spam Account', a designation given to accounts that submit many small orders in succession. Please see the {spamBlogLink} for more information on spam accounts. \n\nNote that continued spamming of the orderbook or trade feed may lead to a temporary account suspension.",description:"Dialog body text for spam dialog",values:{spamBlogLink:Se}}),cancelText:"",confirmText:xe}))},t}(h.a);ke.displayName="SpamOrderDialog";n(80);var Te=n(234),Ce=n(235),Ne=n(85),Pe=Object(w.defineMessages)({orderValue:{id:"submitOrderDialog.label.orderValue",defaultMessage:"Order Value",description:"Label text for the value of an order"},cost:{id:"submitOrderDialog.label.cost",defaultMessage:"Cost @ {leverage, number, multiplier}x",description:"Label text for cost"},resultingPosition:{id:"submitOrderDialog.label.resultingPosition",defaultMessage:"Position Size After Execution",description:"Label text for the result of a position"},estLiquidationPrice:{id:"submitOrderDialog.label.estLiquidationPrice",defaultMessage:"Estimated Liquidation Price",description:"Label text for the estimated liquidation price of a position"},markPrice:{id:"submitOrderDialog.label.markPrice",defaultMessage:"Mark Price",description:"Label text for the mark price"},markLiqDiff:{id:"submitOrderDialog.label.markLiqDiff",defaultMessage:"Mark Price/Est. Liquidation Difference",description:"Label text for the difference between mark price and estimated liquidation price"}}),Oe=f.createElement(w.FormattedMessage,{id:"submitOrderDialog.crossMargin",description:"Describing Cross Margin",defaultMessage:"This uses your full account equity to back the position."}),Fe=f.createElement(w.FormattedMessage,{id:"submitOrderDialog.noCloseNote",defaultMessage:"This Stop order does not have the 'Close on Trigger' instruction.\nIt is possible for this order to open or increase a position, and if other orders consume the Available Balance at the time this Stop triggers, it will not execute.\nIf you did not expect this, please go back and choose 'Close on Trigger'.",description:"Order dialog header text explaining the dangers of not using 'Close'"}),Ie=f.createElement(w.FormattedMessage,{id:"submitOrderDialog.title.confirm",defaultMessage:"Confirm Your Order",description:"Title text for order submit dialog"}),Le=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.body=function(e){var t=this.props,n=t.margin,r=t.instrument,a=t.position,i=this.context.intl.formatMessage,o=this.context.activeCurrency,s=e.isBuy,l=e.rawQty,c=e.price;e.isMarket&&(c=(s?r.askPrice:r.bidPrice)||r.markPrice||r.tickSize);var u=e.newWithProps({price:c}),d=Math.ceil(u.getMarginRequirement(l)),p=n.getOrCreate(r.settlCurrency).excessMargin,m=a.currentQty+l,h=a.leverage||r.initialLeverage,g=r.capped?N.a.Cost:i(Pe.cost,{leverage:h}),y=[[i(Pe.orderValue),Object(P.g)(u.grossValue,o)],[g,Object(P.g)(d,o)],[N.a["Available Balance"],Object(P.g)(p,o)],[i(Pe.resultingPosition),""+m]];if(!r.capped){var b=u.getLiquidationPrice(),E=r.markPrice,M=r.tickSize,S="number"==typeof b?Object(P.t)(Math.abs(b-E),M):"---",x="number"==typeof b&&"number"==typeof E?(b/E*100-100)*Object(P.s)(m)*-1:0;y=y.concat([[i(Pe.markPrice),De(E,M)],[i(Pe.estLiquidationPrice),De(b,M)],[i(Pe.markLiqDiff),f.createElement(f.Fragment,null,f.createElement(Ae,{value:x})," ("+S+")")]])}var k=u.getDescriptionMessage(!0),T=s?"pricePos":"priceNeg",C=f.createElement("span",null,f.createElement("span",{className:T},s?N.a.Buy:N.a.Sell),k);return f.createElement("div",null,f.createElement("h3",{className:"underlined strong "+T},f.createElement("b",null,s?N.a.Buy:N.a.Sell,"Â ",Ne.a[u.ordType]?Ne.a[u.ordType]:u.ordType)),f.createElement("p",{className:"lead"},C),r.taxed&&!r.capped?f.createElement("div",{className:"fullPositionStatus well well-dark"},f.createElement("h4",{className:"underlined"},f.createElement(w.FormattedMessage,{id:"submitOrderDialog.header.position",defaultMessage:"Your Position: {symbol}",description:"Order dialog header text confirming the users position",values:{symbol:r.symbol}})),f.createElement(Te.a,{instrument:r,position:a}),r.taxed?f.createElement(Ce.a,{instrument:r,position:a}):null,0===a.currentQty?f.createElement("div",null,f.createElement(w.FormattedMessage,{id:"submitOrderDialog.openInMode",description:"Selection of margining mode",defaultMessage:"This position will be opened in {marginMode} mode.",values:{marginMode:a.crossMargin?f.createElement("b",null,N.a["Cross Margin"]):f.createElement("b",null,N.a["Isolated Margin"])}}),f.createElement("div",null,a.crossMargin?Oe:f.createElement(w.FormattedMessage,{id:"submitOrderDialog.isolatedMargin",description:"Describing Isolated Margin",defaultMessage:"Isolated Margin will use your selected margin preference ({leverage, number}x).\nThis will limit your loss. Watch your liquidation price carefully.",values:{leverage:h}}))):null):null,f.createElement(D.a,{data:y}),u.isStop?f.createElement("div",{className:"alert alert-info v-offset-1"},f.createElement("b",null,N.a.Note,": "),v.a.includes(u.execInst,"Close")?f.createElement(w.FormattedMessage,{id:"submitOrderDialog.closeNote",defaultMessage:"This Stop order is being submitted with the 'Close on Trigger' instruction.\nClose orders can only reduce your position, not increase it. If the account has insufficient Available Balance when the Close order is triggered, then other {symbol} orders will be canceled or amended down. This is desired behavior to ensure your stop will trigger as expected.",description:"Order dialog header text explaining how 'Close' works",values:{symbol:r.symbol}}):Fe):null)},t.prototype.render=function(){var e=this.props.order;return f.createElement(k,i()({},this.props,{title:Ie,body:this.body(e),cancelText:N.a.Cancel,confirmText:e.isBuy?N.a.Buy:N.a.Sell}))},t}(h.a);Le.displayName="SubmitOrderDialog";var Ae=function(e){var t=e.value,n=e.toFixed;if(0===t)return"---";var r=t>=75?"highMarkLiqDif":t>=50?"medHighMarkLiqDif":t>=25?"medLowMarkLiqDif":"lowMarkLiqDif";return f.createElement("span",{className:r},t.toFixed(n||2)+"%")};function De(e,t){return"number"!=typeof e?"---":Object(P.t)(e,t)}var Be=Object(g.a)(function(e,t){var n=e.actions,r=e.instruments,a=e.margin,i=e.positions,o=t.order.symbol,s=r.getOrCreate(o);return{actions:n,instrument:s,margin:a,position:i.getOrCreate(o,e.me.commission,s)}})(Le),_e=f.createElement("div",null,f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"WebSocketNotSupportedDialog.oldBrowser",defaultMessage:"It appears you're accessing BitMEX with a very old browser.",description:"Paragraph text informing user their browser is outdated"})),f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"WebSocketNotSupportedDialog.bitmexRequirements",defaultMessage:"BitMEX is a real-time application that relies on very fast trade and book data in order to function properly. Unfortunately, we cannot support this browser because it cannot properly support pushes from our trading engine.",description:"Paragraph text explaining why websockets are required"})),f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"WebSocketNotSupportedDialog.degradedMode",defaultMessage:"BitMEX will run in a very degraded mode if you continue, and you will not receive order confirmations or market data.",description:"Paragraph text explaining lack of important features due to outdated browser"})),f.createElement("p",null,f.createElement("b",null,f.createElement(w.FormattedMessage,{id:"WebSocketNotSupportedDialog.doNotTrade",defaultMessage:"Do not trade on BitMEX with this device.",description:"Paragraph text informing user to not trade due to outdated browser"}))),f.createElement("p",null,f.createElement(w.FormattedMessage,{id:"WebSocketNotSupportedDialog.update",defaultMessage:"Please download a modern browser to continue.",description:"Paragraph text informing user to update browser"}))),Re=f.createElement(w.FormattedMessage,{id:"WebSocketNotSupportedDialog.title.notSupported",defaultMessage:"WebSockets Not Supported",description:"Dialog title text for websockets not being supported"}),je=f.createElement(w.FormattedMessage,{id:"WebSocketNotSupportedDialog.confirm.update",defaultMessage:"I understand, I will download a new browser.",description:"Dialog confirmation text confirming user understands they need to update browser"}),Ue=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.body=function(){return _e},t.prototype.render=function(){return f.createElement(k,i()({},this.props,{title:Re,body:this.body(),showCancel:!1,confirmText:je}))},t}(h.a);Ue.displayName="WebSocketNotSupportedDialog";var He=function(e){function t(){return c()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.render=function(){var e=this.props,t=e.dialogs,n=s()(e,["dialogs"]);return t.length?f.createElement("span",null,t.map(function(e){var t=r[e.component];if(!t)throw new Error("Unknown dialog name: "+e.component);return f.createElement(t,i()({},n,e.props,{key:e.id}))})):null},t}(h.a);He.displayName="DialogContainer",He.SCUDeep=!0;t.a=Object(g.a)(function(e){return{actions:e.actions,dialogs:e.dialogs,isPhone:e.isPhone}})(He)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(14)),i=c(n(3)),o=c(n(246)),s=n(247),l=n(459);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r({},o.default.propTypes,{classNames:s.classNamesShape,onEnter:a.func,onEntering:a.func,onEntered:a.func,onExit:a.func,onExiting:a.func,onExited:a.func});var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=u(this,e.call.apply(e,[this].concat(i))),r.onEnter=function(e,t){var n=r.getClassNames(t?"appear":"enter").className;r.removeClasses(e,"exit"),(0,l.addClass)(e,n),r.props.onEnter&&r.props.onEnter(e)},r.onEntering=function(e,t){var n=r.getClassNames(t?"appear":"enter").activeClassName;(0,l.addClass)(e,n),r.props.onEntering&&r.props.onEntering(e)},r.onEntered=function(e,t){r.removeClasses(e,t?"appear":"enter"),r.props.onEntered&&r.props.onEntered(e)},r.onExit=function(e){var t=r.getClassNames("exit").className;r.removeClasses(e,"appear"),r.removeClasses(e,"enter"),(0,l.addClass)(e,t),r.props.onExit&&r.props.onExit(e)},r.onExiting=function(e){var t=r.getClassNames("exit").activeClassName;(0,l.addClass)(e,t),r.props.onExiting&&r.props.onExiting(e)},r.onExited=function(e){r.removeClasses(e,"exit"),r.props.onExited&&r.props.onExited(e)},r.getClassNames=function(e){var t=r.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active"}},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,a=n.activeClassName;r&&(0,l.removeClass)(e,r),a&&(0,l.removeClass)(e,a)},t.prototype.render=function(){var e=r({},this.props);return delete e.classNames,i.default.createElement(o.default,r({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.default.Component);d.propTypes={},t.default=d,e.exports=t.default},function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.addClass=function(e,t){l(e,t,a.default)},t.removeClass=function(e,t){l(e,t,i.default)};var r=o(n(142)),a=o(n(460)),i=o(n(462));function o(e){return e&&e.__esModule?e:{default:e}}var s=void 0;function l(t,a,i){if("string"==typeof a){var o=function(){a.split(" ").forEach(function(e){return i(t,e)})};if(e.browser&&(s||(s=n(66)()),s.visible()))return void r.default.mutate(o);o()}}}).call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r,a=n(461),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(14)),i=n(3),o=l(i),s=n(464);function l(e){return e&&e.__esModule?e:{default:e}}var c=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},u=(a.default.any,a.default.node,a.default.bool,a.default.bool,a.default.bool,a.default.func,function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return o.handleExited=function(e,t){var n=(0,s.getChildMapping)(o.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),o.setState(function(t){var n=r({},t.children);return delete n[e.key],{children:n}}))},o.state={children:(0,s.getChildMapping)(n.children,function(e){return(0,i.cloneElement)(e,{onExited:o.handleExited.bind(o,e),in:!0,appear:o.getProp(e,"appear"),enter:o.getProp(e,"enter"),exit:o.getProp(e,"exit")})})},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.prototype.getProp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[t]?n[t]:e.props[t]},t.prototype.componentDidMount=function(){this.appeared=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.state.children,r=(0,s.getChildMapping)(e.children),a=(0,s.mergeChildMappings)(n,r);Object.keys(a).forEach(function(o){var s=a[o];if((0,i.isValidElement)(s)){var l=o in n,c=o in r,u=n[o],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(a[o]=(0,i.cloneElement)(s,{onExited:t.handleExited.bind(t,s),in:u.props.in,exit:t.getProp(s,"exit",e),enter:t.getProp(s,"enter",e)})):a[o]=(0,i.cloneElement)(s,{in:!1}):a[o]=(0,i.cloneElement)(s,{onExited:t.handleExited.bind(t,s),in:!0,exit:t.getProp(s,"exit",e),enter:t.getProp(s,"enter",e)})}}),this.setState({children:a})},t.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","childFactory"]),a=this.state.children;return delete r.appear,delete r.enter,delete r.exit,o.default.createElement(t,r,c(a).map(n))},t}(o.default.Component));u.childContextTypes={transitionGroup:a.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}},t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e,t){var n=Object.create(null);e&&r.Children.map(e,function(e){return e}).forEach(function(e){var a;n[e.key]=(a=e,t&&(0,r.isValidElement)(a)?t(a):a)});return n},t.mergeChildMappings=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),a=[];for(var i in e)i in t?a.length&&(r[i]=a,a=[]):a.push(i);var o=void 0,s={};for(var l in t){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];s[r[l][o]]=n(c)}s[l]=n(l)}for(o=0;o<a.length;o++)s[a[o]]=n(a[o]);return s};var r=n(3)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(40),p=n(8),m=n(7),f=n(146),h=n(11),g=n(97),y=n(5),b=n.n(y),v=new RegExp(h.b+"trade(?:/(?:\\w+))?"),E=20,w=c.createElement(m.FormattedMessage,{id:"connectionStatus.reconnectingTitle",defaultMessage:"Reconnecting to BitMEX...",description:"Panel title text informing user app is reconnecting"}),M=c.createElement("a",{href:"mailto:support@bitmex.com"},"support@bitmex.com"),S=c.createElement("h4",null,c.createElement(m.FormattedMessage,{id:"connectionStatus.ratelimited.title",defaultMessage:"It appears you're attempting to connect too often.",description:"Alert message title informing user of connection ratelimit"})),x=c.createElement(c.Fragment,null,c.createElement("br",null),c.createElement("br",null)),k=c.createElement(m.FormattedMessage,{id:"connectionStatus.rateLimited.panelTitle",defaultMessage:"Connection Error",description:"Panel title when showing a connection error"}),T=c.createElement("p",null,c.createElement(m.FormattedMessage,{id:"connectionStatus.trouble",defaultMessage:"We're having some trouble keeping the live datafeed to BitMEX open.",description:"Alert message informing user of connection issues"}),"Â ",c.createElement("a",{href:"/disconnected",target:"_blank",rel:"noopener noreferrer"},c.createElement(m.FormattedMessage,{id:"connectionStatus.wut",defaultMessage:"What is this?",description:"Alert text link to explain to user why the alert is being shown"}))),C=c.createElement("progress",null),N=c.createElement(m.FormattedMessage,{id:"connectionStatus.disconnected",defaultMessage:"Disconnected. Waiting to reconnect...",description:"Alert text informing user that they are disconnected"}),P=c.createElement(m.FormattedMessage,{id:"connectionStatus.reconnecting",defaultMessage:"Reconnecting to the BitMEX real-time stream...",description:"Alert text informing user app is reconnecting"}),O=c.createElement(f.a,{className:"disconnected"}),F=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={dismissed:!1},r.makeMessage=function(e,t){if("connected"===e)return null;var n=void 0,a=w;return"failure"===e?n=c.createElement("p",{className:"pre-wrap"},c.createElement(m.FormattedMessage,{id:"connectionStatus.failure",defaultMessage:"Unfortunately, reconnecting to the BitMEX real-time stream has failed multiple times. Please refresh this page. If you continue to see this message, please email us at {email}.",description:"Alert text informing user that app has failed multiple times and they must refresh",values:{email:M}})):"ratelimited"===e?(n=c.createElement(c.Fragment,null,S,c.createElement("div",null,c.createElement(m.FormattedMessage,{id:"connectionStatus.ratelimited.body",defaultMessage:"BitMEX limits websocket connections to {rate} per hour. If you refresh too often from the same device, or use misbehaved API connectors, you may hit this limit. The limit naturally decays, so please wait a minute and refresh. Your session will resume.{br}If you wish, you may click the close button at the top right and continue to use BitMEX without live data, e.g. to cancel orders. This is not recommended and the interface will not behave well.",description:"Alert message body informing user of connection ratelimit",values:{br:x,rate:E}}))),a=k):n=c.createElement(c.Fragment,null,T,C,c.createElement("div",{className:t+" connect"},"disconnected"===e?N:P)),c.createElement(d.a,{className:"message verticalAlign "+t+"Message largeTitle",key:t,showFullscreen:!1,extraControls:r.makeExtraControls(),title:a},n)},i=n,o()(r,i)}return l()(t,e),t.prototype.makeExtraControls=function(){var e=this;return c.createElement("i",{className:"fa fa-close close",onClick:function(){return e.setState({dismissed:!0})}})},t.prototype.render=function(){var e=b.a.compact(b.a.map(this.props.connectionStatus,this.makeMessage));return!e.length||this.props.options.hideConnectionModal||this.state.dismissed?null:v.test(this.props.currentRoute)?Object(g.a)(c.createElement("div",{className:"connectionStatus"},O,e),"modal-root"):null},t}(u.a);F.displayName="ConnectionStatus",t.a=Object(p.a)(function(e){return{currentRoute:e.currentRoute,connectionStatus:e.connectionStatus,options:e.options}})(F)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(5),d=n.n(u),p=n(8),m=n(95),f=n.n(m),h=n(4),g=n(52),y=n.n(g),b=n(97),v=n(147),E=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onKeyDown=function(e){var t=r.props.children&&r.props.children.props.onClose;t&&27===e.keyCode&&t(e)},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return n?Object(b.a)(c.createElement(f.a,{handle:".nav, .nav *",bounds:"body",onStop:v.b,onStart:v.a},c.createElement("div",{className:t+" popout"},c.createElement(y.a,{onKeyDown:this.onKeyDown,passive:!0}),n)),"modal-root"):null},t}(h.a);E.displayName="Popout";var w=n(26),M=n.n(w),S=n(20),x=n.n(S),k=n(68),T=n(9),C=n(6),N=n.n(C),P=n(38),O=n.n(P),F=n(45),I=n.n(F),L=n(49),A=n(48),D=n(16),B=n(148),_=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.toggled,r=e.onToggle,a=e.switchLabel,i=e.leftLabel,o=e.rightLabel;return c.createElement("div",{className:"labeledSwitch "+(t||"")},a?c.createElement("label",{className:"switchLabel"},a):null,c.createElement("label",{onClick:r,className:"leftLabel "+(n?"":"active")},i),c.createElement(B.a,{checked:n,onChange:r}),c.createElement("label",{onClick:r,className:"rightLabel "+(n?"active":"")},o))},t}(h.a);_.displayName="LabeledSwitch",_.defaultProps={};var R,j=n(7),U={"tooltip.pnl":c.createElement(j.FormattedMessage,{id:"calculator.tooltip.pnl",defaultMessage:"This is your PNL % relative to the value of the position.",description:"Tooltip text explaining how pnl percentage is relative to user"}),"tooltip.roe":c.createElement(j.FormattedMessage,{id:"calculator.tooltip.roe",defaultMessage:"This is your PNL % relative to the minimum equity used to open the position (max leverage).",description:"Tooltip text explaining how pnl percentage is relative to user"}),"tooltip.title.main":c.createElement(j.FormattedMessage,{id:"calculator.tooltip.title.main",defaultMessage:"PNL Calculator",description:"Tooltip title text for PNL Calculator"}),"tooltip.hover.profitLoss":c.createElement(j.FormattedMessage,{id:"calculator.tooltip.hover.profitLoss",defaultMessage:"For example if short 100 XBTUSD contracts with an entry of 100 and exit of 50, you would lose 1 XBT if long and profit 1 XBT if short.",description:"Tooltip text for providing an example of profit and loss"}),"tooltip.hover.main":c.createElement(j.FormattedMessage,{id:"calculator.tooltip.hover.main",defaultMessage:"The PNL calculator allows you to project your expected PNL given a price, buy quantity, and % change. Use it to tweak your investment targets.",description:"Tooltip text explaning PNL Calculator's purpose"}),"divtext.entryType":c.createElement(j.FormattedMessage,{id:"calculator.divtext.entryType",defaultMessage:"Entry Type",description:"Type of entry to be used in calculator (short vs long)"})},H=n(10),q=O.a.decorate(I.a)(R=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={isTradeTypeShort:!1,lvg:r.props.initialLeverage||r.props.position.leverage||50,qty:r.props.initialQty||1,entryPrice:r.props.initialEntry||r.props.instrument.markPrice||0,exitPrice:r.props.initialExit||r.props.instrument.markPrice||0,validity:{leverage:!0,entryPrice:!0,exitPrice:!0,quantity:!0}},r.toggleTradeType=function(e){var t="boolean"==typeof e?e:!r.state.isTradeTypeShort;r.setState({isTradeTypeShort:t})},i=n,o()(r,i)}return l()(t,e),t.prototype.getLocalStorageKey=function(){return"bitmex-calculator-pnl-"+this.props.instrument.symbol},t.prototype.getStateFilterKeys=function(){return["isTradeTypeShort","lvg","qty","entryPrice","exitPrice"]},t.prototype.onValidityChange=function(e,t){var n;this.setState({validity:N()({},this.state.validity,(n={},n[e]=t,n))})},t.prototype.render=function(){var e=this.context.activeCurrency,t=this.props,n=t.instrument,r=t.position,a=t.sellLegInstr,i=t.buyLegInstr,o=n.multiplier,s=n.tickSize,l=this.state,u=l.entryPrice,d=l.exitPrice,p=l.lvg,m=l.isTradeTypeShort,f=r.newWithProps({leverage:this.state.lvg,initMarginReq:1/this.state.lvg}),h=m?-1*this.state.qty:this.state.qty,g=H.v(o,h,u),y=H.v(o,h,d),b=y-g,v=b/Math.abs(g)*100,E=b/Math.abs(g)*100*p,w=(isNaN(v)?0:v.toFixed(2))+"%",M=(isNaN(E)?0:E.toFixed(2))+"%",S=H.m(n,f,h,u,a,i),x=H.g(S,e),k=[[T.a.Margin,x||0],[T.a["Entry Value"],H.g(g,e)||0],[T.a["Exit Value"],H.g(y,e)||0],[c.createElement(D.a,{text:U["tooltip.hover.profitLoss"]},T.a["Profit/Loss"]),H.g(b,e)||0],[c.createElement(D.a,{text:U["tooltip.pnl"],horizFlip:!0},T.a["Profit/Loss"]," %"),w],[c.createElement(D.a,{text:U["tooltip.roe"],horizFlip:!0},T.a.ROE," %"),M]];return c.createElement("div",{className:"rpl calculator"},c.createElement("div",{className:"calculatorSwitches well"},c.createElement(_,{className:"calculatorSwitch",toggled:this.state.isTradeTypeShort,onToggle:this.toggleTradeType,switchLabel:T.a.Side,leftLabel:T.a.Long,rightLabel:T.a.Short})),c.createElement("div",{className:"flexBody"},c.createElement("div",{className:"calculatorInput flexItem"},c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"quantity"},T.a.Quantity),c.createElement(A.a,N()({className:"form-control",name:"quantity",allowNegative:!1,allowDecimal:!1,step:1,onValidityChange:this.bindCallback(this.onValidityChange,"quantity")},this.linkState("qty",{selector:W})))),c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"entryPrice"},T.a["Entry Price"]),c.createElement(A.a,N()({className:"form-control",name:"entryPrice",allowNegative:!1,allowDecimal:!0,step:s,onValidityChange:this.bindCallback(this.onValidityChange,"entryPrice")},this.linkState("entryPrice",{selector:W})))),c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"exitPrice"},T.a["Exit Price"]),c.createElement(A.a,N()({className:"form-control",name:"exitPrice",allowNegative:!1,allowDecimal:!0,step:s,onValidityChange:this.bindCallback(this.onValidityChange,"exitPrice")},this.linkState("exitPrice",{selector:W})))),c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"leverage"},T.a.Leverage),c.createElement(A.a,N()({className:"form-control",name:"leverage",allowNegative:!1,allowDecimal:!0,max:n.initialLeverage,step:.01,inputStep:1,onValidityChange:this.bindCallback(this.onValidityChange,"leverage")},this.linkState("lvg",{selector:W}))))),c.createElement("div",{className:"calculatorOutput flexItem"},c.createElement(L.a,{data:k,tableName:"calculator",className:"compact"}))))},t}(h.a))||R;function W(e){return e}q.displayName="PNLCalculator";var V,z,K=n(35),Q=n.n(K),G=O.a.decorate(I.a)(V=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={isTradeTypeShort:!1,lvg:r.props.initialLeverage||r.props.position.leverage||50,entryPrice:r.props.initialPrice||r.props.instrument.markPrice||0,pl:r.props.initialPNL||100,validity:{lvg:!0,entryPrice:!0,pl:!0}},r.toggleTradeType=function(e){var t="boolean"==typeof e?e:!r.state.isTradeTypeShort;r.setState({isTradeTypeShort:t})},i=n,o()(r,i)}return l()(t,e),t.prototype.getLocalStorageKey=function(){return"bitmex-calculator-tp-"+this.props.instrument.symbol},t.prototype.getStateFilterKeys=function(){return["isTradeTypeShort","lvg","entryPrice","pl"]},t.prototype.onValidityChange=function(e,t){var n;this.setState({validity:N()({},this.state.validity,(n={},n[e]=t,n))})},t.prototype.render=function(){var e=this.props.instrument,t=e.multiplier,n=e.tickSize,r=this.state,a=r.entryPrice,i=r.pl,o=r.lvg,s=r.isTradeTypeShort?-1:1,l=H.v(t,s,a);Q()(l)||(l=0);var u=Math.abs(l)/o*(.01*i),d=l+u,p=H.p(t,s,d),m=u/Math.abs(l)*100,f=u/Math.abs(l)*100*o,h=Q()(a)?H.r(a,n):"---",g=Q()(p)&&p>0?H.r(p,n):"---",y=(Q()(m)?m.toFixed(2):0)+"%",b=(Q()(f)?f.toFixed(2):0)+"%",v=[[T.a["Entry Price"],h],[T.a["Target Price"],g],[c.createElement("div",null,T.a["Profit/Loss"]," %"),y],[c.createElement("div",null,T.a.ROE," %"),b]];return c.createElement("div",{className:"targetPrice calculator"},c.createElement("div",{className:"calculatorSwitches well"},c.createElement(_,{className:"calculatorSwitch",toggled:this.state.isTradeTypeShort,onToggle:this.toggleTradeType,switchLabel:T.a.Side,leftLabel:T.a.Long,rightLabel:T.a.Short})),c.createElement("div",{className:"flexBody"},c.createElement("div",{className:"calculatorInput flexItem"},c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"lvg"},T.a.Leverage),c.createElement(A.a,N()({className:"form-control",name:"lvg",allowNegative:!1,allowDecimal:!1,max:this.props.instrument.initialLeverage,step:1,onValidityChange:this.bindCallback(this.onValidityChange,"lvg")},this.linkState("lvg",{selector:X})))),c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"entryPrice"},T.a["Entry Price"]),c.createElement(A.a,N()({className:"form-control",name:"entryPrice",allowNegative:!1,allowDecimal:!0,step:n,onValidityChange:this.bindCallback(this.onValidityChange,"entryPrice")},this.linkState("entryPrice",{selector:X})))),c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"pl"},T.a.ROE," %"),c.createElement(A.a,N()({className:"form-control",name:"pl",allowNegative:!1,allowDecimal:!0,step:n,onValidityChange:this.bindCallback(this.onValidityChange,"pl")},this.linkState("pl",{selector:X}))))),c.createElement("div",{className:"calculatorOutput flexItem"},c.createElement(L.a,{data:v,tableName:"calculator",className:"compact"}))))},t}(h.a))||V;function X(e){return e}G.displayName="TargetPriceCalculator";var Y={entryPrice:0,lvg:1,marginBalance:1,qty:1,isMarginModeCross:!1,isTradeTypeShort:!1},J=O.a.decorate(I.a)(z=function(e){function t(){var n,r,i,s,l,c;a()(this,t);for(var u=arguments.length,d=Array(u),p=0;p<u;p++)d[p]=arguments[p];return n=r=o()(this,e.call.apply(e,[this].concat(d))),r.state={isMarginModeCross:Boolean(r.props.position.crossMargin)||Y.isMarginModeCross,isTradeTypeShort:Y.isTradeTypeShort,lvg:r.props.initialLeverage||r.props.position.leverage||Y.lvg,entryPrice:r.props.initialPrice||r.props.instrument.markPrice||Y.entryPrice,qty:r.props.initialQty||Y.qty,marginBalance:(s=r.props,l=s.initialAvailableMargin,c=s.margin,l||c.marginBalance||Y.marginBalance),validity:{lvg:!0,entryPrice:!0,qty:!0,marginBalance:!0}},r.toggleMarginMode=function(e){var t="boolean"==typeof e?e:!r.state.isMarginModeCross;r.setState({isMarginModeCross:t})},r.toggleTradeType=function(e){var t="boolean"==typeof e?e:!r.state.isTradeTypeShort;r.setState({isTradeTypeShort:t})},r.onValidityChange=function(e,t){var n;r.setState({validity:N()({},r.state.validity,(n={},n[e]=t,n))})},r.onMarginChange=function(e){var t=r.props.activeCurrency;r.setState({marginBalance:Number(H.e(e,"XBt",t))})},i=n,o()(r,i)}return l()(t,e),t.prototype.getLocalStorageKey=function(){return"bitmex-calculator-liq-"+this.props.instrument.symbol},t.prototype.getStateFilterKeys=function(){return["isMarginModeCross","isTradeTypeShort","lvg","entryPrice","qty"]},t.prototype.getState=function(){return d.a.transform(this.state,function(e,t,n){"number"!=typeof Y[n]||Q()(t)||(t=Y[n]),e[n]=t})},t.prototype.render=function(){var e=this,t=this.getState(),n=t.entryPrice,r=t.isMarginModeCross,a=t.lvg,i=t.marginBalance,o=t.isTradeTypeShort,s=t.qty,l=this.props,u=l.instrument,d=l.margin,p=l.position,m=u.tickSize,f=d.newWithProps({marginBalance:i,initMargin:0,maintMargin:0}),h=p.newWithProps({initMarginReq:r?p.initMarginReq:1/a,crossMargin:r}),g=s;o&&(g*=-1);var y=n||m,b=H.l(u,h,f,g,y),v=p.currentQty+g,E=[[T.a["Current Qty"],p.currentQty],[T.a["Resulting Qty"],v],[T.a["Liquidation Price"],Q()(b)?H.t(b||0,u.tickSize):"---"]];return c.createElement("div",{className:"liqPrice calculator"},c.createElement("div",{className:"calculatorSwitches well"},c.createElement(_,{className:"calculatorSwitch",toggled:o,onToggle:this.toggleTradeType,switchLabel:T.a.Side,leftLabel:T.a.Long,rightLabel:T.a.Short}),c.createElement(_,{className:"calculatorSwitch",toggled:r,onToggle:this.toggleMarginMode,switchLabel:T.a.Margin,leftLabel:T.a.Isolated,rightLabel:T.a.Cross})),c.createElement("div",{className:"flexBody"},c.createElement("div",{className:"calculatorInput flexItem"},c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"quantity"},T.a.Quantity),c.createElement(A.a,N()({className:"form-control",name:"quantity",allowNegative:!1,allowDecimal:!1,step:1,max:1e8,onValidityChange:this.bindCallback(this.onValidityChange,"quantity")},this.linkState("qty",{selector:Z})))),c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"entryPrice"},T.a["Entry Price"]),c.createElement(A.a,N()({className:"form-control",name:"entryPrice",allowNegative:!1,allowDecimal:!0,max:1e8,step:m,onValidityChange:this.bindCallback(this.onValidityChange,"entryPrice")},this.linkState("entryPrice",{selector:Z})))),r?c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"margin"},T.a.Wallet),c.createElement(A.a,{className:"form-control",name:"margin",key:"marginBalance",allowNegative:!1,allowDecimal:!0,inputStep:.1,step:1/Math.pow(10,H.d[this.props.activeCurrency].tickLog),onValidityChange:this.bindCallback(this.onValidityChange,"margin"),value:function(){var t=e.props,n=t.activeCurrency,r=t.margin.currency;if("XBt"!==r)throw new Error("Unsupported margin currency");return Number(H.e(i,n,r))}(),onChange:this.onMarginChange})):c.createElement("div",{className:"form-group form-inline"},c.createElement("label",{htmlFor:"leverage"},T.a.Leverage),c.createElement(A.a,N()({className:"form-control",name:"leverage",key:"leverage",allowNegative:!1,allowDecimal:!0,max:u.initialLeverage,inputStep:1,step:.01,onValidityChange:this.bindCallback(this.onValidityChange,"leverage")},this.linkState("lvg",{selector:Z}))))),c.createElement("div",{className:"calculatorOutput flexItem"},c.createElement(L.a,{data:E,tableName:"calculator",className:"compact"}))))},t}(h.a))||z;function Z(e){return e}J.displayName="LiquidationPriceCalculator";var $=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.initialTab,n=e.className,r=e.onClose,a=x()(e,["initialTab","className","onClose"]),i=this.props,o=i.instrument,s=i.position;return c.createElement(c.Fragment,null,c.createElement(k.a,{titles:[T.a["Profit/Loss"],T.a["Target Price"],T.a["Liquidation Price"]],localStorageKey:"CalculatorPanel",showFullscreen:!1,showMinimize:!1,initialTab:t,extraControls:c.createElement("span",{className:"close",onClick:r},"x"),className:(n||"")+" calculatorContainer"},c.createElement(q,a),c.createElement(G,a),c.createElement(J,a)),c.createElement("div",{className:"widget-footer"},T.a.Position,":",0===s.currentQty?" ---":" "+s.currentQty+" @ "+s.getDisplayField("avgEntryPrice",this.context),c.createElement("span",{className:"pull-right"},T.a.Contract,": ",o.symbol)))},t}(h.a);$.displayName="Calculator";var ee=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return c.createElement($,this.props)},t}(c.Component);ee.displayName="ActiveInstrumentCalculator";var te=Object(p.a)(function(e){var t=e.options,n=e.commission,r=e.marginPrimary,a=e.selectedInstrument,i=e.selectedPosition,o=n[a.symbol]||n[M()(n)[0]];return{activeCurrency:t.currency,commission:o,instrument:a,margin:r,position:i}})(ee),ne=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onCloseFloatingWidget=function(e){r.props.actions.switchFloatingWidget(null)},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.floatingWidget,n=e.sidebarSide;return"calculator"===t?c.createElement(E,{className:n+" calculatorPopout"},c.createElement(te,{onClose:this.onCloseFloatingWidget})):null},t}(c.Component);ne.displayName="FloatingWidgetContainer";t.a=Object(p.a)(function(e){return{actions:e.actions,floatingWidget:e.floatingWidget,sidebarSide:e.sidebarSide}})(ne)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n(8),d=n(4),p=n(6),m=n.n(p),f=n(5),h=n.n(f),g=n(45),y=n.n(g),b=n(40),v=n(76),E=n.n(v),w=n(15),M=n.n(w),S=n(21),x=n.n(S),k=n(22),T=n.n(k),C=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={mounted:!1},r.closed=!1,r.closeChild=function(){r.closed||(r.closed=!0,r.props.onClose(),r.externalWindow&&r.externalWindow.close(),delete r.externalWindow,delete r.containerEl,window.removeEventListener("beforeunload",r.closeChild))},i=n,o()(r,i)}return l()(t,e),t.prototype.componentDidMount=function(){var e=Object(w.coroutine)(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openChild();case 2:this.setState({mounted:!0});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.componentWillUnmount=function(){this.closeChild()},t.prototype.openChild=function(){var e=Object(w.coroutine)(x.a.mark(function e(){var t,n,r,a,i,o,s,l,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.width,r=t.height,a="directories=no,menubar=no,status=no,titlebar=no,toolbar=no,location=no",i=this.getCoords(),o=i.left,s=i.top,l="width="+n+",height="+r+",left="+o+",top="+s+","+a,c=this.externalWindow=window.open("/popout","",l),e.next=7,new M.a(function(e){return c.addEventListener("load",e)});case 7:return e.next=9,N(document,c.document);case 9:c.document.title="â¤˘ "+this.props.title,c.addEventListener("beforeunload",this.closeChild),window.addEventListener("beforeunload",this.closeChild),c.document.body.parentElement.className="popOutWindow",this.containerEl=c.document.createElement("div"),c.document.body.appendChild(this.containerEl),this.props.onOpen(),c.document.body.style.display="block";case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.getCoords=function(){var e=this.props,t=e.positionX,n=e.positionY,r=e.width,a=e.height,i=window,o=i.screenX,s=i.screenY,l=i.outerWidth,c=i.outerHeight;return{left:"left"===t?0:"right"===t?o+l-r:o+l/2+r/2,top:"top"===n?0:"bottom"===n?s+c-a:s+c/2+a/2}},t.prototype.render=function(){return this.state.mounted?T.a.createPortal(this.props.children,this.containerEl):null},t}(c.PureComponent);function N(e,t){var n=E()(e.styleSheets).map(function(e){var n=t.createElement("link");return n.rel="stylesheet",n.href=e.href,e.href&&"null"!==e.href?(t.head.appendChild(n),new M.a(function(e){return n.addEventListener("load",e)})):null});return M.a.all(n)}C.displayName="WindowPortal",C.defaultProps={width:600,height:400,positionX:"center",positionY:"center",title:"BitMEX Popout",onOpen:function(){}};var P,O=n(95),F=n(27),I=n.n(F),L=n(38),A=n.n(L),D=n(147),B=n(42),_=5,R=500,j=A.a.decorate(y.a)(P=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={bounds:null,dragging:!1,height:r.props.initialHeight,isInNewWindow:!1,lastHeight:r.props.initialHeight,right:0,lastRight:0,rightPx:0,notify:r.props.notify,open:r.props.initialOpen,openWhenDragStart:!1,wide:!1},r.onResize=h.a.debounce(function(e){if(r.mounted){var t=W(r.el),n={right:r.state.right,rightPx:t?t.docWidth*(r.state.right/100):0};t&&(n.rightPx+t.draggableWidth>t.docWidth&&(n.rightPx=t.docWidth-t.draggableWidth,n.right=n.rightPx/t.docWidth*100),n.rightPx=Math.max(n.rightPx,0),n.right=Math.max(n.right,0)),r.setState(m()({bounds:t},n))}},250),r.toggleNotifyFalse=r.toggleState("notify",!1),r.onDragStart=function(e){r.setState({openWhenDragStart:r.state.open,bounds:W(r.el),lastHeight:r.state.height,lastRight:r.state.right}),Object(D.a)()},r.onDrag=function(e,t){if(r.state.openWhenDragStart!==r.state.open)return!1;var n=r.calculateDrag(t),a=n.right-r.state.lastRight,i=n.height-r.state.lastHeight,o=Math.abs(a)>_||Math.abs(i)>_;r.setState(m()({},n,{dragging:r.state.dragging||o}))},r.onDragEnd=function(e){r.setState({dragging:!1}),Object(D.b)()},r.onFullscreenToggle=function(){r.props.actions.toggleFullscreenPanel(!0,r.props.widgetName)},r.onNewWindowClick=function(e){r.setState(function(e){return{isInNewWindow:!e.isInNewWindow}})},r.onWidenClick=function(e){if(!r.state.dragging){var t=r.state.wide?function(){}:function(){return setTimeout(function(){return r.onResize(e)},R)};r.setState({wide:!r.state.wide},t)}},r.onTitleClick=function(e){r.state.dragging||r.state.isInNewWindow||r.setState({open:!r.state.open})},i=n,o()(r,i)}return l()(t,e),t.prototype.getStateFilterKeys=function(){return["height","open","right","rightPx","wide"]},t.prototype.componentWillMount=function(){this.props.authenticated&&y.a.componentDidMount.call(this)},t.prototype.componentDidMount=function(){this.mounted=!0,this.state.open&&this.props.openAction?this.props.actions[this.props.openAction]():!this.state.open&&this.props.closeAction&&this.props.actions[this.props.closeAction](),window.addEventListener("resize",this.onResize)},t.prototype.componentDidUpdate=function(e,t){!t.open&&this.state.open&&this.props.openAction?this.props.actions[this.props.openAction]():t.open&&!this.state.open&&this.props.closeAction&&this.props.actions[this.props.closeAction]()},t.prototype.componentWillReceiveProps=function(e){e.notify&&!this.props.notify&&this.setState({notify:!0})},t.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onResize)},t.prototype.calculateDrag=function(e){var t=this.state.bounds,n={};if(!t)return console.warn("Unable to calculate drag without bounds!"),n;var r=this.state.right,a=this.state.rightPx;a||(a=t.draggableWidth*r||0);var i=t.docWidth-t.draggableWidth;if(n.rightPx=V(a-e.deltaX,0,i),n.right=n.rightPx/t.docWidth*100,this.state.open){var o=this.state.height,s=t.docHeight-20-40;n.height=V(o-e.deltaY,30,s)}return n},t.prototype.toggleState=function(e,t){var n=this;return function(){var r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!n.state[e];if("boolean"!=typeof n.state[e])throw new Error("Attempted to toggle a non-boolean prop: "+e);var i=((r={})[e]="boolean"==typeof t?t:a,r);n.setState(i)}},t.prototype.render=function(){var e=this,t=this.state,n=I()("popUpWidget",this.props.className,{closed:!t.open,open:t.open,notify:t.notify,dragging:t.dragging,wide:t.wide}),r={height:t.open?t.height+"px":"",right:t.right?t.right+"%":null},a=t.isInNewWindow?[]:H(this.onTitleClick,t.open,this.onWidenClick,t.wide,this.onNewWindowClick,t.isInNewWindow),i=t.open?c.cloneElement(this.props.children,{popUpProps:{inNewWindow:t.isInNewWindow,wide:t.wide}}):null,o=c.createElement("div",{className:n,onClick:this.toggleNotifyFalse,style:r,ref:function(t){return e.el=t}},c.createElement(b.a,{title:q(this.onTitleClick,this.props.title),className:this.props.panelClassName,showFullscreen:!1,showMinimize:!1,extraControls:a},i));return t.isInNewWindow?c.createElement(C,m()({onClose:this.onNewWindowClick},this.props.windowPortalProps),o):c.createElement(O.DraggableCore,{cancel:".form-control",bounds:this.state.bounds,handle:"header, header *",onDrag:this.onDrag,onStop:this.onDragEnd,onStart:this.onDragStart},o)},t}(d.a))||P;j.displayName="PopUpWidget",j.defaultProps={className:"",initialHeight:450,initialOpen:!1,notify:!1,panelClassName:"",windowPortalProps:{}};var U=Object(u.a)(function(e){return{actions:e.actions,authenticated:e.me.authenticated}})(j),H=Object(B.defaultMemoize)(function(e,t,n,r,a,i){return[c.createElement("i",{className:"fa openIcon fa-caret-"+(t?"down":"up"),onClick:e,key:"1"}),c.createElement("i",{className:"fa widenIcon fa-"+(r?"compress":"expand"),onClick:n,key:"2"}),c.createElement("i",{className:"fa newWindowIcon fa-"+(i?"compress restore":"expand fullscreen"),onClick:a,key:"3"})]}),q=Object(B.defaultMemoize)(function(e,t){return c.createElement("div",{onClick:e,key:"title"},t)});function W(e){var t=document.documentElement;if(!e||!t)return null;var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{right:0,left:r.width-n.width,top:n.top-r.top,bottom:r.height,docHeight:t.clientHeight,docWidth:t.clientWidth,draggableWidth:e.offsetWidth}}function V(e,t,n){return Math.min(Math.max(e,t),n)}var z=n(249),K="chatWidget",Q={width:280,height:600,positionX:"right",positionY:"bottom"},G=c.createElement(z.a,null),X=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.fullscreenedWidget,n=e.newChatCount,r=e.responsiveSize;return"xxs"===r||"xs"===r?null:t===K?null:c.createElement(U,{title:"Trollbox "+(n?"("+n+")":""),className:"popUpChat hidden-xs chatWidgetWrapper",closeAction:"closeChatBox",openAction:"openChatBox",widgetName:K,windowPortalProps:Q},G)},t}(d.a);X.displayName="ChatPopupWidget";t.a=Object(u.a)(function(e){return{fullscreenedWidget:e.fullscreenedWidget,newChatCount:e.newChatCount,responsiveSize:e.responsiveSize}})(X)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(7),p=n(9),m=c.createElement("i",{className:"fa fa-exclamation-triangle"}),f=c.createElement("b",null,c.createElement(d.FormattedMessage,{id:"unsupportedBanner.noSupport",defaultMessage:"Please note BitMEX does not support old browsers.",description:"Text instructing user old browsers are not supported"})),h=c.createElement("br",null),g=c.createElement("a",{href:"https://www.mozilla.org/firefox/new/?scene=2",target:"_blank",rel:"noopener noreferrer"},"Firefox"),y=c.createElement("a",{href:"http://www.opera.com/",target:"_blank",rel:"noopener noreferrer"},"Opera"),b=c.createElement("a",{href:"https://www.google.com/chrome/",target:"_blank",rel:"noopener noreferrer"},"Chrome"),v=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.state={hasIgnoredWarning:!1},r.ignoreWarning=function(){r.setState({hasIgnoredWarning:!0})},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){return this.props.isSupportedBrowser||this.state.hasIgnoredWarning?null:c.createElement("div",{className:"unsupportedBrowser"},m,c.createElement("h5",null,f,h,c.createElement(d.FormattedMessage,{id:"unsupportedBanner.upgradeLinks",defaultMessage:"We recommend upgrading to the latest version of {operaLinkElement}, {firefoxLinkElement}, or {chromeLinkElement}.",description:"Text recommending, and providing links for, the user to upgrade browser",values:{firefoxLinkElement:g,operaLinkElement:y,chromeLinkElement:b}})),c.createElement("button",{className:"btn btn-danger btn-sm",onClick:this.ignoreWarning},p.a.Ignore))},t}(u.a);v.displayName="UnsupportedBrowser",v.defaultProps={isSupportedBrowser:!0}},function(e,t,n){"use strict";var r=n(21),a=n.n(r),i=n(15),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(4)),h=n(8),g=n(5),y=(n.n(g),n(146)),b=m.createElement(y.a,{className:"masquerading"}),v=function(e){function t(){var n,r,s,c=this;l()(this,t);for(var d=arguments.length,p=Array(d),m=0;m<d;m++)p[m]=arguments[m];return n=r=u()(this,e.call.apply(e,[this].concat(p))),r.onDisengageClick=function(){var e=r.props.masqID;r.props.actions.userMasq(null,Object(i.coroutine)(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.delay(1e3);case 2:r.props.actions.navigate("/adminLookupUser?identifier="+e);case 3:case"end":return t.stop()}},t,c)})))},s=n,u()(r,s)}return p()(t,e),t.prototype.render=function(){var e=this.props,t=e.me,n=e.masqID,r=void 0;return r=t.id!==n?m.createElement("span",null,"Loading User ",n,"..."):m.createElement("span",null,"You are currently masquerading as the user: ",t.username," (",n,") Â ",m.createElement("div",{className:"btn btn-danger",onClick:this.onDisengageClick},"Disengage")),m.createElement("div",{className:"masqueradeNotice bg-warning text-center alert",style:{margin:0}},b,r)},t}(f.a);v.displayName="MasqueradeNotice",t.a=Object(h.a)(function(e){return{actions:e.actions,me:e.me}})(v)},function(e,t,n){"use strict";var r=n(3),a=n(143),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(4),p=n(8),m=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.componentDidMount=function(){var e=this.props.newPath,t="function"==typeof e?e():e;"/"===e[0]?window.location.href=e:this.props.actions.navigate(t,{replace:this.props.replace})},t.prototype.render=function(){return null},t}(d.a);m.displayName="Redirect",m.defaultProps={replace:!1};var f=Object(p.a)(function(e){return{actions:e.actions}})(m),h=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.rootPath,n=e.selectedSymbol;return r.createElement(f,{replace:!0,newPath:function(){return t+"trade/"+n}})},t}(d.a);h.displayName="RedirectTrade";var g=Object(p.a)(function(e){return{selectedSymbol:e.selectedSymbol}})(h),y=n(6),b=n.n(y),v=n(86),E=n(29),w=n(99),M=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props.pageName,t=e;t=t.replace("seriesGuide","seriesGuide/");var n=Object(w.b)(t,this.context.intl);return r.createElement(E.a,{className:"staticWrapper",title:n},r.createElement(v.a,b()({type:"md"},this.props)))},t}(d.a);M.displayName="StaticWrapper",M.defaultProps={className:""};var S=n(35),x=n.n(S),k=n(49),T=n(138),C=n(149),N=n(26),P=n.n(N),O=n(14),F=n.n(O),I=n(5),L=n.n(I),A=n(7),D=n(23),B=r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.isBinary",defaultMessage:"This is a binary contract.",description:"Text indicating that this is a binary contract."}),_={"symbolBreakdown.series":function(e,t,n){var a=n.messages["symbol."+t],i=a?r.createElement("span",null," (",a,")"):"";return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.series",defaultMessage:"{symbol} is in the {series}{seriesMessage} series.",description:"Text that associates the contract with a series",values:{series:t,seriesMessage:i,symbol:e.symbol}})},"symbolBreakdown.monthCode":function(e,t){return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.monthCode",defaultMessage:"The expiry month code is {monthCode} ({month}).",description:"Text displaying the expiry month for a given symbol",values:{monthCode:t,month:D.j(D.c[t])}})},"symbolBreakdown.relist":function(e,t){return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.relist",defaultMessage:"{symbol} settles every {relistInterval}.",description:"Text displaying the interval of when an instrument settles",values:{relistInterval:t,symbol:e.symbol}})},"symbolBreakdown.year":function(e,t){return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.year",defaultMessage:"{symbol} expires in 20{lastDigitsOfYear}.",description:"Text displaying expiry year",values:{lastDigitsOfYear:t,symbol:e.symbol}})},"symbolBreakdown.nearExpiry":function(e){var t=e.sellLegSettle,n=e.sellLeg;return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.nearExpiry",defaultMessage:"The near expiry is {settlement} (sellLegSymbol).",description:"Text for the near expiry settlement for a given symbol",values:{settlement:t,sellLegSymbol:n}})},"symbolBreakdown.farExpiry":function(e){var t=e.buyLegSettle,n=e.buyLeg;return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.farExpiry",defaultMessage:"The far expiry is {settlement} ({buyLegSymbol}).",description:"Text for the far expiry settlement for a given symbol",values:{settlement:t,buyLegSymbol:n}})},"symbolBreakdown.baseCurrency":function(e,t){return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.baseCurrency",defaultMessage:"The base currency is {symbol}.",description:"Text displaying the base currency for a given symbol",values:{symbol:t}})},"symbolBreakdown.quoteCurrency":function(e,t){return r.createElement(A.FormattedMessage,{id:"symbolBreakdown.symbol.quoteCurrency",defaultMessage:"The quote currency is {symbol}.",description:"Text displaying the quote ccurrency for a given symbol",values:{symbol:t}})},"symbolBreakdown.isBinary":function(e,t){return B}},R=n(11),j=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.getParts=function(e){var t=e._displayValues,n=t.symbol,r=t.rootSymbol.length,a={series:t.rootSymbol};if(t.isMultiLeg){var i=n.match(new RegExp(t.rootSymbol+"(\\w*)_(\\w*)"))||[];a.nearExpiry=i[1],a.farExpiry=i[2]}else t.isSwap||n.slice(r)===t.quoteCurrency?a={baseCurrency:t.rootSymbol,quoteCurrency:t.quoteCurrency}:t.relistInterval?a.relist=n.slice(r):t.isBinary?a={isBinary:"B",series:a.series}:t.isSpot&&(a={baseCurrency:t.rootSymbol,quoteCurrency:t.settlCurrency.toUpperCase()});return t.isMultiLeg||t.relistInterval||!t.expiry||(a.monthCode=n.slice(-3)[0],a.year=n.slice(-2)),a},t.prototype.symbolParts=function(e){var t=this.getParts(e);return r.createElement("a",{href:R.b+"trade/"+e.symbol,className:"symbol h1"},L.a.map(t,function(e,t){return r.createElement("span",{className:t,key:t},e)}))},t.prototype.symbolExpls=function(e){var t=this.context.intl,n=this.getParts(e),a=P()(n);return r.createElement("div",{className:"row"},a.map(function(i){return r.createElement("div",{className:"col-sm-"+12/a.length,key:i},r.createElement("div",{className:i+"Expl expl"},_["symbolBreakdown."+i](e,n[i],t)))}))},t.prototype.render=function(){var e=this.props.instrument;return e.expired?r.createElement("div",{className:"symbolBreakdown"},r.createElement("div",{className:"well"},r.createElement(A.FormattedMessage,{id:"symbolBreakdown.expired",defaultMessage:"This instrument expired at {date} and will be removed shortly.",description:"Placeholder text for symbol breakdown, when the instrument is no longer live.",values:{date:r.createElement(A.FormattedDate,{value:e.expiry,format:"full"})}}))):r.createElement("div",{className:"symbolBreakdown"},this.symbolParts(e),this.symbolExpls(e))},t}(d.a);j.displayName="SymbolBreakdown";var U=n(10),H=n(9),q=n(132),W=n(81);function V(e){return r.createElement("a",{href:R.b+"index/"+e},r.createElement(A.FormattedMessage,{id:"contractSpecification.details.indexElement",defaultMessage:"{indexName} Index",description:"Url text for index anchor element",values:{indexName:e}}))}function z(e){return r.createElement("a",{href:R.b+"contract/"+e},e)}var K=r.createElement(A.FormattedMessage,{id:"contractSpecification.swap.finalFundingRateElement",defaultMessage:"calculate the final funding rate",description:"Text for a link that takes user to page to calculate final funding rate"}),Q=r.createElement("br",null),G=r.createElement(A.FormattedMessage,{id:"contractSpecification.payoff.linear",defaultMessage:"Each contract has a value equal to its price in Bitcoin.",description:"Text describing the payoff information for a linear contract"}),X=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.capped.Function.capped",defaultMessage:"capped",description:"Text for the link to the capped price reference page"}),Y=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.capped.Function.isNotCapped",defaultMessage:"This instrument is uncapped.",description:"Text explaining the instrument is uncapped"}),J=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.commission.Function.isMultiLeg",defaultMessage:"Trading fees will only apply to the back month leg.",description:"Text explaining what trading fees apply to"}),Z=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.capped.Function.feesReference",defaultMessage:"Fees Reference",description:"Text for the link to fees reference page"}),$=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.fairMethod.Function.fairPriceElement",defaultMessage:"Impact Mid Price",description:"Link text for fair price marking reference page"}),ee=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.fairMethod.Function.fundingRate",defaultMessage:"The fair basis on this instrument is determined by an annualized calculation of the funding rate.",description:"Text for a contract's fair basis being determined by annualized calculation of the funding rate"}),te=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.fairMethod.Function.other",defaultMessage:"Fair Basis is manually adjusted at intervals to match the market.",description:"Text for a contract's fair basis being manually set"}),ne=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.initMargin.Function.isMultiLeg",defaultMessage:"Each leg will be margined as per the contractâ€™s initial margin specifications.",description:"Text for calculation of a multi leg contract's initial margin"}),re=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.maintMargin.Function.isMultiLeg",defaultMessage:"Each leg will be margined as per the contractâ€™s maintenance margin specifications.",description:"Text for calculation of a multi leg contract's maintenance margin"}),ae=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.settlement.Function.dash",defaultMessage:"This contract is perpetual and does not settle.",description:"Text for a perpetual contract's settlement specification value"}),ie=r.createElement(A.FormattedMessage,{id:"contractSpecification.items.symbol.Function.monthCodesReference",defaultMessage:"See Month Codes Reference",description:"Url link text for a month codes reference page"}),oe={details:function(e,t,n,a){if(e.isMultiLeg)return r.createElement(A.FormattedMessage,{id:"contractSpecification.details.multiLeg",defaultMessage:"{symbolElement} is a calendar spread. When buying a contract, you will enter a position long {buyLeg} and short {sellLeg}.",description:"Text that provides details and information about a multileg contract",values:{symbolElement:z(e.symbol),buyLeg:e.buyLeg,sellLeg:e.sellLeg}});if(e.inverseLeg&&e.relistIntervalReal)return r.createElement(A.FormattedMessage,{id:"contractSpecification.inverseLeg",defaultMessage:"{symbolElement} is a special contract linked to {inverseSymbol}, with the same payout structure. Positions opened in {symbolElement} become {inverseSymbol} positions after {symbolElement}'s expiry. This is useful for rolling positions into the next expiry.",description:"Text that provides details and information about a inverseleg contract",values:{symbolElement:z(e.symbol),inverseSymbol:z(e.inverseLeg)}});if(e.relistIntervalReal){var i=e.relistIntervalReal;return r.createElement(A.FormattedMessage,{id:"contractSpecification.interval",defaultMessage:"{symbolElement} is a {underlyingSymbol}/{quoteCurrencySymbol} {type} future settling {relistIntervalMessage} on the {indexElement}. {payoffMessage} {extended, select, true {{extendedMessage}} other {}}",description:"Text that provides details and information about contract with a relist interval",values:{symbolElement:z(e.symbol),underlyingSymbol:e.underlying,type:W.a.type(e),quoteCurrencySymbol:e.quoteCurrency,indexElement:V(e.referenceSymbol),relistIntervalMessage:q.a["interval.detect"](i),payoffMessage:this.payoff(e,t),extended:a,extendedMessage:r.createElement(A.FormattedMessage,{id:"contractSpecification.interval.extended",defaultMessage:"When it settles, all positions will be closed at the settlement price, and any open orders will be canceled. {symbolElement} is not relisted as a new symbol each time it settles, so that it can be tracked and charted as a single instrument.",description:"Text describing events that occur when extended interval contract settles",values:{symbolElement:z(e.symbol)}})}})}return e.isSwap?r.createElement(A.FormattedMessage,{id:"contractSpecification.swap",defaultMessage:"{symbolElement} is a {underlyingSymbol}/{quoteCurrencySymbol} perpetual contract priced on the {indexElement}. {payoffMessage} {newLine}{newLine}Funding is paid and received {fundingIntervalMessage}. The next payout event is at {payoutTime}.{newLine}{newLine}{fundingMessage}{newLine}{newLine}Today, longs will {isPayFundingRate, select, true {pay} other {receive}} {absFundingRate}, and shorts will {isPayFundingRate, select, true {receive} other {pay}} {absFundingRate} at {fundingTime}. BitMEX does not charge fees on funding payments.",description:"Text that provides details and information about a perpetual contract",values:{symbolElement:z(e.symbol),underlyingSymbol:e.underlying,quoteCurrencySymbol:e.quoteCurrency,indexElement:V(e.referenceSymbol),payoffMessage:this.payoff(e,t),fundingIntervalMessage:q.a["interval.detect"](e._displayValues.fundingInterval),payoutTime:D.o(e._displayValues.fundingTimestamp,n),fundingMessage:e.fundingPremiumSymbol?r.createElement(A.FormattedMessage,{id:"contractSpecification.swap.fundingPremiumSymbol",defaultMessage:"{symbolElement} uses a Premium Index to calculate funding rates. The underlying interest rates are quoted in the {fundingBaseElement} and {fundingQuoteElement}, and the premium rate is quoted in the {fundingPremiumElement}. These are used to {finalFundingElement}.",description:"Text that provides funding information for a swap contract with a premium symbol",values:{symbolElement:z(e.symbol),fundingBaseElement:V(e.fundingBaseSymbol),fundingQuoteElement:V(e.fundingQuoteSymbol),fundingPremiumElement:V(e.fundingPremiumSymbol),finalFundingElement:r.createElement("a",{href:R.b+"swapsGuide#premium-index"},K)}}):r.createElement(A.FormattedMessage,{id:"contractSpecification.swap.funding",defaultMessage:"Buyers receive the {fundingBaseElement} interest rate and pay the {fundingQuoteElement} interest rate. Sellers receive the {fundingQuoteElement} interest rate and pay the {fundingBaseElement} interest rate.",description:"Text that provides funding information for a swap contract",values:{fundingBaseElement:V(e.fundingBaseSymbol),fundingQuoteElement:V(e.fundingQuoteSymbol)}}),isPayFundingRate:e._displayValues.fundingRate>0,absFundingRate:e.absFundingRate,fundingTime:D.o(e._displayValues.fundingTimestamp,n),newLine:Q}}):e.capped?r.createElement(A.FormattedMessage,{id:"contractSpecification.capped",defaultMessage:"{symbolElement} is a prediction contract. Please read the {seriesGuideLink} for information on the possible outcomes.",description:"Text that provides details and information about a cappped/prediction contract",values:{symbolElement:z(e.symbol),seriesGuideLink:r.createElement("a",{href:R.b+"seriesGuide/"+e.rootSymbol},H.a["Series Guide"])}}):e.isSpot?r.createElement(A.FormattedMessage,{id:"contractSpecification.spotDescription",description:"Describes a spot contract",defaultMessage:"{symbolElement} is a spot market between {underlying} and {settlCurrency}.",values:{symbolElement:z(e.symbol),underlying:e.underlying,settlCurrency:e.settlCurrency}}):r.createElement(A.FormattedMessage,{id:"contractSpecification.future",defaultMessage:"{symbolElement} is a {underlyingSymbol}/{quoteCurrencySymbol} futures contract settling on the {indexElement}. {payoffMessage} {taxed, select, true {This contract is ideal for speculation.} other {}}{notTaxed, select, true {This contract is ideal for hedging.} other {}}",description:"Text that provides details and information about a future contract",values:{symbolElement:z(e.symbol),indexElement:V(e.referenceSymbol),underlyingSymbol:e.underlying,quoteCurrencySymbol:e.quoteCurrency,payoffMessage:this.payoff(e,t),taxed:a&&e.taxed,notTaxed:a&&!e.taxed}})},payoff:function(e,t){var n=e._displayValues;if("BVOL"===e.rootSymbol||e.isQuanto){var a=parseFloat(U.t(n.markPrice||0,n.tickSize));return r.createElement(A.FormattedMessage,{id:"contractSpecification.payoff.volatilityQuanto",defaultMessage:"Each contract is worth {value} per {quoteCurrency, select, USD {$1} other {1 {quoteCurrency}}} price, currently {currentValue}.",description:"Text describing the payoff information for a volatility, or quanto contract",values:{value:U.f(n.multiplier,t),markPrice:a,currentValue:U.f(e._displayValues.contractValueXBT,t),quoteCurrency:e.quoteCurrency}})}return e.isInverse?r.createElement(A.FormattedMessage,{id:"contractSpecification.payoff.inverse",defaultMessage:"Each contract is worth {mult} {currency} of Bitcoin.",description:"Text describing the payoff information for a inverse contract",values:{mult:U.e(-n.multiplier,"XBT",e._displayValues.settlCurrency,0),currency:e.quoteCurrency}}):G},"items.calSpreadBuyer":function(e){var t=e.sellLeg,n=e.buyLeg;return r.createElement(A.FormattedMessage,{id:"contractSpecification.items.calSpreadBuyer.Function",defaultMessage:"- {sellLeg} + {buyLeg}",description:"Text for a contract's calendar spread calculation",values:{sellLeg:t,buyLeg:n}})},"items.calSpreadSeller":function(e){var t=e.sellLeg,n=e.buyLeg;return r.createElement(A.FormattedMessage,{id:"contractSpecification.items.calSpreadSeller.Function",defaultMessage:"+ {sellLeg} - {buyLeg}",description:"Text for a contract's calendar spread calculation",values:{sellLeg:t,buyLeg:n}})},"items.capped":function(e){return e.capped?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.capped.Function.isCapped",defaultMessage:"This instrument is {cappedPriceElement}.",description:"Text explaining the instrument is capped",values:{cappedPriceElement:r.createElement("a",{href:R.b+"cappedPrice"},X)}}):Y},"items.commission":function(e){return e.isMultiLeg?J:r.createElement(A.FormattedMessage,{id:"contractSpecification.items.commission.Function.isNotMultiLeg",defaultMessage:"See the {feesReferenceElement} for more details.",description:"Text instructing user to go to fees reference page",values:{feesReferenceElement:r.createElement("a",{href:R.b+"fees"},Z)}})},"items.contractSize":function(e,t,n){var a="XBT"===n?5:void 0,i=U.f(e._displayValues.contractValueXBT,n);return e.isInverse?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.contractSize.isInverse",defaultMessage:"{multiplier} {quoteCurrency} (Currently {contractValueXBT} per contract)",description:"Text for a inverse contract's size",values:{multiplier:U.e(-e._displayValues.multiplier,"XBT",e._displayValues.settlCurrency,0),quoteCurrency:e.quoteCurrency,contractValueXBT:i}}):!e.isQuanto&&e.quoteToSettleMultiplier?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.contractSize.linear",defaultMessage:"{multiplier} {underlyingSymbol} (Currently {contractValueXBT} per contract)",description:"Text for a linear contract's size",values:{multiplier:e._displayValues.multiplier/e._displayValues.quoteToSettleMultiplier,underlyingSymbol:e.underlying,contractValueXBT:i}}):e.capped?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.contractSize.capped",defaultMessage:"{multiplier} per % (Currently {contractValueXBT} per contract)",description:"Text for a capped contract's size",values:{multiplier:U.g(e._displayValues.multiplier,n,e._displayValues.settlCurrency,a),contractValueXBT:i}}):r.createElement(A.FormattedMessage,{id:"contractSpecification.items.contractSize.typical",defaultMessage:"{multiplier} per 1 {quoteCurrency} (Currently {contractValueXBT} per contract)",description:"Text for a quanto contract's size",values:{multiplier:U.g(e._displayValues.multiplier,n,e._displayValues.settlCurrency,a),quoteCurrency:e.quoteCurrency,contractValueXBT:i}})},"items.expiry":function(e,t){return"---"===e.expiry?H.a.Perpetual:D.i(e._displayValues.expiry,t)},"items.fairMethod":function(e){return"ImpactMidPrice"===e.fairMethod?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.fairMethod.Function.impactMidPrice",defaultMessage:"This instrument is marked using the {fairPriceElement} method.",description:"Text for a contract's fair basis being determined by impact mid price",values:{fairPriceElement:r.createElement("a",{href:R.b+"fairPriceMarking"},$)}}):"FundingRate"===e.fairMethod?ee:te},"items.fundingInterval":function(e){return q.a["interval.detect"](e._displayValues.fundingInterval)},"items.fundingBaseSymbol":function(e){return oe["items.symbolLink"](e.fundingBaseSymbol)},"items.fundingQuoteSymbol":function(e){return oe["items.symbolLink"](e.fundingQuoteSymbol)},"items.fundingPremiumSymbol":function(e){return oe["items.symbolLink"](e.fundingPremiumSymbol)},"items.symbolLink":function(e){return e?r.createElement("a",{href:R.b+"index/"+e},e):""},"items.initMargin":function(e){return e.isMultiLeg?ne:r.createElement(A.FormattedMessage,{id:"contractSpecification.items.initMargin.Function.isNotMultiLeg",defaultMessage:"{initialMargin} + Entry Taker Fee + Exit Taker Fee",description:"Text for calculation of a non multi leg contract's initial margin",values:{initialMargin:e.initMargin}})},"items.maintMargin":function(e){return e.isMultiLeg?re:"FFWCSX"===e.typ?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.maintMargin.Function.FFWCSX",defaultMessage:"{maintenanceMargin} + Exit Taker Fee + Funding Rate",description:"Text for calculation of a FFWCSX type contract's maintenance margin",values:{maintenanceMargin:e.maintMargin}}):r.createElement(A.FormattedMessage,{id:"contractSpecification.items.maintMargin.Function.notMultiLeg",defaultMessage:"{maintenanceMargin} + Exit Taker Fee",description:"Text for calculation of a non multi leg contract's",values:{maintenanceMargin:e.maintMargin}})},"items.minIncrement":function(e,t,n){var a=e._displayValues.multiplier*e._displayValues.tickSize,i="",o="";e.isInverse?e.markPrice&&(i="XBT"===n?5:void 0,o=U.g(e._displayValues.tickSize/e._displayValues.markPrice,"XBT",n,i)):(i="XBT"===n?7:"mXBT"===n?4:void 0,o=U.g(a,n,e._displayValues.settlCurrency,i));var s=e.quoteCurrency;"XXX"===s&&e.capped&&(s="%");var l=!isNaN(o)&&null!==o&&void 0!==o&&""!==o;return r.createElement(A.FormattedMessage,{id:"contractSpecification.items.minIncrement.Function",defaultMessage:"{tickSize} {quoteCurrency} {isTickValid, select, true {({tick})} other {}}",description:"Text for a contract's minimum price increment value",values:{tickSize:e.tickSize,quoteCurrency:s,isTickValid:l,tick:o}})},"items.rebalanceInterval":function(e,t){return r.createElement(A.FormattedMessage,{id:"contractSpecification.items.rebalanceInterval.Function",defaultMessage:"{rebalanceIntervalMessage}. Next rebalance will be at {nextRebalanceTime}",description:"Text for a contract's rebalance interval",values:{rebalanceIntervalMessage:q.a["interval.detect"](e._displayValues.rebalanceInterval),nextRebalanceTime:D.n(e._displayValues.rebalanceTimestamp,t)}})},"items.sessionClose":function(e,t){return"Open"===e.state?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.sessionClose.Function",defaultMessage:"{closeTime}",description:"Text for a contract's session close time",values:{closeTime:D.o(e._displayValues.closingTimestamp,t)}}):H.a.Closed},"items.settlement":function(e,t){var n=e._displayValues.settle,a=V(e.referenceSymbol);return/^\..*2H$/.test(e.referenceSymbol)?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.settlement.Function.2H",defaultMessage:"Contracts are settled based on the two hour Time-Weighted Average Price (TWAP) on the settlement day. This two-hour TWAP is taken for the two hours before settlement on the reference exchange's price. The input to the TWAP is taken at one-minute intervals. This measurement is done daily and published as BitMEX's {referenceElement}.",description:"Text for a 2H contract's settlement specification value",values:{referenceElement:a}}):n?e.relistIntervalReal?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.settlement.Function.relistInterval",defaultMessage:"This contract settles on the {referenceElement} value at {time}.",description:"Text for a relist interval contract's settlement specification value",values:{referenceElement:a,time:D.o(n,t)}}):e.capped?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.settlement.Function.capped",defaultMessage:"This contract settles on {settlement}.",description:"Text for a capped contract's settlement specification value",values:{settlement:D.m(n,t)}}):r.createElement(A.FormattedMessage,{id:"contractSpecification.items.settlement.Function.other",defaultMessage:"This contract settles on the {referenceElement} value as of the {settlement}.",description:"Text for a non relist interval contract's settlement specification value",values:{referenceElement:a,settlement:D.m(n,t)}}):ae},"items.symbol":function(e){var t=r.createElement("a",{href:R.b+"futuresGuideExamples#Futures-Month-Codes"},ie);return e.isMultiLeg?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.symbol.messages.multiLeg",defaultMessage:"{symbol}: {sellLegExpiryDate} to {buyLegExpiryDate} ({monthCodesReferenceElement})",description:"Text for a multi leg contract's symbol info",values:{symbol:e.symbol,sellLegExpiryDate:e.sellLegExpiry,buyLegExpiryDate:e.buyLegExpiry,monthCodesReferenceElement:t}}):e.relistIntervalReal?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.symbol.messages.relistInterval",defaultMessage:"{symbol}: {relistInterval}",description:"Text for a relisting contract's symbol info",values:{symbol:e.symbol,relistInterval:q.a["interval.detect"](e._displayValues.relistIntervalReal)}}):e.expiry&&"---"!==e.expiry?r.createElement(A.FormattedMessage,{id:"contractSpecification.items.symbol.messages.typical",defaultMessage:"{symbol}: {expiryDate} ({monthCodesReferenceElement})",description:"Text for a typical future contract's symbol info",values:{symbol:e.symbol,expiryDate:D.k(e._displayValues.expiry),monthCodesReferenceElement:t}}):r.createElement(A.FormattedMessage,{id:"contractSpecification.items.symbol.messages.nonExpiry",defaultMessage:"{symbol}",description:"Text for a non expiring contract's symbol info",values:{symbol:e.symbol}})},"items.taxed":r.createElement(A.FormattedMessage,{id:"contractSpecification.items.taxed.Function.isNotTaxed",defaultMessage:"No: This contract does not use system loss recovery and is suitable for hedging.",description:"Text for contract's tax"}),"items.type":function(e){var t=e.quoteCurrency;return"XXX"===t&&(t=H.a.Percentage),r.createElement(A.FormattedMessage,{id:"contractSpecification.items.type.Function",defaultMessage:"Settled in {settlementCurrency}, quoted in {quoteCurrency}",description:"Text for contract's type",values:{settlementCurrency:e.settlCurrency.toUpperCase(),quoteCurrency:t}})},"items.adlEnabled":r.createElement(A.FormattedMessage,{id:"contractSpecification.items.adlEnabled",defaultMessage:"Yes: This contract is {appRootUrlElement} and manages loss through auto-deleveraging.",description:"Contract spec text when auto-deleveraging is enabled",values:{appRootUrlElement:r.createElement("a",{href:R.b+"autoDeleveraging"},r.createElement(A.FormattedMessage,{id:"contractSpecification.items.taxed.Function.speculative",defaultMessage:"highly speculative",description:"Text emphasising to user the contract is highly speculative"}))}}),"items.dpeEnabled":r.createElement(A.FormattedMessage,{id:"contractSpecification.items.dpeEnabled",defaultMessage:"Yes: This contract is {appRootUrlElement} and manages loss through profit equalisation.",description:"Contract spec text when DPE is enabled",values:{appRootUrlElement:r.createElement("a",{href:R.b+"dynamicProfitEqualisation"},r.createElement(A.FormattedMessage,{id:"contractSpecification.items.taxed.Function.speculative",defaultMessage:"highly speculative",description:"Text emphasising to user the contract is highly speculative"}))}})},se=r.createElement("h3",{className:"underlined"},r.createElement(A.FormattedMessage,{id:"contractSpecification.header.fundingCalculation",defaultMessage:"Funding Calculation",description:"Header text for section of contract description"})),le=r.createElement(A.FormattedMessage,{id:"contractSpecification.anchor.swapsGuide",defaultMessage:"Perpetuals Guide",description:"Url text for swaps guide page"}),ce=r.createElement("br",null),ue=r.createElement("b",null,r.createElement(A.FormattedMessage,{id:"contractSpecification.legend.acronyms.fundingRate",defaultMessage:"F = Funding Rate",description:"Text describing variable name for funding rate"})),de=r.createElement("code",null,r.createElement(A.FormattedMessage,{id:"contractSpecification.legend.definitions.fundingRateCodeElement",defaultMessage:"Funding Rate",description:"Text used to describe the funding rate of a contract"})),pe=r.createElement("code",null,r.createElement(A.FormattedMessage,{id:"contractSpecification.legend.definitions.premiumRateCodeElement",defaultMessage:"Premium Rate",description:"Text used to describe the funding rate of a contract"})),me=r.createElement("code",null,r.createElement(A.FormattedMessage,{id:"contractSpecification.legend.definitions.interestRateCodeElement",defaultMessage:"Interest Rate",description:"Text used to describe the funding rate of a contract"})),fe=r.createElement("br",null),he=r.createElement("pre",{className:"well"},"I = (Q - B) / T",r.createElement("br",null),"F = P + Clamp(I - P, -0.05%, 0.05%)"),ge=r.createElement("br",null),ye=r.createElement("br",null),be=r.createElement("meta",{itemProp:"brand",content:"BitMEX"}),ve=r.createElement(A.FormattedMessage,{id:"contractSpecification.paragraph.perpetualContract",defaultMessage:"This instrument is perpetual and does not expire.",description:"Text describing that the instrument is perpetual and does not expire"}),Ee=r.createElement("br",null),we=r.createElement("i",{className:"fa fa-question-circle fa-fw icon"}),Me=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"contractSpecification.header.fullContractDetails",defaultMessage:"Full Contract Details",description:"Header text for the table of contract details"})),Se=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.componentDidMount=function(){this.props.actions.fetchFundingHistory({filter:"",count:100,start:0})},t.prototype.items=function(e){var t=e._displayValues,n=["symbol","expiry","initMargin","maintMargin","markPrice","taxed","limitDownPrice","limitUpPrice","riskLimit","riskStep","openInterest","turnover24h","totalVolume","type","contractSize","settlement","commission","minIncrement","maxPrice","maxOrderQty","lotSize"];if(t.isMultiLeg&&(n=n.concat(["calSpreadBuyer","calSpreadSeller"])),x()(t.limitUpPrice)||x()(t.limitDownPrice)||(n=L.a.without(n,"limitUpPrice","limitDownPrice")),t.taxed&&!t.capped){var r=t.deleverage?"adlEnabled":"dpeEnabled";n.splice(n.indexOf("taxed"),1,r,"markMethod","fairBasis","fairBasisRate","fairMethod")}t.capped&&n.splice(n.indexOf("taxed"),1),t.riskLimit||(n.splice(n.indexOf("riskLimit"),1),n.splice(n.indexOf("riskStep"),1)),t.isSwap&&n.splice(n.indexOf("markPrice"),0,"fundingBaseSymbol","fundingQuoteSymbol","fundingPremiumSymbol","fundingRate","fundingInterval","fundingTimestamp","indicativeFundingRate"),t.isSpot&&(n=L.a.without(n,"taxed","settlement","expiry","openInterest","contractSize","initMargin","maintMargin"));var a=this.context,i=a.activeCurrency,o=a.timezoneOffset;return L.a.map(n,function(t){var n="items."+t;if(!oe[n]&&e.hasOwnProperty(t))return[t,e[t]];var r=oe[n];return[t,r?L.a.isFunction(r)?r(e,o,i):r:e[t]||0]})},t.prototype.fundingRateDescription=function(e){if(!e.isSwap)return null;var t=this.props.indices,n=1/D.s(e.fundingInterval),a=e.fundingBaseSymbol,i=e.fundingQuoteSymbol,o=e.fundingPremiumSymbol,s=e.fundingRate,l=function(e){var n=t.get(e);return n?n.lastPrice:0},c=function(e){return U.r(100*e,1e-4)},u=L.a.flow(l,c,Number,function(e){return e+"%"}),d=[["",H.a["Interest Base"],H.a["Interest Quote"],H.a.Premium],[H.a.Symbols,a,i,o],[H.a.Rates,u(a),u(i),u(o)]],p=d[2][1],m=d[2][2],f=(l(i)-l(a))/n,h=l(o),g=L.a.find(this.props.funding,{symbol:e.symbol}),y=g?g.fundingRate:null,b=e.maintMargin*U.b,v="number"==typeof y&&Math.abs(s-y)>b;return r.createElement("span",null,se,r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"contractSpecification.paragraph.moreInfo",defaultMessage:"More information about the funding rate is available in the {swapsElement}.",description:"Text instructing user that more information is available on the perpetual contracts guide page",values:{swapsElement:r.createElement("a",{href:R.b+"perpetualContractsGuide#premium-index"},le)}})),r.createElement(k.a,{data:d}),ce,r.createElement("pre",{className:"well"},r.createElement(A.FormattedMessage,{id:"contractSpecification.legend.acronyms",defaultMessage:"I = Interest Rate, B = Interest Base, Q = Interest Quote, T = Funding Times Per Day\nP = Premium Rate, {boldFundingRateElement}",description:"Legend text stating what each variable is. Please maintain variable names.",values:{boldFundingRateElement:ue}})),r.createElement("blockquote",null,r.createElement(A.FormattedMessage,{id:"contractSpecification.legend.definitions",defaultMessage:"The {fundingRateCodeElement} is the rate exchanged between users.{newLine}The {premiumRateCodeElement} is used to calculate it, adjusted by the {interestRateCodeElement} by up to 0.05%.",description:"Text that provides definitions for some of the acronyms in the contract specification legend",values:{fundingRateCodeElement:de,premiumRateCodeElement:pe,interestRateCodeElement:me,newLine:fe}})),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-4"},r.createElement("h4",null,H.a.Formula),he),r.createElement("div",{className:"col-sm-8"},r.createElement("h4",null,H.a.Result),r.createElement("pre",{className:"well"},r.createElement("div",{className:"pull-right strong"},"I = ",c(f),"%"),"I = (",m," - ",p,") / ",n,ge,r.createElement("div",{className:"pull-right strong"},"F = ",c(s),"%"),"F = ",c(h),"% + Clamp(",c(f),"% - ",c(h),"%, -0.05%, 0.05%)"))),v&&"number"==typeof y?r.createElement("div",{className:"help-block"},r.createElement(A.FormattedMessage,{id:"contractSpecification.help.adjustment",defaultMessage:"{boldNoteElement}: The last funding rate was {lastFundingRate}%. In order to prevent instant liquidation, the funding rate can only move by up to 75% of the instrument's maintenance margin, which is {maxAdjustment}%.{newLine}Therefore, this period's funding rate has been set to {fundingRate}%.",description:"Text explaining adjustment information to user for a given contract",values:{boldNoteElement:r.createElement("b",null,H.a.Note),lastFundingRate:c(y),maxAdjustment:c(b),fundingRate:c(s),newLine:ye}})):null)},t.prototype.render=function(){var e=this.props,t=e.instruments,n=e.symbol,a=t.get(n),i=Object(w.b)("contract/"+n,this.context.intl);if(!a)return r.createElement(E.a,{title:i,className:"contractSpecification"},r.createElement("h3",null,H.a["No data."]));var o=this.context,s=o.activeCurrency,l=o.timezoneOffset,c=a.toDisplay({activeCurrency:s,instruments:t,timezoneOffset:l}),u=a.expiry,d=a.settle,p=this.items(c);return r.createElement(E.a,{title:i,className:"contractSpecification"},r.createElement("span",{itemScope:!0,itemType:"http://data-vocabulary.org/Product"},r.createElement(j,{instrument:c}),r.createElement("meta",{itemProp:"name",content:n}),be,r.createElement("meta",{itemProp:"category",content:r.createElement(A.FormattedMessage,{id:"contractSpecification.meta.category",defaultMessage:"{type} {isMultiLeg, select, true {Calendar Spread} other {Future}}",description:"Metatag category content value",values:{type:W.a.type(a),isMultiLeg:c.isMultiLeg}})}),r.createElement("h3",{className:"underlined"},H.a.Description),r.createElement("p",{className:"description",itemProp:"description"},oe.details(c,s,l,!0)),r.createElement("div",{className:"v-offset-xs-1"},a.isSpot?null:r.createElement("span",{className:"help-block"},r.createElement("b",{className:"underlined"},H.a.Expiry,": "),"---"!==c.expiry?r.createElement("span",null,r.createElement(A.FormattedDate,{value:u,format:"full"}),u-Date.now()<6048e5?r.createElement("span",null," (",r.createElement(T.a,{countdown:u,component:"span"}),")"):null):ve),u&&d&&u.valueOf()!==d.valueOf()?r.createElement("span",{className:"help-block"},r.createElement("b",{className:"underlined"},H.a.Settlement,": "),r.createElement(A.FormattedDate,{value:d,format:"full"}),d-Date.now()<6048e5?r.createElement("span",null," (",r.createElement(T.a,{countdown:d,component:"span"}),")"):null,r.createElement("div",{className:"small well v-offset-xs-1"},r.createElement(A.FormattedMessage,{id:"contractSpecification.expiryTime",defaultMessage:"The above expiry time is when this instrument stops trading. Positions will remain open and roll into {inverseLeg}.{newLine}The settlement time indicates when the settlement price is taken and all positions are closed.",description:"Text explaining the contract's expiry and what it means in terms of positions",values:{newLine:Ee,inverseLeg:c.inverseLeg}}))):null),r.createElement("p",null,r.createElement("a",{className:"btn btn-info btn-segmented",href:R.b+"seriesGuide/"+a.rootSymbol},we,r.createElement(A.FormattedMessage,{id:"contractSpecification.anchor.seriesGuide",defaultMessage:"View the {rootSymbol} Series Guide",description:"Url text for the guide page of the contract",values:{rootSymbol:a.rootSymbol}}))),r.createElement(C.a,{selectedSymbol:n}),this.fundingRateDescription(a),Me,r.createElement("span",{itemProp:"offerDetails",itemScope:!0,itemType:"http://data-vocabulary.org/Offer"},r.createElement("meta",{itemProp:"price",content:c.lastPrice}),r.createElement("meta",{itemProp:"currency",content:c.quoteCurrency})),r.createElement(k.a,{className:"compact",data:p,tableName:["_contractSpecification","instrument"],tableClassName:"table-bordered"})))},t}(d.a);Se.displayName="ContractSpecification";var xe=Object(p.a)(function(e){return{actions:e.actions,funding:e.funding,instruments:e.instruments,indices:e.indices}})(Se),ke=n(21),Te=n.n(ke),Ce=n(15),Ne=n.n(Ce),Pe=n(37),Oe=n(62),Fe=n(25),Ie=n(150),Le=(n(79),"http://bitcoincharts.com/charts/bitfinexUSD#rg1zczsg{d}zeg{d}ztgSzm1g10zm2g25zv"),Ae=Object(A.defineMessages)({csv:{id:"BVOLIndex.csv.title",defaultMessage:"BitMEX Price History",description:"Title text for CSV"}}),De=r.createElement(Oe.a,null),Be=r.createElement(A.FormattedMessage,{id:"BVOLIndex.title.BVOL",defaultMessage:".BVOL: Annualized Historical Volatility Index",description:"Title text for BVOL index page"}),_e=r.createElement("p",{className:"pre"},r.createElement(A.FormattedMessage,{id:"BVOLIndex.paragraph.description",defaultMessage:"The BitMEX 30 day Historical Volatility Index is referred to as the .BVOL Index. The Index is the rolling 30 day annualised volatility of the daily 11:30 UTC to 12:00 UTC Time Weighted Average Price (TWAP) of Bitcoin / USD. \n\nThis TWAP is calculated by taking price measurements at 1 minute intervals for 30 minutes.",description:"Text describing what the BVOL Index is"})),Re=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"BVOLIndex.header.calc",defaultMessage:"Calculation Formula",description:"Header text for BVOL Index calculation formula"})),je=r.createElement("sub",null,"0"),Ue=r.createElement("sub",null,"1"),He=r.createElement("sub",null,"2"),qe=r.createElement("sub",null,"30"),We=r.createElement("sub",null,"29"),Ve=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"BVOLIndex.header.reference",defaultMessage:"Reference .BVOL Index & TWAP Historical Values",description:"Header text for historical values of BVOL Index"})),ze=r.createElement("p",{className:"pre"},r.createElement(A.FormattedMessage,{id:"BVOLIndex.paragraph.reference",defaultMessage:"These are BitMEX's daily calculations of volatility and time-weighted average price at the reference exchange. These values are used for settlements.",description:"Text explaining the data in the BVOL historical reference table"})),Ke=r.createElement("a",{href:"/api/v1/trade?symbol=.BVOL&count=200&columns=price"},"API"),Qe=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.state={priceHistory:null},a.cellFormatter=function(e,t,n){if("number"==typeof e){var i=a.props.indices.get(n.symbol),o=i?i.tickSize:.01;e=U.t(e,o)}if("price.BVOL"===t)return e&&e+"%";if("timestamp"===t){var s=D.f(e,a.context.timezoneOffset),l=Le.replace(/\{d\}/g,s);return r.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},s)}return e},a.onSaveAsCSV=function(){var e=a.context.intl.formatMessage;a.state.priceHistory&&Object(Ie.a)({data:a.state.priceHistory,fileName:e(Ae.csv)})},i=n,l()(a,i)}return u()(t,e),t.prototype.componentDidMount=function(){this.fetch()},t.prototype.fetch=function(){var e=Object(Ce.coroutine)(Te.a.mark(function e(){var t,n,r,a,i;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["timestamp","symbol","price"],e.prev=1,e.next=4,Ne.a.all([Fe.c({endpoint:"trade",qs:{symbol:".BVOL",reverse:!0,columns:t}}),Fe.c({endpoint:"trade",qs:{symbol:".XBT30M",reverse:!0,columns:t}})]);case 4:n=e.sent,r=n[0],a=n[1],i=L.a.map(r,function(e,t){return e["price.BVOL"]=e.price,delete e.price,a[t]&&x()(a[t].price)&&(e["price.XBT30M"]=a[t].price),e}),this.setState({priceHistory:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),this.props.actions.createNotification({messageId:"BVOLIndex.FetchError",type:"error",body:e.t0.message});case 14:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}(),t.prototype.render=function(){var e=this.state.priceHistory?r.createElement(Pe.a,{data:this.state.priceHistory,cellFormatter:this.cellFormatter,className:"table-bordered",tableName:"_priceHistory",columns:["timestamp","symbol","price.BVOL","price.XBT30M"]}):De;return r.createElement(E.a,{title:Be,className:"historicalVolatilityIndex"},r.createElement("div",{className:"staticContent widthNarrow"},_e,Re,r.createElement("pre",null,r.createElement(A.FormattedMessage,{id:"BVOLIndex.formula",defaultMessage:"P = Daily TWAP from day 0 to day 30 {newLine}  (i.e. 31 prices to give 30 price movements) {newLine}Stdev = Sample Standard Deviation {newLine}Ln = Natural Logarithm {newLine}Sqrt = Square Root {newLine}{newLine}.BVOL Index = Stdev(Ln(P{subOne}/P{subZero}), Ln(P{subTwo}/P{subOne}), ..., Ln(P{subThirty}/P{subTwentyNine})) *{newLine}              Sqrt(365)",description:"Text descsribing how BVOL is calculated",values:{newLine:"\n",subZero:je,subOne:Ue,subTwo:He,subThirty:qe,subTwentyNine:We}})),Ve,ze,r.createElement("p",{className:"pre"},r.createElement(A.FormattedMessage,{id:"BVOLIndex.paragraph.moreResults",defaultMessage:"The last 100 days are available below. More results can be retrieved from the {api}.",description:"Text instructing user how to retrieve more historical BVOL data",values:{api:Ke}})),r.createElement("p",null,r.createElement("button",{className:"btn btn-primary btn-inline saveAs",onClick:this.onSaveAsCSV},H.a["Save as CSV"])),e))},t}(d.a);Qe.displayName="BVOLIndex";var Ge=Object(p.a)(function(e){return{actions:e.actions,indices:e.indices}})(Qe),Xe=n(233),Ye=r.createElement("br",null),Je=r.createElement(A.FormattedMessage,{id:"priceIndex.desc.offerRate",defaultMessage:"It is calculated from the depth-weighted offer rate.",description:"Text describing how lending rates are calculated."}),Ze=r.createElement(A.FormattedMessage,{id:"priceIndex.tableDesc.rate",defaultMessage:"rate",description:"Contextual text that follows 'time-weighted average' when there is a lending rate"}),$e=r.createElement(A.FormattedMessage,{id:"priceIndex.tableDesc.price",defaultMessage:"price",description:"Contextual text that follows 'time-weighted average' when there is no lending rate"}),et={descHeader:function(e){return r.createElement(A.FormattedMessage,{id:"priceIndex.header.description",defaultMessage:"{symbol} Index Details",description:"Header text for an indexes details",values:{symbol:e.symbol}})},desc:function(e,t,n){if(this["fullOverride."+e.symbol+".desc"])return this["fullOverride."+e.symbol+".desc"];var a=n.messages["symbol."+e.underlying]||e.underlying,i=D.r(e.symbol),o=i[0],s=i[1];null==o&&(o=1),null==s&&(s="M");var l=D.a[s],c=null!=e.calcInterval&&".XBT_5M"!==e.symbol,u=this["partialOverride.desc."+e.symbol]||"";if(e.isLendingRate||e.isPremiumRate){var d=e.isLendingRate?H.a["Lending Rate"]:H.a["Premium Rate"],p=e.isLendingRate?a:e.referenceSymbol;if(c)return r.createElement(A.FormattedMessage,{id:"priceIndex.desc.rateTwap",defaultMessage:"The BitMEX {symbol} Index is a {dashedIntervalMessage} TWAP of the {rateCurrency} {indexType} at {referenceExchange} ending at 12:00 UTC from the {indexLinkElement}. These values are used for funding rates and are provided {intervalMessage} in advance.{partialOverride}",description:"Description text for an index (with lending rate and is TWAP)",values:{symbol:e.symbol,dashedIntervalMessage:D.g(o,{singular:!0,dashed:!0,unit:l,unitOnly:!1}),rateCurrency:p,indexType:d,referenceExchange:Xe.a["name."+(t?t.reference:"")],indexLinkElement:r.createElement("a",{href:R.b+"index/"+e.referenceSymbol},e.referenceSymbol," ",H.a.Index),intervalMessage:D.g(o,{singular:!1,dashed:!1,unit:l,unitOnly:!1}),partialOverride:u}});var m=Je;return r.createElement(A.FormattedMessage,{id:"priceIndex.desc.rate",defaultMessage:"The BitMEX {symbol} Index tracks the {rateCurrency} {indexType} every {intervalMessage} at {indexExchange}. {offerRate}{partialOverride}",description:"Description text for an index (with lending rate and is not TWAP)",values:{symbol:e.symbol,indexType:d,rateCurrency:p,indexExchange:Xe.a["name."+e.reference]||e.reference,intervalMessage:D.g(o,{singular:!1,dashed:!1,unit:l,unitOnly:!0}),offerRate:e.isLendingRate?m:"",partialOverride:u}})}return c?r.createElement(A.FormattedMessage,{id:"priceIndex.desc.twap",defaultMessage:"The BitMEX {symbol} Index is a {dashedIntervalMessage} TWAP of the {currency} price at {referenceExchange} ending at 12:00 UTC from the {indexLinkElement}. These values are used for settlements. The TWAP is calculated using values from the {indexExchange} {referenceSymbol} index.{partialOverride}",description:"Description text for an index (non lending and is TWAP)",values:{symbol:e.symbol,referenceSymbol:e.referenceSymbol,dashedIntervalMessage:D.g(o,{singular:!0,dashed:!0,unit:l,unitOnly:!1}),currency:a,indexExchange:Xe.a["name."+e.reference]||e.reference,referenceExchange:Xe.a["name."+(t?t.reference:"")],indexLinkElement:r.createElement("a",{href:R.b+"index/"+e.referenceSymbol},e.referenceSymbol," ",H.a.Index),partialOverride:u}}):".A50"===e.symbol?r.createElement(A.FormattedMessage,{id:"priceIndex.desc.a50",defaultMessage:"The BitMEX .A50 Index tracks the official close price of the China A50 Index every day.{partialOverride}",description:"Description text for .A50 Index",values:{symbol:e.symbol,partialOverride:u}}):r.createElement(A.FormattedMessage,{id:"priceIndex.desc.index",defaultMessage:"The BitMEX {symbol} Index tracks the {currency} price every {intervalMessage}. The {currency} price is calculated from the last price at {indexExchange}. The {symbol} index price is shown on many pages as the current {currency} price.{partialOverride}",description:"Description text for an index",values:{symbol:e.symbol,currency:a,intervalMessage:D.g(o,{singular:!1,dashed:!1,unit:l,unitOnly:1===o}),indexExchange:Xe.a["name."+e.reference]||e.reference,partialOverride:u}})},tableHeader:function(e){return r.createElement(A.FormattedMessage,{id:"priceIndex.tableHeader",defaultMessage:"{symbol} Index Historical Values",description:"Table header text for an index",values:{symbol:e.symbol}})},"values.header":r.createElement(A.FormattedMessage,{id:"priceIndex.values.headers",defaultMessage:"Index Values",description:"Header showing values of an index"}),"values.notes":function(e,t){if(this["fullOverride."+e.symbol+".tableDesc"])return this["fullOverride."+e.symbol+".tableDesc"];var n=D.r(e.symbol),a=n[0],i=n[1];null==a&&(a=1),null==i&&(i="M");var o=D.a[i],s=D.g(a,{singular:!0,dashed:!0,unit:o,unitOnly:!1}),l=this["partialOverride.tableDesc."+e.symbol]||"",c=r.createElement(A.FormattedMessage,{id:"priceIndex.tableDesc.moreResults",defaultMessage:"The last 100 measurements are available here. More results can be retrieved from the {apiLinkElement}.",description:"Text instructing user to click link for more measurement data for a given index",values:{apiLinkElement:r.createElement("a",{href:"/api/v1/trade?symbol="+e.symbol+"&count=200&columns=price&reverse=true"},"API")}});return e.isTWAP?r.createElement(A.FormattedMessage,{id:"priceIndex.tableDesc.isTWAP",defaultMessage:"These are BitMEX's daily calculations of the {intervalMessage} time-weighted average {priceRateMessage} of {symbol} on {exchange}.{newLine}{newLine}{moreResultsMessage}",description:"Table description text for TWAP index",values:{newLine:Ye,intervalMessage:s,symbol:t?t.referenceSymbol:"",exchange:Xe.a["name."+(t?t.reference:"")],moreResultsMessage:c,priceRateMessage:e.isLendingRate?Ze:$e,partialOverride:l}}):".A50"===e.symbol?r.createElement(A.FormattedMessage,{id:"priceIndex.tableDesc..A50",defaultMessage:"These are daily snaps of .A50.{newLine}{newLine}{moreResultsMessage}",description:"Table description text for China .A50 index",values:{newLine:Ye,moreResultsMessage:c,partialOverride:l}}):r.createElement(A.FormattedMessage,{id:"priceIndex.tableDesc.other",defaultMessage:"These are {intervalMessage} snaps of {referenceSymbol} from {exchange}.{newLine}{newLine}{moreResultsMessage}",description:"Table description text for an index",values:{newLine:Ye,intervalMessage:s,referenceSymbol:e.referenceSymbol,exchange:Xe.a["name."+e.reference]||e.reference,moreResultsMessage:c,partialOverride:l}})},"partialOverride.desc..XBT":r.createElement(A.FormattedMessage,{id:"priceIndex.partialOverride.desc.XBT",defaultMessage:"{newLine}{newLine}.XBT pricing is currently derived from 50% Bitstamp and 50% OKCoin Intl. This index is being superseded by the {BXBTLink} Index.",description:"Additional description text for .XBT index",values:{newLine:Ye,BXBTLink:r.createElement("a",{href:R.b+"index/.BXBT"},".BXBT")}}),"partialOverride.desc..BXBT":r.createElement(A.FormattedMessage,{id:"priceIndex.partialOverride.desc.BXBT",defaultMessage:"{newLine}{newLine}.BXBT pricing is currently derived from equal parts Bitstamp and GDAX. This composition is subject to change due to unprecedented exchange instability.",description:"Additional description text for .BXBT index",values:{newLine:Ye}}),"partialOverride.desc..BXBTJPY":r.createElement(A.FormattedMessage,{id:"priceIndex.partialOverride.desc.BXBTJPY",defaultMessage:"{newLine}{newLine}.BXBTJPY pricing is currently derived from 50% Bitflyer and 50% Quoine. Any changes to this index will be announced before implementation.",description:"Additional description text for .BXBTJPY index",values:{newLine:Ye}}),"partialOverride.desc..XBTCNY":r.createElement(A.FormattedMessage,{id:"priceIndex.partialOverride.desc.XBTCNY",defaultMessage:"{newLine}{newLine}This index is used for settling CNY contracts. The composition of the .XBTCNY Index is an equal weighted index of the last traded Bitcoin / CNY prices on BTCC, Huobi and OKCoin.cn.",description:"Additional description text for .XBTCNY index",values:{newLine:Ye}}),"partialOverride.desc..XBTBON":r.createElement(A.FormattedMessage,{id:"priceIndex.partialOverride.desc.XBTBON",defaultMessage:"{newLine}{newLine}This index no longer fetches from Bitfinex, but is set to a constant rate, due to extreme lending rate volatility.",description:"Additional description text for .XBTBON index",values:{newLine:Ye}}),"fullOverride..BVOL24H.tableDesc":r.createElement(A.FormattedMessage,{id:"priceIndex.fullOverride..BVOL24H.tableDesc",defaultMessage:"These are BitMEX's daily calculations of Bitcoin volatility at the reference exchange. These values are used for settlements. The last 100 values are available below. More results can be retrieved from the {apiLinkElement}.",description:"Table description text for .BVOL24H index",values:{apiLinkElement:r.createElement("a",{href:"/api/v1/trade?symbol=.BVOL24H&count=200&columns=price"},"API")}}),"fullOverride..BVOL7D.tableDesc":r.createElement(A.FormattedMessage,{id:"priceIndex.fullOverride..BVOL7D.tableDesc",defaultMessage:"These are BitMEX's daily calculations of Bitcoin volatility at the reference exchange. These values are used for settlements. The last 100 values are available below. More results can be retrieved from the {apiLinkElement}.",description:"Table description text for .BVOL7D index",values:{apiLinkElement:r.createElement("a",{href:"/api/v1/trade?symbol=.BVOL7D&count=200&columns=price"},"API")}}),"fullOverride..EVOL7D.tableDesc":r.createElement(A.FormattedMessage,{id:"priceIndex.fullOverride..EVOL7D.tableDesc",defaultMessage:"These are BitMEX's daily calculations of Ether volatility at the reference exchange. These values are used for settlements. The last 100 values are available below. More results can be retrieved from the {apiLinkElement}.",description:"Table description text for .EVOL7D index",values:{apiLinkElement:r.createElement("a",{href:"/api/v1/trade?symbol=.EVOL7D&count=200&columns=price"},"API")}}),"fullOverride..XBT_5M.desc":r.createElement(A.FormattedMessage,{id:"priceIndex.fullOverride..XBT_5M.desc",defaultMessage:'The BitMEX .XBT_5M Index tracks the Bitcoin price every five minutes. It is used by the .BVOL24H index to calculate volatility. This index is a "virtual index" - it is calculated using 5-minute snaps from the {indexLinkElement}. .XBT_5M is useful for charting the underlying data for daily BVOL contracts.',description:"Text that fully overrides autogenerated index description text for .XBT_5M",values:{indexLinkElement:r.createElement("a",{href:R.b+"index/.XBT"},".XBTÂ ",H.a.Index)}}),"fullOverride..BVOL7D.desc":r.createElement(A.FormattedMessage,{id:"priceIndex.fullOverride..BVOL7D.desc",defaultMessage:"The BitMEX Weekly Historical Bitcoin Volatility Index is referred to as the .BVOL7D Index. This index is calculated logarithmic percentage change taken from measurements taken on the XBTUSD spot price every minute. {newLine}{newLine} The settlement price is calculated from 10080 snaps over the 7-day period (1440 per day).",description:"Text that fully overrides autogenerated index description text for .BVOL7D",values:{newLine:Ye}}),"fullOverride..EVOL7D.desc":r.createElement(A.FormattedMessage,{id:"priceIndex.fullOverride..EVOL7D.desc",defaultMessage:"The BitMEX Weekly Historical Ether Volatility Index is referred to as the .EVOL7D Index. This index is calculated logarithmic percentage change taken from measurements taken on the ETHXBT spot price every minute. {newLine}{newLine} The settlement price is calculated from 10080 snaps over the 7-day period (1440 per day).",description:"Text that fully overrides autogenerated index description text for .EVOL7D",values:{newLine:Ye}}),"fullOverride..BVOL24H.desc":r.createElement(A.FormattedMessage,{id:"priceIndex.fullOverride..BVOL24H.desc",defaultMessage:"The BitMEX Daily Historical Bitcoin Volatility Index is referred to as the .BVOL24H Index. This index is calculated logarithmic percentage change taken from measurements taken the Bitcoin spot price every minute. {newLine}{newLine}The settlement price is calculated from 1440 snaps over the 24-hour period.",description:"Text that fully overrides autogenerated index description text for .BVOL24H",values:{newLine:Ye}}),"calc.multipart":r.createElement(A.FormattedMessage,{id:"priceIndex.calc.multipart",defaultMessage:'This index is composite, which means the price is built from multiple sources. See the "Composite Index Breakdown" below for information on the constituents. If an exchange is to lose service and no trades are printed for over 15 minutes, BitMEX services may automatically remove that constituent from the index until trading resumes.',description:"Explanation of multipart indices & deweighting"}),"calc.header..BVOL24H":H.a["Calculation Formula"],"calc.formula..BVOL24H":r.createElement(A.FormattedMessage,{id:"priceIndex.calc.formula..BVOL24H",defaultMessage:"{pLine} Last Price (taken at 1 minute intervals){newLine}{stdevLine} Sample Standard Deviation{newLine}{lnLine} Natural Logarithm{newLine}{sqrtLine} Square Root{newLine}{newLine}{indexLine} Stdev(Ln(P{subOne}/P{subZero}), Ln(P{subTwo}/P{subOne}), ..., Ln(P{subA}/P{subB})){newLine}{lastLine}",description:"Formula text for BVOL24H index. Do not translate Stdev, LN, P or other variables.",values:{subZero:r.createElement("sub",null,"0"),subOne:r.createElement("sub",null,"1"),subTwo:r.createElement("sub",null,"2"),subA:r.createElement("sub",null,"288"),subB:r.createElement("sub",null,"277"),newLine:Ye,pLine:"P =",stdevLine:"Stdev =",lnLine:"Ln =",sqrtLine:"Sqrt =",indexLine:".BVOL24H Index =",lastLine:"              * Sqrt(1440)"}}),"calc.header..BVOL7D":H.a["Calculation Formula"],"calc.formula..BVOL7D":r.createElement(A.FormattedMessage,{id:"priceIndex.calc.formula..BVOL7D",defaultMessage:"{pLine} Last Price (taken at 1 minute intervals){newLine}{stdevLine} Sample Standard Deviation{newLine}{lnLine} Natural Logarithm{newLine}{sqrtLine} Square Root{newLine}{newLine}{indexLine} Stdev(Ln(P{subOne}/P{subZero}), Ln(P{subTwo}/P{subOne}), ..., Ln(P{subCurYear}/P{subLastYear})){newLine}{lastLine}",description:"Formula text for .BVOL7D index. Do not translate Stdev, LN, P or other variables.",values:{subZero:r.createElement("sub",null,"0"),subOne:r.createElement("sub",null,"1"),subTwo:r.createElement("sub",null,"2"),subCurYear:r.createElement("sub",null,"2016"),subLastYear:r.createElement("sub",null,"2015"),newLine:Ye,pLine:"P =",stdevLine:"Stdev =",lnLine:"Ln =",sqrtLine:"Sqrt =",indexLine:".BVOL7D Index =",lastLine:"              * Sqrt(10080)"}}),"calc.header..EVOL7D":H.a["Calculation Formula"],"calc.formula..EVOL7D":r.createElement(A.FormattedMessage,{id:"priceIndex.calc.formula..EVOL7D",defaultMessage:"{pLine} Last Price (taken at 1 minute intervals){newLine}{stdevLine} Sample Standard Deviation{newLine}{lnLine} Natural Logarithm{newLine}{sqrtLine} Square Root{newLine}{newLine}{indexLine} Stdev(Ln(P{subOne}/P{subZero}), Ln(P{subTwo}/P{subOne}), ..., Ln(P{subCurYear}/P{subLastYear})){newLine}{lastLine}",description:"Formula text for .EVOL7D index. Do not translate Stdev, LN, P or other variables.",values:{subZero:r.createElement("sub",null,"0"),subOne:r.createElement("sub",null,"1"),subTwo:r.createElement("sub",null,"2"),subCurYear:r.createElement("sub",null,"2016"),subLastYear:r.createElement("sub",null,"2015"),newLine:Ye,pLine:"P =",stdevLine:"Stdev =",lnLine:"Ln =",sqrtLine:"Sqrt =",indexLine:".EVOL7D Index =",lastLine:"              * Sqrt(10080)"}}),csvName:function(e){return r.createElement(A.FormattedMessage,{id:"priceIndex.csvName",defaultMessage:"BitMEX {symbol} Price History",description:"Filename text for CSV",values:{symbol:e}})},noData:r.createElement(A.FormattedMessage,{id:"priceIndex.noData",defaultMessage:"No data is available for this index. The underlying market may not yet be open.",description:"Shown on price index page to describe indices that are not printing prices."}),instrumentsUsing:r.createElement(A.FormattedMessage,{id:"priceIndex.instrumentsUsing",defaultMessage:"Instruments Using This Index",description:"Header showing instruments that settle on this index"}),indicesUsing:r.createElement(A.FormattedMessage,{id:"priceIndex.indicesUsing",defaultMessage:"Indices Using This Index",description:"Header showing indices that settle on this index"}),"breakdown.header":r.createElement(A.FormattedMessage,{id:"priceIndex.breakdown.header",defaultMessage:"Composite Index Breakdown",description:"Header showing breakdown of a composite index"}),"breakdown.notes":function(e){return r.createElement(A.FormattedMessage,{id:"priceIndex.breakdown.notes",defaultMessage:"This shows the breakdown of {symbol} into its constituent prices.\n\nThe last 100 measurements are available here. More results can be retrieved from the {apiLinkElement}.",description:"Text instructing user to click link for more measurement data for a given index",values:{apiLinkElement:r.createElement("a",{href:"/api/v1/instrument/compositeIndex?symbol="+e.symbol+"&count=200&reverse=true"},"API"),symbol:e.symbol}})}},tt=n(19),nt=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t}(function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t}(tt.a));nt.typeName="IndexComposite",nt.derived={tickSize:{fn:function(){var e=this.stores.getStore("InstrumentStore").getInstrument(this.indexSymbol);return e?e.tickSize:.01}}},nt.displayTypes={lastPrice:tt.b.fixedNumber,weight:tt.b.percentageToFixed(2)};var rt=Object(tt.c)(nt),at=r.createElement(Oe.a,null),it=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={priceHistory:null},r.onSaveAsCSV=function(){r.state.priceHistory&&Object(Ie.a)({data:r.state.priceHistory,fileName:r.context.intl.formatMessage(et.csvName(r.props.symbol).props,{symbol:r.props.symbol})})},a=n,l()(r,a)}return u()(t,e),t.prototype.componentDidMount=function(){this.fetch(this.props.symbol),this.mounted=!0},t.prototype.componentWillReceiveProps=function(e){this.props.symbol!==e.symbol&&(this.setState({priceHistory:null}),this.fetch(e.symbol))},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.generateCellFormatters=function(){var e,t=this,n=this.context,r=n.activeCurrency,a=n.timezoneOffset;return(e={})["price"+this.props.symbol]={deps:["symbol"],fn:function(e,n){var i=n.symbol;if("number"!=typeof e)return"---";var o=t.props.indices.get(i);return o?o.isLendingRate||o.isPremiumRate?o.getDisplayFieldBase("fundingRate",e,{activeCurrency:r,timezoneOffset:a}):U.t(e,o.tickSize):"---"}},e.timestamp={deps:["symbol"],fn:function(e){return D.i(e,t.context.timezoneOffset)}},e},t.prototype.fetch=function(){var e=Object(Ce.coroutine)(Te.a.mark(function e(t){var n,r,a;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=["timestamp","symbol","price"],e.prev=1,e.next=4,Fe.c({endpoint:"trade",qs:{symbol:t,reverse:!0,columns:n}});case 4:if(r=e.sent,this.mounted){e.next=8;break}return e.abrupt("return");case 8:a=L.a.map(r,function(e){var t,n=e.timestamp,r=e.symbol,a=e.price;return(t={})["price"+r]=a,t.symbol=r,t.timestamp=n,t}),this.setState({priceHistory:a}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.props.actions.createNotification({messageId:"PriceIndex.FetchError",messageValues:{symbol:t},type:"error",body:/minified exception/i.test(e.t0.message)?"":e.t0.message});case 15:case"end":return e.stop()}},e,this,[[1,12]])}));return function(t){return e.apply(this,arguments)}}(),t.prototype.render=function(){var e=this.props,t=e.indices,n=e.instruments,a=e.symbol,i=t.get(a),o=t.get(i?i.referenceSymbol:"");if(!i)return r.createElement(E.a,{title:this.context.intl.messages["titles.index/"+a],className:"priceIndex"},H.a["No data."]);var s=this.state.priceHistory?r.createElement(Pe.a,{data:this.state.priceHistory,key:a,cellFormatters:this.generateCellFormatters(),className:"table-bordered",tableName:"_priceHistory",columns:["timestamp","symbol","price"+a]}):at,l=null;et["calc.header."+a]&&et["calc.formula."+a]&&(l=r.createElement("span",null,r.createElement("h3",null,et["calc.header."+a]),r.createElement("pre",null,r.createElement("code",null,et["calc.formula."+a]))));var c=n.filter(function(e){return e.referenceSymbol===a}),u=t.filter(function(e){return e.symbol!==a&&e.referenceSymbol===a}),d=this.context.intl.messages["titles.index/"+a];d||(d=a);var p="MRCXXX"===i.typ,m=null;if(p){for(var f=i;f&&f.referenceSymbol!==f.symbol;)f=t.get(f.referenceSymbol);f&&(m=r.createElement("div",{className:"flexItemShrink"},r.createElement("h3",null,et["breakdown.header"]),r.createElement(lt,{index:f,key:f.symbol}),r.createElement("div",{className:"well v-offset-1 pre"},et["breakdown.notes"](f))))}return r.createElement(E.a,{title:d,className:"priceIndex"},r.createElement("div",{className:"widthNarrow"},r.createElement("h3",{className:"underlined"},et.descHeader(i)),r.createElement("p",{className:"pre"},et.desc(i,o,this.context.intl)),p&&m?r.createElement("p",null,et["calc.multipart"]):null,l,c.length?r.createElement("div",null,r.createElement("h4",{className:"underlined"},et.instrumentsUsing),r.createElement("ul",null,c.map(function(e){return r.createElement("li",{key:e.symbol},r.createElement("a",{href:R.b+"contract/"+e.symbol},e.symbol))}))):null,u.length?r.createElement("div",null,r.createElement("h4",{className:"underlined"},et.indicesUsing),r.createElement("ul",null,u.map(function(e){return r.createElement("li",{key:e.symbol},r.createElement("a",{href:R.b+"index/"+e.symbol},e.symbol))}))):null,r.createElement("h3",{className:"underlined"},et.tableHeader(i)),null!=i.lastPrice?r.createElement("div",null,r.createElement(C.a,{selectedSymbol:a}),r.createElement("div",{className:"flexBody"},r.createElement("div",{className:"flexItemShrink"},r.createElement("h3",null,et["values.header"]),s,r.createElement("div",{className:"well v-offset-1"},et["values.notes"](i,o))),m)):r.createElement("p",null,et.noData)))},t}(d.a);it.displayName="PriceIndex";var ot=Object(p.a)(function(e){return{actions:e.actions,indices:e.indices,instruments:e.instruments}})(it),st=r.createElement(Oe.a,null),lt=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.mounted=!1,r.state={loading:Boolean(r.props.snaps),snaps:r.props.snaps||[]},a=n,l()(r,a)}return u()(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetch()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetch=function(){var e=Object(Ce.coroutine)(Te.a.mark(function e(){var t,n,r;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.index,e.prev=1,e.next=4,Fe.c({endpoint:"/instrument/compositeIndex",qs:{symbol:t.symbol,reverse:!0,count:100}});case 4:if(n=e.sent,Array.isArray(n)){e.next=7;break}throw new Error("Unexpected response from compositeIndex");case 7:if(r=n.filter(function(e){return"BMI"!==e.reference}).map(function(e){return new rt(e)}),this.mounted){e.next=10;break}return e.abrupt("return");case 10:this.setState({snaps:r,loading:!1}),e.next=18;break;case 13:if(e.prev=13,e.t0=e.catch(1),this.mounted){e.next=17;break}return e.abrupt("return");case 17:this.setState({error:e.t0.message,loading:!1});case 18:case"end":return e.stop()}},e,this,[[1,13]])}));return function(){return e.apply(this,arguments)}}(),t.prototype.render=function(){var e=void 0;return e=this.state.loading?st:this.state.error?r.createElement("div",{className:"alert alert-danger"},this.state.error):r.createElement(Pe.a,{className:"table-bordered",data:this.state.snaps,columns:t.COLUMNS}),r.createElement("div",{className:"indexBreakdownTable"},e)},t}(d.a);lt.displayName="IndexBreakdownTable",lt.COLUMNS=["timestamp","reference","weight","lastPrice"];var ct=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=".BVOL"===this.props.symbol?Ge:ot;return r.createElement(e,this.props)},t}(d.a);ct.displayName="IndexWrapper",ct.propTypes=b()({symbol:F.a.string.isRequired},Ge.propTypes,ot.propTypes);var ut=r.createElement("div",{className:"col-md-5"},r.createElement("h1",{className:"text-align-center"},r.createElement(A.FormattedMessage,{id:"NotFoundPage.header.404",defaultMessage:"404",description:"Header text for 404 error. When a page cannot be found."}))),dt=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"NotFoundPage.header.sorry",defaultMessage:"Sorry, we could not find that page. Please check the URL.",description:"Header text for "})),pt=r.createElement("br",null),mt=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){return r.createElement("div",null,r.createElement("section",{className:"widget widget-404 widget-narrow center-block v-offset-xs-6"},r.createElement("div",{className:"body"},r.createElement("div",{className:"row"},ut,r.createElement("div",{className:"col-md-7"},r.createElement("div",{className:"description"},dt,r.createElement("a",{href:R.b},H.a["Go Back"]),pt,r.createElement("a",{href:"mailto:support@bitmex.com"},H.a["Email Support"])))))))},t}(d.a);mt.displayName="NotFoundPage",mt.propTypes={currentRoute:F.a.string};var ft=n(249),ht=n(225),gt=n(20),yt=n.n(gt),bt=n(18),vt=n.n(bt),Et=n(68),wt=n(53),Mt=n(16),St=n(50),xt=n(44),kt=n(27),Tt=n.n(kt),Ct=n(92),Nt=n(48),Pt=n(101),Ot=250,Ft=r.createElement("i",{className:"fa fa-fw fa-times"}),It=r.createElement("i",{className:"fa fa-fw fa-check"}),Lt=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={isValid:!0,toggled:!1,toggleStamp:0,value:r.coerceValue(r.props.value)},r.onBlur=function(e){!r.props.closeOnBlur||Date.now()-r.state.toggleStamp<Ot||r.state.toggled&&r.setState({toggled:!1})},r.onChange=function(e){var t=void 0;if("number"==typeof e)t=e;else{var n=e.target;t=n.value}t=r.coerceValue(t),r.props.onChange&&r.props.onChange(t),r.setState({value:t})},r.onConfirm=function(e){r.props.onConfirm(r.coerceValue(r.state.value)),r.setState({toggled:!1,value:r.coerceValue(r.props.value)})},r.onKeyDown=function(e){var t=e.which||e.keyCode;t===Pt.b||t===Pt.d?(e.preventDefault(),r.onConfirm(e)):t===Pt.c&&r.toggleDisplay()},r.onValidityChange=function(e){r.setState({isValid:e})},r.preventDefault=function(e){return e.preventDefault()},r.toggleDisplay=function(){r.setState({toggled:!r.state.toggled,toggleStamp:Date.now(),value:r.coerceValue(r.props.value)})},a=n,l()(r,a)}return u()(t,e),t.prototype.componentDidUpdate=function(e,t){!t.toggled&&this.state.toggled&&this.input&&function(e){var t=e.type;e.focus();try{e.type="text",e.selectionStart=e.value.length}catch(e){}finally{e.type=t}}(this.input)},t.prototype.coerceValue=function(e){return"number"===this.props.type?Number(e):e},t.prototype.render=function(){var e=this,t=this.props,n=t.children,a=t.className,i=t.inputProps,o=t.type,s=this.state,l=s.isValid,c=s.value;if(this.state.toggled){var u="number"===o?r.createElement(Nt.a,b()({},i,{onValidityChange:this.onValidityChange,onChange:this.onChange,onKeyDown:this.onKeyDown,value:Number(c),onBlur:this.onBlur,ref:function(t){return t&&(e.input=t.input)}})):r.createElement("input",b()({},i,{onBlur:this.onBlur,ref:function(t){return e.input=t}}));return r.createElement("span",{className:"editableItem toggled input-group form-control-xs "+(l?"valid":"invalid")+" "+a},r.createElement("span",{className:"input-group-btn"},r.createElement("button",{className:"btn btn-danger",onClick:this.toggleDisplay,onMouseDown:this.preventDefault},Ft)),u,r.createElement("span",{className:"input-group-btn"},r.createElement("button",{className:"btn btn-success",onClick:this.onConfirm,onMouseDown:this.preventDefault,disabled:!l},It)))}return r.createElement("span",{className:a+" editableItem",onClick:this.toggleDisplay},n)},t}(d.a);Lt.displayName="EditableItem",Lt.defaultProps={className:"",closeOnBlur:!0,inputProps:{},type:"number"};var At=n(85),Dt=(vt()("frontend:OpenOrderTable"),["symbol","orderQty","price","cumQty","leavesQty","avgPx","ordTypeReadable","ordStatus","origTransactTime"]),Bt={symbol:[].concat(Dt.slice(0,4),["grossValue"],Dt.slice(5)),active:[].concat(Dt.slice(0,5),["grossValue"],Dt.slice(5)),stops:[].concat(Dt.slice(0,4),["stopPx","triggeringPrice"],Dt.slice(5)),history:[].concat(Dt.slice(0,4),["stopPx"],Dt.slice(5)),contingent:[].concat(Dt.slice(0,5),["grossValue","triggered"],Dt.slice(5))},_t=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.clearAllBuyOrders",defaultMessage:"Click to clear all buy orders.",description:"Tooltip text for clear all buy orders button"}),Rt=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.clearAllSellOrders",defaultMessage:"Click to clear all sell orders.",description:"Tooltip text for clear all sell orders button"}),jt=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.clearAllOrders",defaultMessage:"Click to clear all orders.",description:"Tooltip text for clear all orders button"}),Ut=r.createElement("i",{className:"fa fa-check fa-fw clear"}),Ht=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.cancelAllBuyOrders",defaultMessage:"Click to cancel all buy orders.",description:"Tooltip text for cancel all buy orders button"}),qt=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.cancelAllSellOrders",defaultMessage:"Click to cancel all sell orders.",description:"Tooltip text for cancel all sell orders button"}),Wt=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.cancelAllOrders",defaultMessage:"Click to cancel all orders.",description:"Tooltip text for cancel all orders button"}),Vt=r.createElement("i",{className:"fa fa-times fa-fw cancel all"}),zt=r.createElement(A.FormattedMessage,{id:"openOrderTable.button.clearOrder",defaultMessage:"Click to clear this order.",description:"Tooltip text instructing user that clicking button will clear the order"}),Kt=r.createElement("i",{className:"fa fa-check fa-fw clear visible-xs-inline"}),Qt=r.createElement(A.FormattedMessage,{id:"openOrderTable.button.cancelOrder",defaultMessage:"Click to cancel this order.",description:"Tooltip text instructing user that clicking button will cancel order"}),Gt=r.createElement("i",{className:"fa fa-times fa-fw cancel visible-xs-inline"}),Xt=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.autoFill",defaultMessage:"Click to autofill the order controls.",description:"Tooltip text instructing user that clicking button will autofill order controls."}),Yt=r.createElement(A.FormattedMessage,{id:"openOrderTable.indicator.triggered",defaultMessage:"Triggered",description:"Indicator text for an active order"}),Jt=r.createElement(A.FormattedMessage,{id:"openOrderTable.indicator.untriggered",defaultMessage:"Untriggered",description:"Indicator text for an idle order"}),Zt=r.createElement("b",null,r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.market",defaultMessage:"Market",description:"Tooltip text for Market"})),$t=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.autoFill",defaultMessage:"Click to autofill the order controls.",description:"Tooltip text instructing user that clicking button will autofill order controls."}),en=r.createElement(A.FormattedMessage,{id:"openOrderTable.rowHeader.buys",defaultMessage:"Buys",description:"Row header text for open buy orders in open order table"}),tn=r.createElement(A.FormattedMessage,{id:"openOrderTable.rowHeader.sells",defaultMessage:"Sells",description:"Row header text for open sell orders in open order table"}),nn=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.cellFormatters={actions:{deps:["summary","hasLen","terminated","side","orderID"],fn:function(e,t){var n=t.summary,i=t.hasLen,o=t.terminated,s=t.side,l=t.orderID;if(n)return i?o?r.createElement(Mt.a,{className:"btn btn-xs btn-xs-flat btn-success noHover","data-side":s,onClick:a.onClearAllOrders,text:function(){return s?"Buy"===s?_t:Rt:jt}},Ut):r.createElement(Mt.a,{className:"btn btn-xs btn-xs-flat btn-danger noHover","data-side":s,onClick:a.onCancelAllOrders,text:function(){return s?"Buy"===s?Ht:qt:Wt}},Vt):e;if(o)return r.createElement(Mt.a,{className:"btn btn-sm btn-success noHover",text:function(){return zt},onClick:a.onOrderClear,"data-order-id":l},r.createElement("span",{className:"hidden-xs"},H.a.Clear),Kt);var c=Boolean(a.getSubmitStatus(l));return r.createElement(Mt.a,{className:"btn btn-sm btn-danger noHover"+(c?" disabled":""),text:Qt,onClick:c?void 0:a.onOrderCancel,"data-order-id":l},r.createElement("span",{className:"hidden-xs"},H.a.Cancel),Gt)}},cumQty:{deps:["side"],fn:function(e,t){var n=t.side;return e?("Sell"===n&&(e=-e),r.createElement("span",{className:U.q(e)},e)):null}},orderID:{deps:["summary"],fn:function(e,t){return t.summary?null:r.createElement(St.a,{value:e,title:e},e.slice(0,7))}},orderQty:{deps:["orderID","side","summary","terminated"],fn:function(e,t){var n=t.orderID,i=t.side,o=t.summary,s=t.terminated;return e?("Sell"===i&&(e=-e),s||o?r.createElement(Mt.a,{text:function(){return Xt},className:s?"":U.q(e),"data-value":e,onClick:a.onQtyClick},e):r.createElement(ln,{component:a,orderID:n,value:e,keyName:"orderQty",className:U.q(e)})):null}},ordType:{deps:["execInst","timeInForce"],fn:function(e,t){var n=t.execInst,a=t.timeInForce;e=At.a[e]||e;var i="";return n&&(i+="ExecInst: "+n+"."),a&&"GoodTillCancel"!==a&&(i=(i?i+" ":"")+"TIF: "+a),i?r.createElement(Mt.a,{text:i},e):e}},ordTypeReadable:"ordType",ordStatus:{deps:["text","isStop","summary","isStopTriggered"],fn:function(e,t){var n=t.text,i=t.isStop,o=t.summary,s=t.isStopTriggered;return o?"---":"Rejected"===e||"Canceled"===e?r.createElement(Mt.a,{text:U.h(n,a.context.activeCurrency)},e):"New"===e&&i?r.createElement(Mt.a,{text:n},s?Yt:Jt):e}},price:{deps:["ordType","orderID","summary","terminated","tickSize"],fn:function(e,t){var n=t.ordType,i=t.orderID,o=t.summary,s=t.terminated,l=t.tickSize;return e?!n||-1===n.indexOf("Market")&&"Stop"!==n?o||s?r.createElement(Mt.a,{text:function(){return $t},"data-value":e,onClick:a.onPriceClick},e):r.createElement(ln,{component:a,orderID:i,value:e,keyName:"price",inputProps:{step:l}}):Zt:null}},stopPx:{deps:["execInst","isTrailing","orderID","ordType","pegOffsetValue","side","tickSize","triggered"],fn:function(e,t,n){var i=t.execInst,o=t.isTrailing,s=t.orderID,l=t.ordType,c=t.pegOffsetValue,u=t.side,d=t.tickSize,p=t.triggered;if(!e||isNaN(e))return null;var m="Sell"===u;L.a.endsWith(l,"IfTouched")&&(m=!m);var f=m?"<":">",h=f+"= "+e;o&&(h+=" ("+n._displayValues.getDisplayField("pegOffsetValue",a.context)+" trail)");if(!p){var g=o?"pegOffsetValue":"stopPx",y=c||e;return r.createElement(ln,{component:a,orderID:s,value:y,keyName:g,inputProps:{step:d},tooltip:function(){var t=L.a.includes(i,"LastPrice"),n=L.a.includes(i,"IndexPrice"),a=t?"last":n?"index":"mark";return r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.stopPx",defaultMessage:"Set to trigger on {triggerTyp, select, last {Last Price} index {Index Price} other {Mark Price}} {sign}= {value}. Click to amend.",description:"Tooltip text instructing user of stop price status.",values:{triggerTyp:a,sign:f,value:e}})}},h)}return h}},symbol:{deps:["summary"],fn:function(e,t){return t.summary?e:r.createElement("span",{"data-symbol":e,onClick:a.onSymbolClick},e)}},origTransactTime:{fn:function(e,t,n){if(!e||!n)return null;var i=n._displayValues.origTransactTime;return a.props.showActions?r.createElement("span",{title:D.i(i)},D.e.time.full(i)):D.i(i)}},triggeringPrice:{deps:["stopPx","tickSize"],fn:function(e,t){var n=t.stopPx,a=t.tickSize;if(!e||isNaN(e))return null;var i=e-n<50*a,o=e-n>0?"+":"";return r.createElement("span",null,e+" ",r.createElement("span",{className:i?"neg":"pos"},"("+o+U.t(e-n,a)+")"))}}},a.getRowClass=function(e){var t=e._displayValues||e,n=a.getSubmitStatus(t.orderID);return Tt()(n,{summary:t.summary,combinedSummary:t.summary&&!a.props.singleSymbol,singleSymbolSummary:t.summary&&a.props.singleSymbol,selected:!t.summary&&t.symbol===a.props.selectedInstrument.symbol,long:"Buy"===t.side,short:"Sell"===t.side,hidden:t.hidden,summaryDivider:t.summary&&t.divider,terminated:t.terminated||t.summary})},a.onCancelAllOrders=function(e){if(e.preventDefault(),e.currentTarget instanceof window.HTMLElement){var t=e.currentTarget.getAttribute("data-side");a.props.actions.cancelAllOrders(b()({symbol:a.props.filterSymbol,side:t},a.getOrdFilter("cancel")))}},a.onClearAllOrders=function(e){if(e.preventDefault(),e.currentTarget instanceof window.HTMLElement){var t=e.currentTarget.getAttribute("data-side");a.props.actions.clearAllOrders(b()({symbol:a.props.filterSymbol,side:t},a.getOrdFilter("clear")))}},a.onOrderCancel=function(e){e.preventDefault(),e.currentTarget instanceof window.HTMLElement&&a.props.actions.cancelOrder({orderID:e.currentTarget.getAttribute("data-order-id")})},a.onOrderClear=function(e){e.preventDefault(),e.currentTarget instanceof window.HTMLElement&&a.props.actions.clearOrder({orderID:e.currentTarget.getAttribute("data-order-id")})},a.onPriceClick=function(e){e.preventDefault(),e.currentTarget instanceof window.HTMLElement&&a.props.actions.changeOrderInput({price:Number(e.currentTarget.getAttribute("data-value"))})},a.onQtyClick=function(e){e.preventDefault(),e.currentTarget instanceof window.HTMLElement&&a.props.actions.changeOrderInput({orderQty:Math.abs(Number(e.currentTarget.getAttribute("data-value")))})},a.onSymbolClick=function(e){if(e.preventDefault(),e.currentTarget instanceof window.HTMLElement){var t=e.currentTarget.getAttribute("data-symbol");a.props.actions.selectInstrument(t)}},i=n,l()(a,i)}return u()(t,e),t.prototype.componentWillMount=function(){this.columns=this.generateColumns(this.props,this.context),this.data=this.generateData(this.props,this.context)},t.prototype.componentWillUpdate=function(e,t,n){Object(Ct.b)(this.props,e,["showActions","columnGroup"])&&this.context.panelState.fullscreened===n.panelState.fullscreened&&this.props.orders.length===e.orders.length||(this.columns=this.generateColumns(e,n)),!(this.props.instruments!==e.instruments&&Boolean(e.orders.find(function(e){return e.isStop})))&&Object(Ct.b)(this.props,e,["orders","columnGroup"])&&Object(Ct.b)(this.context,n)||(this.data=this.generateData(e,n))},t.prototype.generateData=function(e,t){var n=e.orders,r=e.showSummary,a=t.activeCurrency,i=t.timezoneOffset,o=n.toDisplay({columns:this.columns,activeCurrency:a,timezoneOffset:i});return r&&(o=this.createSummaryRow(e,t).concat(o)),o},t.prototype.generateColumns=function(e,t){var n=e.columnGroup,r=e.showActions,a=[].concat(Bt[n]);(r&&a.push("actions"),Boolean(e.orders.find(function(e){return null!==e.displayQty}))&&a.splice(a.indexOf("price")+1,0,"displayQty"),"symbol"===n)&&(Boolean(e.orders.find(function(e){return e.isStop}))&&a.splice(a.indexOf("grossValue")+1,0,"stopPx","triggeringPrice"));return t.panelState.fullscreened&&!L.a.includes(a,"orderID")&&a.splice(-1,0,"orderID"),a},t.prototype.createSummaryRow=function(e,t){var n=e.orders.models;if(e.singleSymbol){var r=L.a.filter(n,{side:"Buy"}),a=L.a.filter(n,{side:"Sell"});return[this._summaryRow(r,"Buy",t),this._summaryRow(a,"Sell",t),{summary:!0,divider:!0},{summary:!0,divider:!0,hidden:!0},{summary:!0,divider:!0,hidden:!0}]}return[this._summaryRow(n,null,t),{summary:!0,divider:!0},{summary:!0,divider:!0,hidden:!0}]},t.prototype._summaryRow=function(e,t,n){var r=this.props.selectedInstrument.symbol,a=n.activeCurrency,i=n.timezoneOffset,o=L.a.filter(e,{terminated:!1}),s=rn(o,"price"),l=rn(o,"avgPx"),c={symbol:r,orderQty:an(o,"orderQty"),cumQty:an(o,"cumQty"),avgPx:x()(l)&&l?l:null,price:x()(s)&&s?s:null,actions:null,orderID:"summary-"+(t||"all"),ordType:null,ordStatus:L.a.every(o,function(e){return e.terminated})?"Filled":"New",side:t},u=new xt.a(c).toDisplay({activeCurrency:a,timezoneOffset:i});return u.symbol=t?"Buy"===t?en:tn:H.a.Summary,u.origTransactTime=null,u.grossValue=U.g(an(o,"grossValue"),a),u.summary=u._displayValues.summary=!0,u.hasLen=u._displayValues.hasLen=Boolean(e.length),t?u.orderQty||(u.orderQty=u.cumQty=u.price=u.avgPx=u.grossValue=null):u.side=u.orderQty=u.cumQty=u.price=u.avgPx=null,u},t.prototype.getOrdFilter=function(e){var t=this.props.columnGroup;return"stops"===t?{ordType:["Stop","StopLimit"]}:"open"===t?{workingIndicator:"cancel"===e}:null},t.prototype.getSubmitStatus=function(e){var t=this.props.orderSubmitInProgress;if(!e||!this.props.orderSubmitInProgress)return null;if(-1!==t.indexOf(e)){if("amend"===t.slice(0,5))return"amending";if("cancel"===t.slice(0,6))return"canceling"}return null},t.prototype.onOrderAmend=function(e,t,n){var r;if("string"==typeof n)throw new Error("Unexpected amend value: "+e+": "+n);this.props.actions.amendOrder(((r={orderID:t})[e]=n,r))},t.prototype.render=function(){var e=this,t=this.props,n=t.selectedInstrument,a=t.orderSubmitInProgress,i={symbol:n.symbol,orderSubmitInProgress:a},o=L.a.dropWhile(this.data,function(e){return e.summary}),s=this.data.slice(0,this.data.length-o.length);return r.createElement(wt.b,{data:o},function(t){var n=t.sortedData,a=t.tableHeaderCellRenderer,o=t.sortKey,l=t.sortType;return r.createElement(Pe.a,{className:"openOrderTable",animated:!0,deps:i,data:[].concat(s,n),columns:e.columns,headerCellRenderer:a,sortKey:o,sortType:l,cellFormatters:e.cellFormatters,getRowClass:e.getRowClass,reverseStripe:!0,tableName:"order"})})},t}(d.a);function rn(e,t){var n="price"===t?function(e){return e.getGrossValue()}:function(e){return e.getFilledValue()},r=e.reduce(function(e,t){return e+n(t)},0);return e.map(function(e){return[e.toJSON()[t],n(e)]}).reduce(function(e,t){return e+t[0]*(t[1]/r)},0)}function an(e,t){return e.reduce(function(e,n){return e+n[t]},0)}nn.displayName="OpenOrderTable",nn.contextTypes=b()({},d.a.contextTypes,{panelState:F.a.object}),nn.defaultProps={columnGroup:"symbol",showActions:!1,showOrderID:!1,showSummary:!0,singleSymbol:!1};var on=r.createElement(A.FormattedMessage,{id:"openOrderTable.tooltip.amend",defaultMessage:"Click to amend.",description:"Tooltip text instructing user that they can amend."}),sn=r.createElement("i",{className:"fa fa-pencil editIcon"});function ln(e){var t=e.children,n=e.component,a=e.orderID,i=e.keyName,o=e.tooltip,s=e.value,l=e.inputProps,c=yt()(e,["children","component","orderID","keyName","tooltip","value","inputProps"]);return l=l||{},"orderQty"===i&&(s>0&&(l.min=0),s<0&&(l.max=0)),r.createElement(Lt,b()({onConfirm:n.onOrderAmend.bind(n,i,a),value:s,inputProps:l},c),r.createElement(Mt.a,{text:o||on},sn,"Â ",r.createElement("span",{className:"editable"},t||s)))}vt()("frontend:ExecutionTable");var cn=["symbol","orderQty","lastQty","leavesQty","lastPx","price","execCost","ordType","orderID","transactTime"],un=["execution","order"],dn=r.createElement("b",null,"Market"),pn=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.cellFormatters={lastQty:{deps:["side"],fn:function(e,t){var n=t.side;return e?("Sell"===n&&(e=-e),r.createElement("span",{className:Object(U.q)(e)},e)):null}},orderID:{deps:["text"],fn:function(e,t){var n=t.text;return"000000"===e.slice(0,6)?n:r.createElement(St.a,{value:e,title:e},e.slice(0,7))}},ordType:{deps:["execInst"],fn:function(e,t){var n=t.execInst;return n?r.createElement(Mt.a,{text:"ExecInst: "+n+"."},e):e}},price:{deps:["ordType"],fn:function(e,t){var n=t.ordType;return e?!n||-1===n.indexOf("Market")&&"Stop"!==n?e:dn:null}}},a.getRowClass=function(e){return Tt()({selected:e.symbol===a.props.selectedInstrument.symbol,long:"Buy"===e.side,short:"Sell"===e.side})},i=n,l()(a,i)}return u()(t,e),t.prototype.render=function(){var e=this,t={symbol:this.props.selectedInstrument.symbol};return r.createElement(wt.b,{data:this.props.executions},function(n){var a=n.sortedData,i=n.tableHeaderCellRenderer,o=n.sortKey,s=n.sortType;return r.createElement(Pe.a,{className:"executionTable",animated:!0,data:a,deps:t,columns:cn,headerCellRenderer:i,reverseStripe:!0,sortKey:o,sortType:s,cellFormatters:e.cellFormatters,getRowClass:e.getRowClass,tableName:un})})},t}(d.a);pn.displayName="ExecutionTable";var mn=n(84),fn=(vt()("frontend:OpenOrderPanel"),function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.actions,n=e.executions,a=e.myOrders,i=e.myOpenOrders,o=e.instruments,s=e.selectedInstrument,l=e.orderSubmitInProgress,c=yt()(e,["actions","executions","myOrders","myOpenOrders","instruments","selectedInstrument","orderSubmitInProgress"]),u=this.context.intl.formatMessage,d=s.symbol,p=i.ordersForSymbol(d),m=i.stops(),f=i.active(),h=i.contingents(),g={actions:t,instruments:o,selectedInstrument:s,orderSubmitInProgress:l},y=p.openOrderCount(),v=f.openOrderCount(),E=m.openOrderCount(),w=h.openOrderCount(),M=Object(A.defineMessages)({symbolOrderTitle:{id:"openOrderPanel.title.symbolOrder",defaultMessage:"{thisSymbol} [{len, number}]",description:"Title text for a given symbols open order panel"},fillsTitle:{id:"openOrderPanel.title.fills",defaultMessage:"Fills",description:"Title text for filled or partially filled orders"},contingentsTitle:{id:"openOrderPanel.title.contingents",defaultMessage:"Contingent Orders",description:"Title text for contingent filled orders"}}),S=[u(M.symbolOrderTitle,{thisSymbol:d,len:y}),mn.a["Active Orders{value}"](v),mn.a["Stops{value}"](E),u(M.fillsTitle),H.a["Order History"]],x=[null,v,E,null,null],k=Object(A.defineMessages)({fillsTooltip:{id:"openOrderPanel.tooltip.fills",defaultMessage:"This includes filled and partially filled orders.",description:"Tooltip text for 'Fills' order table header."},contingentsTooltip:{id:"openOrderPanel.tooltip.contingents",defaultMessage:"This includes untriggered contingent orders.",description:"Tooltip text for 'Contingents' order table header."}}),T=["","","",u(k.fillsTooltip),H.a.OrderHistoryTooltip],C=[r.createElement(nn,b()({},g,{key:"symbol",orders:p,showActions:!0,columnGroup:"symbol",filterSymbol:d,singleSymbol:!0})),r.createElement(nn,b()({},g,{key:"active",orders:f,showActions:!0,columnGroup:"active"})),r.createElement(nn,b()({},g,{key:"stops",orders:m,showActions:!0,columnGroup:"stops"})),r.createElement(pn,b()({},g,{key:"executions",executions:n})),r.createElement(nn,b()({},g,{key:"history",orders:a,showSummary:!1,columnGroup:"history"}))];return w>0&&(S.splice(2,0,u(M.contingentsTitle)),T.splice(2,0,u(k.contingentsTooltip)),C.splice(2,0,r.createElement(nn,b()({},g,{key:"contingent",orders:h,showActions:!0,columnGroup:"contingent"})))),r.createElement(Et.a,b()({height:this.props.height,titles:S,tooltips:T,localStorageKey:"OpenOrderPanel",watchHeaderOverflow:!0,animateTitle:!0,titleValues:x},c),C)},t}(d.a));fn.displayName="OpenOrderPanel";var hn=Object(p.a)(function(e){return{actions:e.actions,executions:e.executions,instruments:e.instruments,myOrders:e.myOrders,myOpenOrders:e.myOpenOrders,orderSubmitInProgress:e.orderSubmitInProgress,selectedInstrument:e.selectedInstrument}})(fn),gn=n(40),yn=n(226),bn=(vt()("frontend:Orderbook"),["price","size","cumSize","containsMyOrder","liquidationQty"]),vn=Object(A.defineMessages)({confirm:{id:"orderbook.messages.offering",defaultMessage:"You are {side, select, Sell {offering} other {bidding}} {qty, number} {qty, plural, one {contract} other {contracts}} at {price}.",description:"Confirmation message of a user's offer for a given contract"},hidden:{id:"orderbook.messages.hidden",defaultMessage:"{qty, number} {qty, plural, one {contract} other {contracts}} are in a hidden order.",description:"Message informing user of a number of contracts that are hidden in the order"}}),En=r.createElement(A.FormattedMessage,{id:"orderbook.tooltip.cancel",defaultMessage:"Click to cancel all your orders at this level.",description:"Tooltip text for cancelling all orders on a given level"}),wn=r.createElement("span",{className:"trigger"},"x"),Mn=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.individualCellFormatters={price:{deps:["containsMyOrder","cumSize","side","size"],fn:function(e,t){return r.individualCellFormattersHelper("price",e,t)}},size:{deps:["containsMyOrder","liquidationQty","side","price"],fn:function(e,t){return r.individualCellFormattersHelper("size",e,t)}},cumSize:{deps:["containsMyOrder","price","side","size"],fn:function(e,t){return r.individualCellFormattersHelper("cumSize",e,t)}}},r.getRowClass=function(e){return e.size?"":"empty"},r.onCellClick=function(e,t,n,a){if(t)if("cumSize"===n){var i=a.price;r.props.actions.changeOrderInput({orderQty:Number(t),price:Number(i),stopPx:Number(i)})}else"price"===n?r.props.actions.changeOrderInput({price:Number(t),stopPx:Number(t)}):"size"===n&&r.props.actions.changeOrderInput({orderQty:Number(t)})},a=n,l()(r,a)}return u()(t,e),t.prototype.cancelAtPrice=function(e,t){var n=e.price,r=e.side;if(void 0===n)throw new Error("Price is required to cancel all orders at a level!");t.stopPropagation();var a=this.props,i=a.binningSizes,o=a.selectedInstrument,s=o.symbol,l=o.tickSize,c=parseFloat(n),u=i[s];if(u){var d="Buy"===r?1:-1,p=c,m=c+parseFloat(Object(U.t)(u*l*d,l));if(p>m){var f=[m+l,p+l];p=f[0],m=f[1]}this.props.actions.cancelAllOrdersInPriceRange({symbol:s,start:p,end:m})}else this.props.actions.cancelAllOrders({symbol:s,price:c})},t.prototype.getDepthBar=function(e){var t={width:100*(e/this.maxCumSize)+"%"};return r.createElement("div",{className:"depthBar",style:t})},t.prototype.getType=function(){return Boolean(this.context.panelState&&this.context.panelState.fullscreened)?"dualColumn":this.props.type},t.prototype.individualCellFormattersHelper=function(e,t,n){var a=this.props.type;n[e]=t;var i=t;if(this.props.showLocaleNumbers&&"number"==typeof i&&(i=i.toLocaleString()),"size"===e&&n.liquidationQty>0)i=this.liquidationTooltip(i,n.liquidationQty);else if(n.containsMyOrder&&n.containsMyOrder.qty>0){var o=this.containsMyOrderTooltip(n);i=this.containsMyOrder(o,e,i,n)}var s=null;return("singleColumn"===a&&"cumSize"===e||"dualColumn"===a&&"price"===e)&&(s=this.getDepthBar(n.cumSize),i=r.createElement("span",{className:"output"},i)),r.createElement("div",null,s,i)},t.prototype.containsMyOrderTooltip=function(e){var t=e.containsMyOrder,n=e.price,r=e.side,a=this.context.intl.formatMessage,i=t.hiddenQty,o=t.qty,s=a(vn.confirm,{qty:o,price:n,side:r});return i&&(s+="\n"+a(vn.hidden,{qty:o})),s},t.prototype.containsMyOrder=function(e,t,n,a){var i=a.price,o=a.side,s=this.props.showTotals?"cumSize"===t:"size"===t;return r.createElement("span",{className:"containsOrder "+(s?"hasCancel":"")},r.createElement(Mt.a,{className:"myOrder",text:e},n),s?r.createElement(Mt.a,{className:"cancelLevel",onClick:this.bindCallback(this.cancelAtPrice,{price:i,side:o}),text:En},wn):null)},t.prototype.liquidationTooltip=function(e,t){var n=r.createElement(A.FormattedMessage,{id:"orderbook.tooltip.liquidation",defaultMessage:"This is a liquidation of {quantity, number} {quantity, plural, one {contract} other {contracts}}.",description:"Tooltip text for an amount of an order being liquidated",values:{quantity:t}});return r.createElement(Mt.a,{className:"liquidation",text:n},e)},t.prototype.getMaxQty=function(e){var t=L.a.maxBy([].concat(e.bidData,e.askData),function(e){return e.cumSize});return t?t.cumSize:0},t.prototype.prepareBook=function(e,t){var n=e.binningSizes,r=e.orderBook,a=e.rowCount,i=e.selectedInstrument,o=r,s=n[i.symbol];s&&(o=r.getBinned(i.tickSize,s,a));var l=Boolean(t.panelState&&t.panelState.fullscreened)?1/0:a,c=o.getAsks();c.length>l&&(c.length=a);var u=this.prepareBookSide(c,a,"Sell"),d=o.getBids();d.length>l&&(d.length=a);var p=this.prepareBookSide(d,a,"Buy");return"singleColumn"===this.getType()&&u.reverse(),{bidData:p,askData:u}},t.prototype.prepareBookSide=function(e,t,n){x()(t)||(t=e.length);var r=Array(t),a=0,i=void 0;for(i=0;i<t;i++){var o=e[i];if(!o)break;a+=o.size,r[i]={_id:o.id,price:o.priceClamped,containsMyOrder:o.containsMyOrder,liquidationQty:o.liquidationQty,size:o.size,cumSize:a,side:n}}for(;i<t;)r[i++]={_id:i};return r},t.prototype.renderDualColumn=function(){var e=this,n=this.props,a=n.orderBook.loading,i=n.selectedInstrument,o=n.selectedPosition,s=n.shouldAnimate,l=n.showTotals,c=this.prepareBook(this.props,this.context);this.maxCumSize=this.getMaxQty(c);var u=function(t,n,a){return l||(n=L.a.without(n,"cumSize")),r.createElement(Pe.a,{className:"orderBookTable "+a,animated:s,data:t,columns:n,cellFormatters:e.individualCellFormatters,getRowClass:e.getRowClass,onCellClick:e.onCellClick,scrollable:!1,tableName:"orderBook",key:a})};return r.createElement("div",{className:"orderBook dualColumn "+(a?"loading":"")},r.createElement(yn.a,{instrument:i,position:o}),r.createElement("div",{className:"flexBody"},u(c.bidData,t.dualBidColumns,"bids"),u(c.askData,t.dualAskColumns,"asks")))},t.prototype.renderSingleColumn=function(){var e=this,n=this.props,a=n.orderBook.loading,i=n.selectedInstrument,o=n.selectedPosition,s=this.prepareBook(this.props,this.context);this.maxCumSize=this.getMaxQty(s);var l=function(t,n,i){return r.createElement(Pe.a,{className:"orderBookTable "+i+" "+(a?"loading":""),animated:!1,data:t,columns:n,cellFormatters:e.individualCellFormatters,getRowClass:e.getRowClass,onCellClick:e.onCellClick,tableName:"orderBook",scrollable:!1,hideHeaders:"bids"===i})};return r.createElement("div",{className:"orderBook singleColumn"},l(s.askData,t.singleAskColumns,"asks"),r.createElement(yn.a,{instrument:i,position:o}),l(s.bidData,t.singleBidColumns,"bids"))},t.prototype.render=function(){return"singleColumn"===this.getType()?this.renderSingleColumn():this.renderDualColumn()},t}(d.a);Mn.displayName="Orderbook",Mn.defaultProps={shouldAnimate:!0,showTotals:!0,type:"dualColumn"},Mn.contextTypes=b()({},d.a.contextTypes,{panelState:F.a.object}),Mn.SCUSelector={props:["binningSizes","orderBook","rowCount","type","selectedInstrument","showTotals"],context:["locale","panelState"]},Mn.dualBidColumns=L.a.without(bn,"containsMyOrder","liquidationQty").reverse(),Mn.dualAskColumns=L.a.without(bn,"containsMyOrder","liquidationQty"),Mn.singleBidColumns=L.a.without(bn,"containsMyOrder","liquidationQty"),Mn.singleAskColumns=L.a.without(bn,"containsMyOrder","liquidationQty");var Sn=Object(p.a)(function(e){var t=e.actions,n=e.options,r=e.orderBook,a=e.selectedInstrument,i=e.selectedPosition;return{actions:t,binningSizes:n.orderBookBinning,orderBook:r,selectedInstrument:a,selectedPosition:i,showLocaleNumbers:n.showLocaleNumbers}})(Mn),xn=n(59),kn=n(141),Tn=n(243),Cn=[0,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4],Nn=r.createElement("i",{className:"fa fa-fw fa-minus-square"}),Pn=r.createElement("i",{className:"fa fa-fw fa-plus-square"}),On=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.setBin=function(e){var t,n=this.props,r=n.options,a=n.selectedSymbol,i=r.orderBookBinning[a],o=Cn.indexOf(i||0),s=Cn[o+e];s||(o=1===e?Math.max.apply(null,Cn):0),this.props.actions.setOption({orderBookBinning:(t={},t[a]=s,t)})},t.prototype.render=function(){var e=this.props,t=e.options,n=e.selectedSymbol,a=t.orderBookBinning[n],i=this.props.tick,o=U.t((a||1)*i,i);return r.createElement("div",{className:"orderBookBinningSection"},r.createElement("div",{className:"input-group"},r.createElement("input",{readOnly:"readonly",size:"2",type:"text",className:"form-control orderBookBinning",value:o}),r.createElement("div",{className:"input-group-btn",role:"group"},r.createElement("button",{className:"btn btn-danger btn-sm",onClick:this.bindCallback(this.setBin,-1),disabled:!a},Nn),r.createElement("button",{className:"btn btn-success btn-sm",onClick:this.bindCallback(this.setBin,1),disabled:a===Cn[Cn.length-1]},Pn))))},t}(d.a);On.displayName="OrderbookBinning";var Fn=Object(p.a)(function(e){return{actions:e.actions,selectedSymbol:e.selectedSymbol}})(On),In=n(144),Ln=[{label:r.createElement(A.FormattedMessage,{id:"orderBookOptionsDropdown.option.singleColumn",defaultMessage:"Single",description:"Option label text for single column style"}),value:"singleColumn"},{label:r.createElement(A.FormattedMessage,{id:"orderBookOptionsDropdown.option.dualColumn",defaultMessage:"Dual",description:"Option label text for dual column style"}),value:"dualColumn"}],An=r.createElement("div",{className:"optionLabel"},r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"orderBookOptionsDropdown.tooltip.column",defaultMessage:"BitMEX features two Orderbook designs. You can switch between them here.",description:"Tooltip text describing the columns option, the style of orderbook"})},r.createElement(A.FormattedMessage,{id:"orderBookOptionsDropdown.tooltip.columnTitle",defaultMessage:"Columns",description:"Text for Columns"}))),Dn=r.createElement("div",{className:"optionLabel"},r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"orderBookOptionsDropdown.tooltip.grouping",defaultMessage:"Group orders by price intervals to make orderbook depth clearer.",description:"Tooltip text describing what the grouping option is"})},r.createElement(A.FormattedMessage,{id:"orderBookOptionsDropdown.tooltip.groupingTitle",defaultMessage:"Grouping",description:"Tooltip title text for the column grouping option"}))),Bn=r.createElement(A.FormattedMessage,{id:"orderBookOptionsDropdown.title.options",defaultMessage:"Orderbook Options",description:"Title text for Orderbook options window"}),_n=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.renderColumnTypes=function(){if(Boolean(this.context.panelState&&this.context.panelState.fullscreened))return null;var e=this.props.options,t="basic"===e.tradeLayout?"singleColumn":"dualColumn";return r.createElement("div",{className:"optionsSection"},An,r.createElement(Tn.a,{keyName:"orderBookType",options:Ln,value:e.orderBookType||t}))},t.prototype.renderGrouping=function(){var e=this.props,t=e.options,n=e.tick;return r.createElement("div",{className:"optionsSection"},Dn,r.createElement(Fn,{options:t,tick:n}))},t.prototype.renderLiquidations=function(){var e=this.props.options;return r.createElement("div",{className:"optionsSection"},r.createElement("label",{className:"optionLabel"},r.createElement(kn.a,{keyName:"alertOnLiquidations",value:e.alertOnLiquidations}),r.createElement(Mt.a,{text:In.a.alertOnLiquidations},In.b.alertOnLiquidations)))},t.prototype.renderContents=function(){return r.createElement("span",null,this.renderGrouping(),this.renderColumnTypes(),this.renderLiquidations())},t.prototype.render=function(){var e=this,t=Bn;return r.createElement(xn.a,{alignRight:!0,className:"optionsDropdown orderBookOptionsDropdown",title:t,icon:"gear",showCaret:!1,initialOpen:this.props.initialOpen},function(){return e.renderContents()})},t}(d.a);_n.displayName="OrderBookOptionsDropdown",_n.contextTypes=b()({},d.a.contextTypes,{panelState:F.a.object});var Rn=n(102),jn=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={hovered:!1},r.onMouseEnter=function(){r.setState({hovered:!0})},r.onMouseLeave=function(){r.setState({hovered:!1})},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.component,a=e.hoverFn,i=yt()(e,["children","component","hoverFn"]);return r.createElement(n,b()({},i,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),this.state.hovered?a():t)},t}(d.a);jn.displayName="JSHoverable",jn.defaultProps={component:"span"};var Un=r.createElement(A.FormattedMessage,{id:"OrderbookPanel.tooltip.clear",defaultMessage:"Click to clear.",description:"Tooltip text to clear orderbook"}),Hn=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.clearGrouping=function(e){var t,n=a.props.selectedSymbol;a.props.setOption({orderBookBinning:(t={},t[n]=0,t)})},a.makeDepth=function(){return[r.createElement("span",{key:"title"},a.makeTitle()," "),r.createElement(Mt.a,{key:"tooltip",className:"titleTooltip",text:function(){return r.createElement(A.FormattedMessage,{id:"OrderbookPanel.tooltip.depth",defaultMessage:"The orderbook is currently {depth} levels deep. Click the fullscreen icon at the top right to view them all.",description:"Tooltip text instructing user how deep the user is in the orderbook",values:{depth:a.props.orderBookLen}})}},"["+a.props.orderBookLen+"]")]},i=n,l()(a,i)}return u()(t,e),t.prototype.makeTitle=function(){var e=this.props,t=e.selectedSymbol,n=e.selectedInstrumentTick,a=e.orderBookBinning[t],i=r.createElement(A.FormattedMessage,{id:"OrderbookPanel.title.orderbook",defaultMessage:"Orderbook ({symbol})",description:"Title text for Orderbook panel",values:{symbol:t}});if(a){var o=U.t(a*n,n);i=r.createElement("span",null,i,"Â ",r.createElement(Mt.a,{text:function(){return Un},onClick:this.clearGrouping},r.createElement(A.FormattedMessage,{id:"OrderbookPanel.tooltip.grouping",defaultMessage:"({tick} Grouping)",description:"Tooltip text for orderbook grouping",values:{tick:o}})))}return i},t.prototype.render=function(){return r.createElement(jn,{hoverFn:this.makeDepth,component:"div"},this.makeTitle())},t}(d.a);Hn.displayName="OrderBookPanelTitle";var qn=Object(p.a)(function(e){var t=e.actions,n=e.options,r=e.orderBook,a=e.selectedInstrument,i=e.selectedSymbol;return{setOption:t.setOption,orderBookBinning:n.orderBookBinning,orderBookLen:r.getLevelCount(),selectedInstrumentTick:a.tickSize,selectedSymbol:i}})(Hn),Wn=r.createElement(qn,null),Vn=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={height:350,width:300,transitioning:!1},r.changeOrderBookRows=L.a.throttle(r.props.changeOrderBookRows,100),r.onResize=function(e){var t=e.height,n=e.width;r.changeOrderBookRows(r.calculateOrderbookHeight(t)),r.setState({height:t,width:n})},a=n,l()(r,a)}return u()(t,e),t.prototype.componentWillReceiveProps=function(e){this.getBookType(this.props)!==this.getBookType(e)?this.setState({transitioning:!0}):this.props.rowCount!==e.rowCount&&this.setState({transitioning:!1})},t.prototype.componentDidUpdate=function(e,t){this.state.transitioning&&this.props.changeOrderBookRows(this.calculateOrderbookHeight(this.state.height))},t.prototype.calculateOrderbookHeight=function(e){if("orderBook"===this.props.fullscreenedWidget)return 1/0;var t=void 0;return t="singleColumn"===this.getBookType(this.props)?Math.floor((e-70)/40):Math.floor((e-40)/20),Math.max(t,1)},t.prototype.getBookType=function(e){var t=e.options,n="basic"===t.tradeLayout;return t.orderBookType||(n?"singleColumn":"dualColumn")},t.prototype.render=function(){var e=this.props,t=e.selectedInstrumentTick,n=e.options,a=e.responsiveSize,i=e.rowCount,o=yt()(e,["selectedInstrumentTick","options","responsiveSize","rowCount"]),s=this.state,l=s.height,c=s.width,u=i;this.state.transitioning&&(u=this.calculateOrderbookHeight(l));var d=this.getBookType(this.props),p=c>=300,m=r.createElement(_n,{tick:t,options:n}),f=n.animationsEnabled&&"dualColumn"===d&&("lg"===a||"md"===a);return r.createElement(gn.a,b()({extraControls:m,title:Wn},o)," ",r.createElement(Rn.a,{onResize:this.onResize},r.createElement(Sn,{type:d,rowCount:u,shouldAnimate:f,showTotals:p})))},t}(d.a);Vn.displayName="OrderbookPanel";var zn=Object(p.a)(function(e){var t=e.actions,n=e.fullscreenedWidget,r=e.options,a=e.orderBookRowCount,i=e.responsiveSize,o=e.selectedInstrument,s=e.selectedSymbol;return{fullscreenedWidget:n,options:r,responsiveSize:i,rowCount:a,selectedInstrumentTick:o.tickSize,selectedSymbol:s,changeOrderBookRows:t.changeOrderBookRows}})(Vn),Kn=n(475),Qn=n(60),Gn=n(232),Xn=n(80),Yn=r.createElement(A.FormattedMessage,{id:"positionClose.tooltip.cancel",defaultMessage:"Click to cancel this close.",description:"Tooltip text for canceling the position close process"}),Jn=r.createElement("i",{className:"fa fa-times fa-fw cancel all"}),Zn=r.createElement(A.FormattedMessage,{id:"positionClose.tooltip.price",defaultMessage:"Choose a Limit Price for your Close order here.",description:"Tooltip text for choosing a limit price"}),$n=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={edited:!1,price:r.props.position.markPrice,validity:!0},r.onCancelLimitClose=function(e){var t=r.getExistingClose();t&&r.props.actions.cancelOrder({orderID:t.orderID})},r.onLimitClose=function(e){e.stopPropagation();var t=r.state.price;t&&r.props.actions.positionClose({symbol:r.props.position.symbol,price:t})},r.onMarketClose=function(e){e.stopPropagation(),r.props.actions.positionClose({symbol:r.props.position.symbol})},r.onPriceChange=function(e){r.setState({price:parseFloat(e),edited:!0})},r.onValidityChange=function(e){r.setState({validity:e})},a=n,l()(r,a)}return u()(t,e),t.prototype.componentWillReceiveProps=function(e){!this.state.edited&&e.position&&e.position.markPrice!==this.state.price&&this.setState({price:e.position.markPrice})},t.prototype.getExistingClose=function(){var e=this.props,t=e.myOpenOrders,n=e.position;return t.find({symbol:n.symbol,execInst:"Close",ordType:"Limit",terminated:!1})},t.prototype.render=function(){if(!this.props.position)return null;var e=this.props.position,t=e.symbol,n=e.tickSize,a=this.state,i=a.price,o=a.validity,s=this.getExistingClose(),l=Boolean(!o||this.props.orderSubmitInProgress);return s?r.createElement("div",null,r.createElement(A.FormattedMessage,{id:"positionClose.div.pendingClose",defaultMessage:"Close Order at {money}",description:"Text instructing user that the close is pending at a specified amount",values:{money:U.t(s.price,n)}}),"Â Â ",r.createElement(Mt.a,{text:Yn,className:"pull-right"},r.createElement("div",{className:"btn btn-danger btn-xs btn-xs-flat",onClick:this.onCancelLimitClose,disabled:l},Jn))):r.createElement("div",{className:"input-group input-group-inline form-control-sm pull-right"},r.createElement(Mt.a,{text:Zn},r.createElement(Nt.a,{name:"price",className:"form-control mini",placeholder:"Price",allowNegative:!1,allowZero:!1,value:i,onChange:this.onPriceChange,onValidityChange:this.onValidityChange,step:n})),r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"positionClose.tooltip.close",defaultMessage:"Click to close your entire {symbol} position at {money}.",description:"Tooltip text for closing position at a specified amount",values:{money:U.t(i,n),symbol:t}})},r.createElement("div",{className:"btn btn-primary btn-sm",onClick:this.onLimitClose,disabled:l},H.a.Close)),r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"positionClose.tooltip.market",defaultMessage:"Click to close your entire {symbol} position at market.",description:"Tooltip text for closing position at market amount",values:{symbol:t}})},r.createElement("div",{className:"btn btn-danger btn-sm",onClick:this.onMarketClose,disabled:l},H.a.Market)))},t}(d.a);$n.displayName="PositionClose";var er=Object(p.a)(function(e,t){var n=e.actions,r=e.myOpenOrders,a=e.orderSubmitInProgress,i=e.positions,o=t.symbol;return{actions:n,myOpenOrders:r,orderSubmitInProgress:a,position:i.get(o)||new Xn.a({symbol:o})}})($n),tr=["symbol","currentQty","homeNotionalCurr","avgCostPrice","markPrice","liquidationPrice","assignedMargin","unrealisedPnl","combinedRealisedPnl","actions"],nr=["symbol","prevRealisedPnl"],rr={homeNotionalCurr:Object(wt.a)("homeNotional")},ar=r.createElement(A.FormattedMessage,{id:"positionsList.tooltip.addMargin",defaultMessage:"Click to add or remove margin assigned to this position.",description:"Tooltip text explaining what button does to margin on a given position"}),ir=r.createElement("span",{className:"actionIcon"},"+",r.createElement("i",{className:"fa fa-btc"})),or=r.createElement(A.FormattedMessage,{id:"positionsList.hoverTooltip.realisedPnl",defaultMessage:"This is your raw realised PNL since the last RealisedPNL wallet entry, which happens daily. When not hovering, we show realised PNL since opening the position.",description:"Tooltip text explaining during hover show raw realised PNL since last RealisedPNL wallet entry"}),sr=r.createElement(A.FormattedMessage,{defaultMessage:"This is your indicative PNL if this position were exited at market, calculated by working up the orderbook.",description:"Indicative PNL tooltip via orderbook",id:"positionsList.hoverTooltip.indicativePnlByBook"}),lr=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.individualCellFormatters={actions:{deps:["symbol"],fn:function(e,t){var n=t.symbol;return r.createElement(er,{symbol:n,key:n})}},assignedMargin:{deps:["crossMargin","effectiveLeverage","leverage","posMargin","symbol"],fn:function(e,t,n){var i=t.crossMargin,o=t.effectiveLeverage,s=t.leverage,l=t.posMargin,c=t.symbol;if(i)return r.createElement("div",null,r.createElement("span",null,e+" "),r.createElement("span",null,"(",H.a.Cross,")"));var u=a.props.positions.get(c);if(!u)return null;var d=u.instrument;if(0===l||d&&d.capped)return e;var p=ar,m=n._displayValues.leverage>n._displayValues.effectiveLeverage?s:o;return r.createElement(Mt.a,{onClick:a.popMarginDialog,"data-symbol":c,text:p},ir," "+e+" ("+m+")")}},combinedRealisedPnl:{deps:["realisedPnl"],fn:function(e,t){var n=t.realisedPnl;return r.createElement(Gn.a,{hoverContent:r.createElement(Mt.a,{text:or},r.createElement("span",{className:Object(U.q)(n)},n))},r.createElement("span",{className:Object(U.q)(e)},e))}},prevRealisedPnl:{fn:function(e){return r.createElement("span",{className:Object(U.q)(e)},e)}},currentQty:{fn:function(e){return r.createElement("span",{className:Object(U.q)(e)},e)}},homeNotionalCurr:{deps:["foreignNotionalCurr"],fn:function(e,t){var n=t.foreignNotionalCurr;return r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"positionsList.hoverTooltip.notional",defaultMessage:"Notional: {foreignNotionalCurr}",description:"Tooltip text for the notional value of a position",values:{foreignNotionalCurr:n}})},e)}},side:{deps:["currentQty"],fn:function(e,t){var n=t.currentQty;return r.createElement("span",{className:Object(U.q)(n)},e)}},unrealisedPnl:{deps:["unrealisedRoePcnt"],fn:function(e,t,n){var i=t.unrealisedRoePcnt,o=n.symbol;return r.createElement(jn,{component:"div",hoverFn:function(){var e=a.props.positions.get(o);if(null==e||null==e.instrument)return"---";var t=a.props.selectedSymbol===o,n=null,i=null;if(t){var s=e.getIndicativePnl();n=s.pnl,i=s.roePcnt}else{var l=e.instrument,c=e.currentQty>0?l.bidPrice:l.askPrice,u=e.getIndicativePnlAtPrice(c);n=u.pnl,i=u.roePcnt}var d=a.context,p=e.getDisplayFieldBase("unrealisedPnl",n,d),m=e.getDisplayFieldBase("unrealisedRoePcnt",i,d),f=void 0;return f=t?sr:r.createElement(A.FormattedMessage,{defaultMessage:"This is your indicative PNL if this position were exited at market. \n\nIMPORTANT: Because this is not the currently viewed symbol, this number considers only market price, not depth. Select {symbol} to get a more accurate indication.",description:"Indicative PNL tooltip",id:"positionsList.hoverTooltip.indicativePnl",values:{symbol:o}}),r.createElement(Mt.a,{className:Object(U.q)(n),text:f},p+" ("+m+")")},className:Object(U.q)(e)},e+" ("+i+")")}}},a.getRowClass=function(e){return Tt()({selected:e.symbol===a.props.selectedSymbol,liquidation:Boolean(e.posState),long:e.currentQty>0,short:e.currentQty<0,flat:0===e.currentQty})},a.onRowClick=function(e,t){var n=["INPUT","LABEL"];e.target instanceof window.Node&&!Object(Qn.b)(e.target,function(e){return L.a.includes(n,e.nodeName)})&&!1!==a.props.clickableSymbols&&(a.props.actions.selectInstrument(t.symbol),x()(t.currentQty)&&a.props.actions.changeOrderInput({orderQty:Math.abs(t.currentQty)}))},a.popMarginDialog=function(e){var t=a.getPositionFromEvent(e);if(t){var n=t.instrument;if(n){e.stopPropagation();var r=n.settlCurrency;a.props.actions.openDialog({component:"AdjustPosMarginDialog",props:{position:t,margin:a.props.margin.getOrCreate(r)},onConfirm:function(e){a.props.actions.positionTransferMargin({amount:e.amount,symbol:t.symbol})}})}}},i=n,l()(a,i)}return u()(t,e),t.prototype.getPositionFromEvent=function(e){if(e.currentTarget instanceof window.HTMLElement){var t=e.currentTarget.getAttribute("data-symbol"),n=this.props.positions.get(t);return n||console.error("AdjustPosMarginDialog: Unable to find position with symbol "+t+".")}},t.prototype.render=function(){var e=this,t=this.props,n=t.positions,a=t.selectedSymbol,i=this.props.isLive?tr:nr;return r.createElement(wt.b,{data:n,exclude:["actions"],customSorts:rr},function(t){var n=t.sortedData,o=t.tableHeaderCellRenderer,s=t.sortKey,l=t.sortType;return r.createElement(Pe.a,{className:"positionsList",animated:!0,data:n,headerCellRenderer:o,sortKey:s,sortType:l,cellFormatters:e.individualCellFormatters,columns:i,deps:{symbol:a},getRowClass:e.getRowClass,onRowClick:e.onRowClick,tableName:"position"})})},t}(d.a);lr.displayName="PositionsList",lr.defaultProps={clickableSymbols:!0,isLive:!0};vt()("frontend:BasicOrdersAndPositionsPanel");var cr=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.actions,n=e.executions,a=e.instruments,i=e.margin,o=e.myOpenOrders,s=e.myOrders,l=e.orderSubmitInProgress,c=e.positions,u=e.selectedInstrument,d=yt()(e,["actions","executions","instruments","margin","myOpenOrders","myOrders","orderSubmitInProgress","positions","selectedInstrument"]),p={actions:t,margin:i,selectedSymbol:u.symbol},m={actions:t,instruments:a,orderSubmitInProgress:l,selectedInstrument:u},f=c.getOpen(),h=c.getClosed(),g=o.active(),y=o.stops(),v=f.length,E=g.openOrderCount(),w=y.openOrderCount(),M=[mn.a["Positions{value}"](v),H.a["Closed Positions"],mn.a["Active Orders{value}"](E),mn.a["Stops{value}"](w),H.a.Fills,H.a["Order History"]],S=[v,null,E,w,null,null],x=["","","","",H.a.OrderHistoryTooltip];return r.createElement(Et.a,b()({titles:M,tooltips:x,localStorageKey:"BasicOrdersAndPositionsPanel",loginRequired:!0,authenticated:this.props.authenticated,watchHeaderOverflow:!0,animateTitle:!0,titleValues:S},d),r.createElement(lr,b()({},p,{positions:f})),r.createElement(lr,b()({},p,{positions:h,isLive:!1})),r.createElement(nn,b()({},m,{orders:g,showActions:!0,columnGroup:"active"})),r.createElement(nn,b()({},m,{orders:y,showActions:!0,columnGroup:"stops"})),r.createElement(pn,b()({},m,{executions:n})),r.createElement(nn,b()({},m,{orders:s,showSummary:!1,columnGroup:"history"})))},t}(d.a);cr.displayName="BasicOrdersAndPositionsPanel";var ur=Object(p.a)(function(e){return{actions:e.actions,executions:e.executions,instruments:e.instruments,margin:e.margin,myOrders:e.myOrders,myOpenOrders:e.myOpenOrders,orderSubmitInProgress:e.orderSubmitInProgress,positions:e.positions,selectedInstrument:e.selectedInstrument}})(cr),dr=r.createElement(A.FormattedMessage,{id:"collapsibleTable.tooltip.expand",defaultMessage:"Click to Expand.",description:"Tooltip text instructing user to click to expand table"}),pr=r.createElement(A.FormattedMessage,{id:"collapsibleTable.tooltip.collapse",defaultMessage:"Click to Collapse.",description:"Tooltip text instructing user to click to collapse table"}),mr=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={collapsed:r.props.startCollapsed},r.onCollapseToggle=function(e){e.preventDefault(),r.setState({collapsed:!r.state.collapsed})},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){var e=this.state.collapsed?this.props.collapsedColumns:this.props.expandedColumns;return r.createElement("span",{className:"collapsibleTableWrapper"},r.createElement(Pe.a,b()({},this.props,{columns:e})),r.createElement("span",{className:"collapseToggle",onClick:this.onCollapseToggle},r.createElement(Mt.a,{component:"i",text:this.state.collapsed?dr:pr,className:"fa fa-angle-double-"+(this.state.collapsed?"right":"left")})))},t}(d.a);mr.displayName="CollapsibleTable",mr.defaultProps={startCollapsed:!0},mr.propTypes={expandedColumns:F.a.array,collapsedColumns:F.a.array.isRequired,startCollapsed:F.a.bool};var fr=n(96),hr=["symbol","markPrice","lastPrice","bidPrice","askPrice","openValue","contractValue","expiry"],gr=L.a.difference(P()(fr.a.props),fr.a.displayOmitColumns),yr=L.a.without(gr,"symbol"),br=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.getRowClass=function(e){return e.symbol===r.props.selectedSymbol?"selected":""},r.onRowClick=function(e,t){r.props.actions.selectInstrument(t.symbol)},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){var e=this,t=this.context.panelState.fullscreened,n=t?Pe.a:mr;return r.createElement("span",null,r.createElement(wt.b,{data:this.props.instruments,include:t?gr:hr},function(a){var i=a.sortedData,o=a.tableHeaderCellRenderer,s=a.sortKey,l=a.sortType;return r.createElement("span",null,t?r.createElement(Pe.a,{data:i,columns:["symbol"],className:"symbolTable",animated:!1,tableName:"instrument",getRowClass:e.getRowClass,onRowClick:e.onRowClick,headerCellRenderer:o,sortKey:s,sortType:l}):null,r.createElement(n,{className:"instrumentsList",animated:!1,columns:yr,collapsedColumns:e.props.columns||hr,expandedColumns:gr,getRowClass:t?void 0:e.getRowClass,onRowClick:e.onRowClick,data:i,headerCellRenderer:o,sortKey:s,sortType:l,__depData:e.props.selectedSymbol,tableName:"instrument"}))}))},t}(d.a);br.displayName="InstrumentsList",br.contextTypes=b()({},d.a.contextTypes,{panelState:F.a.object});var vr=Object(p.a)(function(e){return{actions:e.actions,instruments:e.instruments,selectedSymbol:e.selectedSymbol}})(br),Er=["symbol","lastPrice","prevPrice24h","lastChangePcnt","reference","referenceSymbol"],wr=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.onRowClick=function(e,t){r.props.actions.navigate(R.b+"index/"+t.symbol)},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){var e=this;return r.createElement(wt.b,{data:this.props.indices},function(t){var n=t.sortedData,a=t.tableHeaderCellRenderer,i=t.sortKey,o=t.sortType;return r.createElement(Pe.a,{className:"indicesList",columns:Er,onRowClick:e.onRowClick,data:n,headerCellRenderer:a,sortKey:i,sortType:o,headerClassName:o,tableName:"instrument"})})},t}(d.a);wr.displayName="InstrumentsList";var Mr=Object(p.a)(function(e){return{actions:e.actions,indices:e.indices}})(wr),Sr=(vt()("frontend:InstrumentsPanel"),r.createElement(vr,null)),xr=r.createElement(Mr,null),kr=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.context.intl.formatMessage,t=Object(A.defineMessages)({instruments:{id:"instrumentsPanel.title.instruments",defaultMessage:"Instruments",description:"Title text for instruments tab on instruments panel"},indices:{id:"instrumentsPanel.title.indices",defaultMessage:"Indices",description:"Title text for indices tab on instruments panel"}}),n=[e(t.instruments),e(t.indices)];return r.createElement(Et.a,b()({},this.props,{titles:n,localStorageKey:"InstrumentsPanel"}),Sr,xr)},t}(d.a);kr.displayName="InstrumentsPanel";var Tr=n(477),Cr=n(478),Nr=(vt()("frontend:PositionsPanel"),function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.context.intl.formatMessage,t=this.props.positions.getOpen(),n=this.props.positions.getClosed(),a=[e(Object(A.defineMessages)({openPositions:{id:"positionsPanel.title.openPositions",defaultMessage:"Open Positions [{len, number}]",description:"Title text for open positions on positions panel"}}).openPositions,{len:t.length}),e(H.a["Closed Positions"].props)],i=[t.length,null];return r.createElement(Et.a,b()({},this.props,{titles:a,titleValues:i,animateTitle:!0,localStorageKey:"PositionsPanel",loginRequired:!0}),r.createElement(lr,b()({},this.props,{positions:t})),r.createElement(lr,b()({},this.props,{positions:n,isLive:!1})))},t}(d.a));Nr.displayName="PositionsPanel";var Pr=Object(p.a)(function(e){return{actions:e.actions,margin:e.margin,positions:e.positions,selectedSymbol:e.selectedInstrument.symbol}})(Nr),Or=n(67),Fr=n(251),Ir=(vt()("frontend:MarginPanel"),r.createElement(A.FormattedMessage,{id:"marginPanel.help",defaultMessage:"Click to view full Wallet details.",description:"Margin Widget Help"})),Lr=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=r.createElement("span",null,H.a.Margin,r.createElement(Or.a,{href:R.b+"wallet",className:"noBorder",text:Ir}));return r.createElement(gn.a,b()({},this.props,{title:e,loginRequired:!0,showFullscreen:!1}),r.createElement(Fr.a,this.props))},t}(d.a);Lr.displayName="MarginPanel";var Ar={"Contextual.customUI":{title:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.customUI.Title",defaultMessage:"Welcome to the new BitMEX Advanced UI.",description:"Announcement title text for information of the new UI"}),content:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.customUI.Content",defaultMessage:'The BitMEX Advanced UI is a one-of-a-kind feature available nowhere else, bringing web trading closer to the power of a desktop trading suite.<br /> <br /><img src="{customUIGifUrl}" /><br /><br /><ul style="text-align: left"> <li>Drag the title bar to move a widget.</li> <li>Drag the bottom-right corner to resize.</li> <li>Your layout will be saved when you close the page.</li> <li>To reset, click the main options dropdown at the top right and click \'<b>Reset Layout</b>\'.</li></ul>',description:"Announcement content text for information of the new UI"})},"Contextual.enableTFA":{title:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.enableTFA.Title",defaultMessage:"Please Enable Two-Factor Authentication",description:"Announcement title text to enable TFA"}),content:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.enableTFA.Content",defaultMessage:'Protect your account! Your account now has a balance of {marginBalance}, but you have not yet enabled Two-Factor. Please go to your <a class="strong" href="{accountUrl}">Account Settings</a> to enable it.',description:"Announcement content text to enable TFA"})},"Contextual.clockSkewed":{title:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.clockSkewed.Title",defaultMessage:"Your Clock is Out of Sync",description:"Announcement title text for out of sync clock"}),content:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.clockSkewed.Content",defaultMessage:"We've detected that your local clock appears to be significantly skewed from BitMEX servers. Please go to your system's clock settings and ensure it is set to sync with Internet servers. Once this is done, please log in again. BitMEX may not work properly until you fix this issue.",description:"Announcement content text for out of sync clock"})},"Contextual.tryCustomUI":{title:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.tryCustomUI.Title",defaultMessage:"Advanced BitMEX Usage",description:"Announcement title text for explanation of Advanced UI"}),content:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.tryCustomUI.Content",defaultMessage:"By now, you've been trading on BitMEX for a few days. Have you tried the new Advanced UI? The Advanced UI features more widgets and a comprehensive grid customization feature.<br /> <br /><img src=\"{customUIGifUrl}\" /><br /><br />To enable, click your username at the top right and select the '<b>Advanced</b>' dashboard layout.",description:"Announcement content text for explanation of Advanced UI"})},"Contextual.firstPosition":{title:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.firstPosition.Title",defaultMessage:"Your deposit was successful.",description:"Announcement title text for successful deposit"}),content:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.firstPosition.Content",defaultMessage:'You may now begin opening positions. For more information, see the <a href="{faqUrl}">FAQ</a> and the Contract Specifications in the sidebar. You can also see gross value and estimated initial margin requirements in the order controls while entering an order, and estimate your PNL using the calculator in the corner of the widget.<br><br> Your current margin balance is {marginBalance}. The Margin widget on the <a href="{walletUrl}">Wallet Page</a> shows more detailed margin status.',description:"Announcement content text for successful deposit"})},"Contextual.withdrawalPending":{title:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.withdrawalPending.Title",defaultMessage:"You have a pending withdrawal.",description:"Announcement title text for a pending withdrawal"}),content:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.withdrawalPending.Content",defaultMessage:"Your account has a pending withdrawal for {amountFormatted}. Please check your email to confirm or cancel this withdrawal.",description:"Announcement content text for a pending withdrawal"})},"Contextual.withdrawalConfirmed":{title:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.withdrawalConfirmed.Title",defaultMessage:"You have a confirmed withdrawal.",description:"Announcement title text for a confirmed withdrawal"}),content:r.createElement(A.FormattedMessage,{id:"announcement.Contextual.withdrawalConfirmed.Content",defaultMessage:"You have confirmed your withdrawal for {amountFormatted}. We send all withdrawals by hand from offline multisig wallets; the next batch will go out at 13:00 UTC ({nextWithdrawalTime}).",description:"Announcement content text for a confirmed withdrawal"})}},Dr=r.createElement("a",{href:"#"},"Dismiss"),Br=r.createElement("i",{className:"fa fa-close"}),_r=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.onClose=function(e){var t=e.id,n=e.instanceID;r.props.actions.acknowledgeUrgentAnnouncement({id:t,instanceID:n})},a=n,l()(r,a)}return u()(t,e),t.prototype.getMessage=function(e,t){var n=this.context.intl.formatMessage,r=t.messageID,a=t.messageValues;return r&&Ar[r][e]?n(Ar[r][e].props,a||{}):t[e]||""},t.prototype.render=function(){var e=this;if(!this.props.urgentAnnouncements.length)return null;var t=r.createElement("img",{src:"/img/bitmex-logo-square.png",className:"annLogo"}),n=L.a.map(this.props.urgentAnnouncements,function(n,a){return r.createElement(gn.a,{key:a,className:"urgentAnnouncement"},n.dismissable&&n.id?n.disableable&&n.instanceID?r.createElement(xn.a,{icon:"close",className:"closeDropdown",buttonClassName:"close",alignRight:!0},r.createElement("li",{onClick:function(){return e.onClose(n)}},Dr),r.createElement("li",{onClick:function(){return e.onClose(n)}},r.createElement("a",{href:"#"},"Don't Show Again"))):r.createElement("div",{className:"close",onClick:function(){return e.onClose(n)}},Br):null,r.createElement("h3",{className:"title"},t,e.getMessage("title",n)),r.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:e.getMessage("content",n)}}))});return r.createElement("div",{className:"urgentAnnouncements"},n)},t}(d.a);_r.displayName="UrgentAnnouncements";var Rr=Object(p.a)(function(e){return{actions:e.actions,urgentAnnouncements:e.urgentAnnouncements}})(_r),jr=n(480),Ur=n(164),Hr=n(207),qr=function(e,t){var n=t[e]||{makerFee:0,takerFee:0};return r.createElement(A.FormattedMessage,{id:"tradeLayout.instructionWidget",defaultMessage:"Here you can place orders to buy or sell contracts.\n\nGo long to profit from a rise in price or go short to profit from dips.\n\nYour commission rates on {symbol}:\nMaker: {makerFee}\nTaker: {takerFee}",description:"Panel header tooltip text that shows the user commission rates for both parties",values:{symbol:e,makerFee:(100*n.makerFee).toFixed(3)+"%",takerFee:(100*n.takerFee).toFixed(3)+"%"}})},Wr=r.createElement(Ur.a,null),Vr=r.createElement(Ur.a,null),zr=r.createElement(Rr,{className:"col-xs-12"}),Kr=r.createElement(Tr.a,{className:"hidden-sm hidden-md hidden-lg",shortName:!1}),Qr=r.createElement(Cr.a,{className:"col-xs-12"}),Gr=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.onLayoutChange=function(e,t){L.a.isEqual(r.props.tradeLayouts[r.props.tradeLayout],e)||(r.layoutTimeout&&clearTimeout(r.layoutTimeout),r.layoutTimeout=setTimeout(function(){return r.props.actions.saveLayout(r.props.tradeLayout,t)},0))},a=n,l()(r,a)}return u()(t,e),t.prototype.getChildren=function(){var e=this,n=t.widgets,r=function(t){return Object(Hr.b)(t,n[t](e.props))},a=this.props,i=a.responsiveSize,o=a.tradeLayout,s="xxs"===i||"xs"===i,l=!s&&"basic"===o;return[s?r("orderControls"):null,r("orderBook"),r("tradingView"),r("recentTradeList")].concat(l?[]:[r("openOrders"),r("positionsList"),r("marginDisplay"),r("instrumentsList")],l?[r("basicOrdersAndPositions")]:[],[s?r("chatWidget"):null]).filter(Boolean)},t.prototype.cloneWidget=function(e,t){var n=e.props.children,a=r.cloneElement(n,t);return r.cloneElement(e,{children:a})},t.prototype.render=function(){var e=this.props,n=e.fullscreenedWidget,a=e.hasUrgentAnnouncements,i=e.responsiveSize,o=e.tradeLayout,s=e.tradeLayouts[o],l="xxs"===i||"xs"===i;if(!s)return Wr;if(n){if(n in t.widgets){var c=t.widgets[n],u=Object(Hr.b)(n,c(this.props));return r.createElement("div",{className:"fullscreened"},this.cloneWidget(u,{fullscreened:!0}))}return Vr}var d=this.getChildren();return r.createElement("div",{className:"tradeLayout advanced fullWidth"},r.createElement("div",{className:"row"},a?Object(Hr.b)("urgentAnnouncements",zr):null,l?Object(Hr.b)("instrumentSelector",Kr):Object(Hr.b)("instrumentSelectorPanel",Qr)),l?r.createElement("div",null,d):r.createElement(jr.a,{layouts:s,onLayoutChange:this.onLayoutChange,breakpoint:i},d))},t}(d.a);Gr.displayName="TradeLayout";var Xr=r.createElement(zn,{height:7}),Yr=r.createElement(C.a,null),Jr=r.createElement(Kn.a,null),Zr=r.createElement(hn,{height:6}),$r=r.createElement(Pr,{height:5}),ea=r.createElement(Lr,{height:4,showFullscreen:!1}),ta=r.createElement(kr,{height:5}),na=r.createElement(ur,{height:5}),ra=r.createElement(ft.a,{fetchOnMount:!0});Gr.widgets={orderControls:function(e){return r.createElement(gn.a,{title:mn.a["Order Controls ({value})"](e.selectedSymbol),tooltip:qr(e.selectedSymbol,e.commission),height:{lg:4},loginRequired:!0,showFullscreen:!1},r.createElement(ht.a,{showPositionStatus:e.authenticated,showContractDescription:e.authenticated}))},orderBook:function(){return Xr},tradingView:function(e){var t=e.tradeLayouts[e.tradeLayout],n=L.a.find(t[e.responsiveSize],{i:"tradingView"});return n&&n.h>3&&n.w>1?r.createElement(gn.a,{title:mn.a["Chart ({value})"](e.selectedSymbol),height:8,localStorageKey:"rl-"+e.tradeLayout+"TVChart"},Yr):r.createElement(gn.a,{title:H.a["Chart (Disabled)"]})},recentTradeList:function(e){return r.createElement(gn.a,{title:mn.a["Recent Trades ({value})"](e.selectedSymbol),height:{md:6,xxs:4}},Jr)},openOrders:function(){return Zr},positionsList:function(){return $r},marginDisplay:function(){return ea},instrumentsList:function(){return ta},basicOrdersAndPositions:function(){return na},chatWidget:function(){return r.createElement(gn.a,{title:H.a.Trollbox,height:8},ra)}};var aa=Object(p.a)(function(e){var t=e.actions,n=e.commission,r=e.fullscreenedWidget,a=e.marginPrimary,i=e.me,o=e.options,s=e.responsiveSize,l=e.selectedInstrument,c=e.sidebarSide,u=e.tradeLayouts,d=e.urgentAnnouncements;return{actions:t,authenticated:i.authenticated,commission:n,fullscreenedWidget:r,hasUrgentAnnouncements:Boolean(d.length),responsiveSize:s,selectedSymbol:l.symbol,shouldShowDeposit:i.authenticated&&0===a.walletBalance&&0===a.realisedPnl&&0===a.prevRealisedPnl&&0===a.grossComm&&0===a.pendingCredit,sidebarSide:c,tradeLayout:o.tradeLayout,tradeLayouts:u}})(Gr),ia=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"affiliateStatus.header.affiliateLink",defaultMessage:"Affiliate Link",description:"Header for affiliate link section"})),oa=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"affiliateStatus.paragraph.affiliateLink",defaultMessage:"Your shareable affiliate link: ",description:"Text to identify shareable link"})),sa=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"affiliateStatus.paragraph.linkFooter",defaultMessage:"Copy and paste this link to send to friends or use in your articles. When users sign up using this link, your account will be credited with the referral and the bonuses below will apply.",description:"Paragraph of instructions for affiliate link usage"})),la=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"affiliateStatus.header.dashboard",defaultMessage:"Affiliate Dashboard",description:"Header for affiliate dashboard"})),ca=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"affiliateStatus.header.table",defaultMessage:'Affiliates are paid out every day at 12:01 UTC. Until that time, data will be shown in the "Pending" column until it is confirmed and rolled over. View the Program Details below for more information.',description:"Table header for affiliate data"})),ua=r.createElement(A.FormattedMessage,{id:"affiliateStatus.title.affiliateStatus",defaultMessage:"Affiliate Status",description:"Title for affiliate status page"}),da=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"affiliateStatus.header.staticContent",defaultMessage:"Affiliate Program Details",description:"Header for affiliate status static content"})),pa=r.createElement(v.a,{pageName:"affiliates"}),ma=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.onLinkCopyClick=function(e){e.target.setSelectionRange(0,e.target.value.length)},a=n,l()(r,a)}return u()(t,e),t.prototype.generateData=function(){var e=this.props.affiliateStatus.toDisplay({activeCurrency:this.context.activeCurrency});return[["",H.a.Awarded,H.a.Pending],["totalTurnover",e.prevTurnover,e.execTurnover],["totalComm",e.prevComm,e.execComm],["payoutPcnt",e.avgPayoutPcnt,e.payoutPcnt],["payouts",e.prevPayout,e.pendingPayout]]},t.prototype.status=function(){var e=this.props.origin+"/register/"+this.props.me.affiliateID,t=this.generateData();return r.createElement("div",{className:"affiliateStatus"},ia,oa,r.createElement("p",null,r.createElement("textarea",{className:"linkCopy",value:e,onClick:this.onLinkCopyClick,readOnly:!0,rows:1,cols:e.length})),sa,la,ca,r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"affiliateStatus.paragraph.userCount",defaultMessage:"You have referred {count} users.",description:"Text that displays the number of users referred",values:{count:r.createElement("b",null,this.props.affiliateStatus.totalReferrals)}})),r.createElement(k.a,{data:t,timezoneOffset:0,tableName:"_affiliateStatus",tableClassName:"table-bordered"}))},t.prototype.render=function(){return r.createElement(E.a,{className:"staticContent affiliateStatus",title:ua},this.props.me.authenticated?this.status():null,da,pa)},t}(d.a);ma.displayName="AffiliateStatus";var fa=Object(p.a)(function(e){return{affiliateStatus:e.affiliateStatus,me:e.me,origin:e.origin}})(ma),ha=n(24),ga=n.n(ha),ya={checkbox:!1,email:"",number:null,password:"",text:"",textarea:""},ba=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.linkState=a.linkState.bind(a),a.state=a.generateInitialState(),a.tabIndex=1,a.createFieldset=function(e,t){return r.createElement("fieldset",{key:t},e.helpText?r.createElement("p",{className:"help-block"},e.helpText):null,e.legend?r.createElement("legend",{className:"section"},e.legend):null,L.a.map(e.fields,a.createField))},a.createField=function(e){var t=a.normalizeField(e);return r.createElement("div",{className:"control-group"+(!0===t.props.hidden?" hidden":"")+" field-"+t.key,key:t.key},r.createElement("label",{className:"control-label control-label-flex",htmlFor:t.key},r.createElement("div",{className:"control-label-inner"},a.createLabel(t)),r.createElement("div",{className:"controls form-group col-md-8"},a.createInput(t),t.helpText?r.createElement("p",{className:"help-block"},t.helpText):null)))},a.createInput=function(e){if("staticText"===e.props.type)return a.createStaticText(e);if("function"==typeof e.render)return e.render(a.linkState,a.state[e.key],a.tabIndex++);var t=e.props,n=t.type,i=(t.defaultValue,t.defaultChecked,yt()(t,["type","defaultValue","defaultChecked"])),o="textarea"===n?"textarea":"input";return r.createElement(o,b()({id:e.key,name:e.key,key:e.key,type:n,className:"form-control",tabIndex:a.tabIndex++},a.linkState(e.key,{type:n}),i))},a.onSubmit=function(e){e.preventDefault(),a.props.submitDisabled||a.props.onSubmit({value:a.state})},i=n,l()(a,i)}return u()(t,e),t.prototype.componentDidUpdate=function(e,t){var n,r;t&&(this.props.onChange&&!L.a.isEqual(t,this.state)&&this.props.onChange({value:this.state,changedKey:(n=t,r=this.state,L.a.findKey(n,function(e,t){return r[t]!==e}))}))},t.prototype.generateInitialState=function(){var e=this,t={};return L.a.each(this.props.fieldsets,function(n){L.a.each(n.fields,function(n){if(!n.label)throw new Error("Form: Label missing for field "+n.key);if(t[n.key])throw new Error("Form: Duplicate field name detected: "+n.key);n=e.normalizeField(n),t[n.key]=null!=n.props.defaultValue?n.props.defaultValue:null!=n.props.defaultChecked?n.props.defaultChecked:ya[n.props.type]})}),b()({},t,this.props.initialState)},t.prototype.reset=function(e){this.setState(this.generateInitialState(),e)},t.prototype.createLabel=function(e){var t=e.label;return"function"==typeof t&&(t=t(this.state,this.props)),t},t.prototype.createStaticText=function(e){var t=e.props,n=t.value,a=t.className||"";return"function"==typeof n&&(n=n(this.state,this.props)),"function"==typeof a&&(a=a(this.state,this.props)),r.createElement("span",b()({},t,{id:e.key,key:e.key,className:a}),n)},t.prototype.normalizeField=function(e){return e.props||(e.props={}),e.props.type||(e.props.type="text"),e},t.prototype.render=function(){return this.tabIndex=1,r.createElement("form",{className:this.props.className+" form-horizontal label-left",onSubmit:this.onSubmit},this.props.legend?r.createElement("fieldset",{key:"mainLegend"},r.createElement("legend",null,this.props.legend)):null,L.a.map(this.props.fieldsets,this.createFieldset),this.props.children,this.props.showCancel||this.props.showSubmit?r.createElement("div",{className:"form-actions"},this.props.showSubmit?r.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.props.submitDisabled,tabIndex:this.tabIndex++},this.props.submitText):null,this.props.showCancel?r.createElement("a",{type:"button",className:"btn btn-default",href:R.b,disabled:this.props.submitDisabled,tabIndex:this.tabIndex++},H.a.Cancel):null):null)},t}(d.a);function va(e){var t=(e.className||"")+" input-copyable-text";return r.createElement("input",b()({type:"text",readOnly:!0,onFocus:Ea,size:e.value.length},e,{className:t}))}function Ea(e){var t=e.target;try{t.select(),t.setSelectionRange(0,t.value.length)}catch(e){}}ba.displayName="Form",ba.defaultProps={children:null,className:"",initialState:{},onChange:function(e){},onSubmit:function(e){},showCancel:!1,showSubmit:!0,submitDisabled:!1,submitText:H.a.Submit,validate:function(e){return!0}};var wa=r.createElement(A.FormattedMessage,{id:"apiKeys.label.twoFactor",defaultMessage:"Two-Factor Token",description:"Label for Two-Factor authentication token"}),Ma=r.createElement(A.FormattedMessage,{id:"apiKeys.helpText.twoFactor",defaultMessage:"Please confirm this action with your two-factor token.",description:"Help text for two-factor verification"});function Sa(e){var t=e.TFAEnabled;if(t)return{key:"token",label:wa,helpText:Ma,props:{onKeyDown:function(e){10!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault())},autoComplete:"off",required:!0,maxLength:"GA"===t?6:"Yubikey"===t?44:50}}}var xa=["enabled","name","id","cidr","created","permissions","actions"],ka={name:"",cidr:"",token:"","permissions-order":!1,"permissions-order-cancel":!1,"permissions-withdraw":!1},Ta=r.createElement(A.FormattedMessage,{id:"apiKeys.helpText.name",defaultMessage:"Optional name for this key. This will help you reference this key later.",description:"Help text for API Key name field"}),Ca=r.createElement(r.Fragment,null,r.createElement(A.FormattedMessage,{id:"apiKeys.helpText.cidr",defaultMessage:'Optional CIDR block to restrict this key to. To restrict to a single address, append "/32", e.g. 207.39.29.22/32. Leave blank to allow all IPs.',description:"Help text that describes CIDR"}),"Â ",r.createElement("a",{href:"http://software77.net/cidr-101.html"},r.createElement(A.FormattedMessage,{id:"apiKeys.helpText.cidrLink",defaultMessage:"More on CIDR blocks",description:"Text to describe what link in CIDR help entails"}))),Na=r.createElement(A.FormattedMessage,{id:"apiKeys.label.keyPermissions",defaultMessage:"Key Permissions",description:"Label for key permissions section"}),Pa=r.createElement(A.FormattedMessage,{id:"apiKeys.helpText.keyPermissions",defaultMessage:'Set "Order" to allow placing and canceling orders.\nSet "Order Cancel" to allow *only* canceling orders. Do not combine with "Order".\nSet "Withdraw" to allow creating withdrawal requests.',description:"Text to help user understand order and withdraw"}),Oa=r.createElement("i",{className:"fa fa-times-circle-o"}),Fa=r.createElement("i",{className:"fa fa-chain-broken"}),Ia=r.createElement("i",{className:"fa fa-chain"}),La=r.createElement("i",{className:"pos fa fa-check"}),Aa=r.createElement("i",{className:"neg fa fa-close"}),Da=r.createElement("h4",null,r.createElement(A.FormattedMessage,{id:"apiKeys.header.secretKeyBackup",defaultMessage:"Please write down the secret key.",description:"Header text for instruction of secret key backup"})),Ba=r.createElement("h5",null,r.createElement(A.FormattedMessage,{id:"apiKeys.header.secretKeyHidden",defaultMessage:"Write it down somewhere safe!",description:"Header text for instruction of secret key safety"}),"Â ",r.createElement(A.FormattedMessage,{id:"apiKeys.header.secretKeyExpire",defaultMessage:"The secret key will no longer be available once you leave this page.",description:"Header text for telling user key will disappear"})),_a=r.createElement("br",null),Ra=r.createElement("td",null,r.createElement(A.FormattedMessage,{id:"apiKeys.li.apiId",defaultMessage:"ID: ",description:"Label for id of secret"})),ja=r.createElement("td",null,r.createElement(A.FormattedMessage,{id:"apiKeys.li.apiSecret",defaultMessage:"Secret: ",description:"Label for secret"})),Ua=r.createElement(A.FormattedMessage,{id:"apiKeys.title.apiKeys",defaultMessage:"API Keys",description:"Page title for API Keys page"}),Ha=r.createElement(A.FormattedMessage,{id:"apiKeys.form.legend",defaultMessage:"Create an API Key",description:"Create API Key text for form"}),qa=r.createElement("i",{className:"fa fa-question-circle"}),Wa=r.createElement(A.FormattedMessage,{id:"apiKeys.info.moreInfo1of2",defaultMessage:"More information can be found on the",description:"First part of 'more information about api key usage' text"}),Va=r.createElement(A.FormattedMessage,{id:"apiKeys.info.moreInfo2of2",defaultMessage:"API Key Usage Page",description:"Second part of 'more information about api key usage' text"}),za=r.createElement("legend",null,r.createElement(A.FormattedMessage,{id:"apiKeys.legend.yourApiKeys",defaultMessage:"Your API Keys",description:"Table legend/header for users API Keys"})),Ka=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.getFieldsets=function(){var e=[{fields:[{key:"name",label:H.a.Name,helpText:Ta},{key:"cidr",label:H.a.Cidr,helpText:Ca},{key:"permissions",label:Na,helpText:Pa,render:function(e){return r.createElement(r.Fragment,null,r.createElement("label",{className:"checkbox-inline"},r.createElement("input",b()({type:"checkbox",name:"permissions-order"},e("permissions-order",{type:"checkbox"}))),H.a.Order),r.createElement("label",{className:"checkbox-inline"},r.createElement("input",b()({type:"checkbox",name:"permissions-order-cancel"},e("permissions-order-cancel",{type:"checkbox"}))),H.a["Order Cancel"]),r.createElement("label",{className:"checkbox-inline"},r.createElement("input",b()({type:"checkbox",name:"permissions-withdraw"},e("permissions-withdraw",{type:"checkbox"}))),H.a.Withdraw))}}]}],t=Sa(a.props.me);return t&&e[0].fields.push(t),e},a.createKey=function(e){var t=e.value,n={name:t.name||"Key Created From Frontend",cidr:t.cidr,token:t.token,permissions:[]};t["permissions-withdraw"]&&n.permissions.push("withdraw"),t["permissions-order"]&&n.permissions.push("order"),t["permissions-order-cancel"]&&n.permissions.push("orderCancel"),a.props.actions.createAPIKey(n)},a.deleteKey=function(e){var t=e.currentTarget.getAttribute("data-id");a.props.actions.deleteAPIKey({id:t})},a.disableKey=function(e){var t=e.currentTarget.getAttribute("data-id");a.props.actions.disableAPIKey({id:t})},a.enableKey=function(e){var t=e.currentTarget.getAttribute("data-id");a.props.actions.enableAPIKey({id:t})},a.cellFormatter=function(e,t,n){return"actions"===t?r.createElement("div",{className:"actions"},r.createElement("span",{"data-id":n.id,"data-name":n.name,className:"btn btn-danger",onClick:a.deleteKey},Oa,"Â ",H.a.Delete)," Â ",n.enabled?r.createElement("span",{"data-id":n.id,onClick:a.disableKey,className:"btn btn-warning"},Fa,"Â ",H.a.Disable):r.createElement("span",{"data-id":n.id,onClick:a.enableKey,className:"btn btn-success"},Ia,"Â ",H.a.Enable)):"permissions"===t&&e?ga()(e).replace(/[[\]]*/g,""):"enabled"===t?e?La:Aa:"created"===t?r.createElement("span",null,D.i(e,a.context.timezoneOffset)):e},i=n,l()(a,i)}return u()(t,e),t.prototype.componentWillUnmount=function(){this.props.actions.clearAPIKeySecret()},t.prototype.lastChanceShowSecret=function(){var e=this.props.apiKeys.first();if(e&&e.secret)return r.createElement("div",{className:"alert alert-warning v-offset-xs-1 secretView"},Da,Ba,_a,r.createElement("table",null,r.createElement("tr",null,Ra,r.createElement("td",null,r.createElement(va,{value:e.id}))),r.createElement("tr",null,ja,r.createElement("td",null,r.createElement(va,{value:e.secret})))))},t.prototype.render=function(){return r.createElement(E.a,{className:"apiKeys staticWrapper",title:Ua},r.createElement(ba,{legend:Ha,fieldsets:this.getFieldsets(),initialState:ka,onSubmit:this.createKey}),this.lastChanceShowSecret(),r.createElement("div",{className:"helpInfo alert alert-info"},qa,"Â ",Wa,"Â ",r.createElement("a",{href:R.b+"apiKeysUsage"},Va),"."),za,r.createElement(Pe.a,{data:this.props.apiKeys,cellFormatter:this.cellFormatter,columns:xa,scrollable:!1,tableName:"apiKey"}))},t}(d.a);Ka.displayName="APIKeys";var Qa=Object(p.a)(function(e){return{actions:e.actions,apiKeys:e.apiKeys,me:e.me}})(Ka),Ga=n(58),Xa=r.createElement("a",{href:"https://www.sierrachart.com/RegisterStep1.php"},r.createElement(A.FormattedMessage,{id:"dtcIntegration.helpText.createUsername",defaultMessage:"please create one",description:"Link text to create Sierra Chart username."})),Ya=r.createElement(A.FormattedMessage,{id:"dtcIntegration.createKey.btn",defaultMessage:"Connect to Sierra Chart",description:"Submission button to create key"}),Ja=r.createElement(A.FormattedMessage,{id:"dtcIntegration.hasKey.content",defaultMessage:"Your BitMEX account is connected to Sierra Chart. To use it, connect to Sierra Chart with the username:",description:"User connected; showing status."}),Za=r.createElement("i",{className:"fa fa-close fa-fw icon"}),$a=r.createElement(A.FormattedMessage,{id:"dtcIntegration.hasKey.disconnect",defaultMessage:"Disconnect from Sierra Chart",description:"Message to disconnect API Key from Sierra Chart"}),ei=r.createElement("i",{className:"fa fa-sign-in fa-fw icon"}),ti=r.createElement(A.FormattedMessage,{id:"dtcIntegration.title",defaultMessage:"DTC (Sierra Chart) Integration",description:"Page title for DTC Integration page"}),ni=r.createElement(v.a,{pageName:"dtcIntegration",className:"noMinHeight"}),ri=r.createElement("h3",{className:"underlined thick"},r.createElement(A.FormattedMessage,{id:"dtcIntegration.apiKey.title",defaultMessage:"Your Sierra Chart Integration",description:"Header above user's integration status"})),ai=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.createKey=function(e){var t=e.value,n=r.props.DTC_KEY,a={name:"DTC Key for Sierra Chart Integration",token:t.token,permissions:["order",[n,{username:t.username.trim()}]],cidr:""};r.props.actions.createAPIKey(a)},r.deleteKey=function(e){var t=e.currentTarget.getAttribute("data-id");r.props.actions.deleteAPIKey({id:t})},a=n,l()(r,a)}return u()(t,e),t.prototype.getDTCKey=function(){var e=this.props,t=e.apiKeys,n=e.DTC_KEY;return t.find(function(e){return Boolean(e.permissions&&e.permissions.find(function(e){return e[0]===n}))})},t.prototype.getDTCUsername=function(e){var t=this.props.DTC_KEY;return e.permissions.find(function(e){return e[0]===t})[1].username},t.prototype.getCreateKey=function(){var e=[{fields:[{key:"username",label:H.a.Username,helpText:r.createElement(A.FormattedMessage,{id:"dtcIntegration.helpText.username",defaultMessage:"Your Sierra Chart username.\nEnsure this is correct! If it is not, another user may be able to access your account.\nIf you don't have a Sierra Chart username, {createUsernameEl}.",description:"Help text for DTC Integration username field",values:{createUsernameEl:Xa}})}]}],t=Sa(this.props.me);return t&&e[0].fields.push(t),r.createElement("div",null,r.createElement(ba,{legend:"",fieldsets:e,onSubmit:this.createKey,submitText:Ya,initialState:{username:""}}))},t.prototype.getHasKey=function(e){var t=this.getDTCUsername(e);return r.createElement("div",null,Ja,r.createElement("h4",null,r.createElement(va,{value:t})),r.createElement("div",{className:"btn btn-warning btn-segmented",onClick:this.deleteKey,"data-id":e.id},Za,$a))},t.prototype.getStaticContent=function(){return r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"dtcIntegration.signin.content",defaultMessage:"To get started, please {loginLink}.",description:"Message shown when not logged in on DTC Integration page",values:{loginLink:r.createElement("a",{href:"/login"},ei,H.a["Log In"])}}))},t.prototype.render=function(){var e=this.getDTCKey(),t=this.props.me.authenticated?e?this.getHasKey(e):this.getCreateKey():this.getStaticContent();return r.createElement(E.a,{className:"dtcIntegration staticWrapper",title:ti},ni,ri,t)},t}(d.a);ai.displayName="DTCIntegration",ai.defaultProps={DTC_KEY:Ga.a.settings.dtc.permissionKey};var ii=Object(p.a)(function(e){return{actions:e.actions,apiKeys:e.apiKeys,me:e.me}})(ai),oi=n(69),si=["timestamp","symbol","settlementType","settledPrice","taxBase","bankrupt","taxRate"],li=["timestamp","symbol","settlementType"],ci=r.createElement(A.FormattedMessage,{id:"settlementHistory.title",defaultMessage:"Settlement History",description:"Title text for the settlement history page"}),ui=r.createElement("h3",{className:"underlined"},r.createElement(A.FormattedMessage,{id:"settlementHistory.table.title",defaultMessage:"Settlement History Table",description:"Title text for the settlement history table"})),di=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"settlementHistory.table.description",defaultMessage:"This list contains all historical settlements.",description:"Description text for the settlement history table"})),pi=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.cellFormatter=function(e,t){var n=e;return"bankrupt"===t||"taxBase"===t?n="number"==typeof e?U.o(e,a.context.activeCurrency):"---":"timestamp"===t?n=D.i(e,a.context.timezoneOffset):"taxRate"===t?n=(100*e).toFixed(2)+"%":"symbol"===t&&(n=r.createElement(St.a,{value:e},e)),L.a.includes(li,t)?a.makeClickable(n,t,e):n},a.fetch=function(e,t,n){a.props.actions.fetchSettlementHistory({filter:e,start:t,count:n})},i=n,l()(a,i)}return u()(t,e),t.prototype.makeClickable=function(e,t,n){var a=this;return r.createElement("span",{className:"filterLink linkify",onClick:function(){return a.filterBy(t,n)}},e)},t.prototype.render=function(){var e=this;return r.createElement(E.a,{className:"settlementHistory historyPage",title:ci},ui,r.createElement("div",{className:"historyTable"},di,r.createElement(oi.a,b()({},this.props,{csvFileName:"Settlement History",data:this.props.settlements,fetch:this.fetch,filterByThunk:function(t){e.filterBy=t},showFilterForm:!0,start:this.props.start,tableProps:{cellFormatter:this.cellFormatter,columns:si}}))))},t}(d.a);pi.displayName="SettlementHistory";var mi=Object(p.a)(function(e,t){var n=e.actions,r=e.options,a=e.settlements;return{actions:n,options:r,start:t&&t._query&&parseInt(t._query.start,10)||0,settlements:a}})(pi),fi=["timestamp","symbol","fundingInterval","fundingRate","fundingRateDaily"],hi=["fundingInterval","fundingRate","fundingRateDaily"],gi=r.createElement(A.FormattedMessage,{id:"fundingHistory.title",defaultMessage:"Funding History",description:"Title text for the funding history page"}),yi=r.createElement("h3",{className:"underlined"},r.createElement(A.FormattedMessage,{id:"fundingHistory.table.title",defaultMessage:"Funding History Table",description:"Text for the name of the table that displays historial funding rates for all symbols"})),bi=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"fundingHistory.table.helpText",defaultMessage:"This list contains all historical funding rates for all symbols.",description:"Text describing what the Funding History Table shows"})),vi=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.cellFormatter=function(e,t){var n=e;return"timestamp"===t?n=D.i(e,a.context.timezoneOffset):"fundingInterval"===t?n=D.u(e):"fundingRate"===t||"fundingRateDaily"===t?n=(100*e).toFixed(4)+"%":"symbol"===t&&(n=r.createElement(St.a,{value:e},e)),L.a.includes(hi,t)?n:a.makeClickable(n,t,e)},a.fetch=function(e,t,n){a.props.actions.fetchFundingHistory({filter:e,start:t,count:n})},i=n,l()(a,i)}return u()(t,e),t.prototype.makeClickable=function(e,t,n){var a=this;return r.createElement("span",{className:"filterLink linkify",onClick:function(){return a.filterBy(t,n)}},e)},t.prototype.render=function(){var e=this;return r.createElement(E.a,{className:"fundingHistory historyPage",title:gi},yi,r.createElement("div",{className:"historyTable"},bi,r.createElement(oi.a,b()({},this.props,{csvFileName:"Funding History",data:this.props.funding,fetch:this.fetch,filterByThunk:function(t){e.filterBy=t},showFilterForm:!0,start:this.props.start,tableProps:{cellFormatter:this.cellFormatter,columns:fi}}))))},t}(d.a);vi.displayName="FundingHistory";var Ei=Object(p.a)(function(e,t){return{actions:e.actions,funding:e.funding,start:t&&t._query&&parseInt(t._query.start,10)||0}})(vi),wi=["timestamp","walletBalance"],Mi=r.createElement(A.FormattedMessage,{id:"insuranceHistory.title.history",defaultMessage:"Insurance Fund History",description:"Page title for insurance fund history page"}),Si=r.createElement("h3",{className:"underlined"},r.createElement(A.FormattedMessage,{id:"insuranceHistory.header.balance",defaultMessage:"Daily Insurance Fund Balance",description:"Header text for daily insurance fund balance"})),xi=r.createElement(v.a,{type:"md",pageName:"insuranceFund"}),ki=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.cellFormatter=function(e,t){return"timestamp"===t?D.f(e,r.context.timezoneOffset):"walletBalance"===t?Object(U.g)(e,r.context.activeCurrency):e},r.fetch=function(e,t){r.props.actions.fetchInsuranceHistory({filter:e,start:t})},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){return r.createElement(E.a,{className:"insuranceHistory historyPage",title:Mi},Si,r.createElement("div",{className:"historyTable"},xi,r.createElement(oi.a,b()({},this.props,{csvFileName:"Insurance Fund History",data:this.props.insurance,fetch:this.fetch,showFilterForm:!1,tableProps:{columns:wi,cellFormatter:this.cellFormatter,tableName:"insurance"}}))))},t}(d.a);ki.displayName="InsuranceHistory";var Ti=Object(p.a)(function(e){return{actions:e.actions,insurance:e.insurance}})(ki),Ci={GA:"Google Authenticator",Yubikey:"Yubikey"},Ni=Object(A.defineMessages)({chooseTwoFactorType:{id:"tfaEnabler.option.chooseTfaType",defaultMessage:"Choose a Two-Factor Type",description:"Text for option selector instructing user to choose a two factor type"},only:{id:"tfaEnabler.only",defaultMessage:"only",description:"only"}}),Pi=r.createElement("option",{disabled:!0},"-------------------------"),Oi=r.createElement(A.FormattedMessage,{id:"tfaEnabler.label.googleAuthenticator",defaultMessage:"Your Google Authenticator Code is",description:"Text label for Google Authenticator code"}),Fi=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.paragraph.backup",defaultMessage:"Be sure to backup this code! If you lose it, the process to unlock your account requires considerable time and verification.",description:"Text telling user to backup their code for extra safety"})),Ii=r.createElement("a",{href:"https://support.google.com/accounts/answer/1066447?hl=en"},"Google Authenticator"),Li=r.createElement("a",{href:"https://www.authy.com/app"},"Authy"),Ai=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.paragraph.yubikeyAdvantages",defaultMessage:"Yubikeys offer better two-factor protection than Google Authenticator with several advanced capabilities.",description:"Text describing Yubikeys advantages over other products"})),Di=r.createElement("a",{href:"https://www.yubico.com/store/"},"Yubico"),Bi=r.createElement("h5",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.header.activateYubikey",defaultMessage:"Activating Your Yubikey",description:"Header text for instructions on how to active Yubikey"})),_i=r.createElement("ol",null,r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.li.insertYubikey",defaultMessage:"Insert your Yubikey.",description:"Text telling user to insert Yubikey into computer"})),r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.li.waitYubikey",defaultMessage:"Wait for the steady light.",description:"Text telling user to wait for ready light on Yubikey"})),r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.li.touchYubikey",defaultMessage:"Press your finger on the lighted touchpad.",description:"Text instructing user to put finger on Yubikey"}))),Ri=r.createElement("br",null),ji=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={enablingTFAType:null,TFAToken:null},r.on2FAChange=function(e){if(e.target instanceof window.HTMLSelectElement){var t=e.target.value;t&&(r.setState({enablingTFAType:t}),"GA"===t&&r.props.requestTFAToken({TFAType:t}))}},r.onTFASubmit=function(e){e.preventDefault(),e.stopPropagation();var t=r.refs.token.value;if("string"!=typeof r.state.enablingTFAType)throw new Error("Invalid TFA Type.");r.props.confirmTFAToken({TFAToken:t,TFAType:r.state.enablingTFAType})},r.onYubikeyKeyDown=function(e){if(13===e.keyCode)return r.onTFASubmit(e)},a=n,l()(r,a)}return u()(t,e),t.prototype.componentDidUpdate=function(e,t){t.enablingTFAType!==this.state.enablingTFAType&&this.refs.token&&this.refs.token.focus()},t.prototype.render=function(){var e=this.context.intl.formatMessage;return r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-xs-12 col-md-8"},r.createElement("select",{defaultValue:"",className:"form-control",id:"tfa",onChange:this.on2FAChange},r.createElement("option",{value:""},e(Ni.chooseTwoFactorType)),Pi,L.a.map(Ci,function(e,t){return r.createElement("option",{key:t,value:t},e)}))),this.state.enablingTFAType?r.createElement("div",{className:"col-xs-12 col-md-8 enableTFA TFA-"+this.state.enablingTFAType+" well"},"GA"===this.state.enablingTFAType?r.createElement("div",null,r.createElement("div",null,Oi,r.createElement("h3",null,this.props.me.OTPSecret)),Fi,r.createElement("p",null,this.props.me.OTPSecret?r.createElement("img",{className:"qr",src:Fe.a+"/googleAuthenticator/qr.png?q="+Date.now()}):null),r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.paragraph.verifyPassword",defaultMessage:"To verify, please enter your one-time password from {googleAuth} or {authy}.",description:"Text instructing user to go to authentication service to verify password",values:{googleAuth:Ii,authy:Li}})),r.createElement("div",{className:"form-inline"},r.createElement("input",{id:"TFAToken",type:"text",className:"form-control",name:"TFAToken",ref:"token",autoComplete:"off"}),r.createElement("button",{id:"tfaCodeSubmit",type:"submit",className:"btn btn-primary",onClick:this.onTFASubmit},H.a.Submit))):"Yubikey"===this.state.enablingTFAType?r.createElement("div",null,Ai,r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"tfaEnabler.paragraph.getYubikey",defaultMessage:"Need a Yubikey? Go to {url} to buy one.",description:"Text instructing user on how to obtain a Yubikey",values:{url:Di}})),Bi,_i,r.createElement("input",{id:"TFAToken",type:"text",className:"form-control",name:"TFAToken",ref:"token",autoComplete:"off",onKeyDown:this.onYubikeyKeyDown})):null,Ri,r.createElement(A.FormattedMessage,{id:"tfaEnabler.paragraph.loggedOut",defaultMessage:"Upon enabling your {tfaType}, you will be logged out.",description:"Text telling user about forced logout after enabling type",values:{tfaType:Ci[this.state.enablingTFAType]}})):null)},t}(d.a);ji.displayName="TFAEnabler";var Ui={GA:"Google Authenticator",Yubikey:"Yubikey"},Hi=r.createElement("br",null),qi=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={TFAToken:null},r.onTFASubmit=function(e){e.preventDefault(),e.stopPropagation();var t=r.refs.token.value;r.props.disableTFA({TFAType:r.props.me.TFAEnabled,TFAToken:t})},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){var e=this.props.me.TFAEnabled,t=r.createElement("span",null,r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"tfaDisabler.paragraph.tfaTypeEnabled",defaultMessage:"Two-Factor Authentication via {tfaType} is enabled.{br}To disable, please enter a token.",description:"Text telling user which Two-Factor Authenticator is being used",values:{tfaType:Ui[this.props.me.TFAEnabled],br:Hi}})),r.createElement("div",{className:"form-inline"},r.createElement("input",{ref:"token",id:"TFAToken",type:"text",className:"form-control",name:"TFAToken",autoComplete:"off"}),r.createElement("button",{id:"TFATokenSubmit",type:"submit",className:"btn btn-primary",onClick:this.onTFASubmit},H.a.Submit)));return r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-xs-12 col-md-8 disableTFA well TFA-"+e},t))},t}(d.a);function Wi(){var e=R.a+"/assets/img/bitmex-logo-square.png";return r.createElement("img",{src:e})}qi.displayName="TFADisabler",Wi.propTypes={email:F.a.string.isRequired};var Vi=r.createElement("br",null);function zi(e){var t=e.me;return r.createElement("form",{className:"form-horizontal label-left accountHeader"},r.createElement("div",{className:"header"},r.createElement("div",{className:"control-label img-wrapper"},r.createElement(Wi,{email:t.email})),r.createElement("div",{className:"controls"},r.createElement("h3",{className:"no-margin"},t.username),r.createElement("address",null,r.createElement("strong",null,e.me.fullName),Vi,t.email))))}zi.propTypes={me:F.a.object.isRequired};var Ki=n(252),Qi=n.n(Ki),Gi=Object(A.defineMessages)({chooseCountry:{id:"account.option.country",defaultMessage:"Click to choose a Country",description:"Text for Country input selector"}}),Xi=r.createElement(A.FormattedMessage,{id:"account.headers.account",defaultMessage:"Account",description:"Header for account page"}),Yi=r.createElement("legend",{className:"section"},r.createElement(A.FormattedMessage,{id:"account.headers.personalInfo",defaultMessage:"Personal Info",description:"Header for personal information section of account page"})),Ji=r.createElement("label",{className:"control-label",htmlFor:"first-name"},r.createElement(A.FormattedMessage,{id:"account.fields.firstName",defaultMessage:"First Name",description:"Label for first name input"})),Zi=r.createElement("label",{className:"control-label",htmlFor:"last-name"},r.createElement(A.FormattedMessage,{id:"account.fields.lastName",defaultMessage:"Last Name",description:"Label for last name input"})),$i=r.createElement("legend",{className:"section"},r.createElement(A.FormattedMessage,{id:"account.headers.contactInfo",defaultMessage:"Contact Info",description:"Header for contact information section on account page"})),eo=r.createElement("label",{id:"email-label",htmlFor:"email",className:"control-label"},r.createElement(A.FormattedMessage,{id:"account.fields.email",defaultMessage:"Email",description:"Label for email input"})),to=r.createElement("label",{id:"country-label",htmlFor:"country",className:"control-label"},r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"account.tooltips.country",defaultMessage:"Certain jurisdictions restrict the trading of crypto products. For this reason, we require verification of your country of residence before depositing.\n\nIf this setting is incorrect, please contact us at support@bitmex.com.",description:"Explanation of country verification requirement"}),disableOnTouch:!1},r.createElement(A.FormattedMessage,{id:"account.fields.country",defaultMessage:"Country of Residence",description:"Label for Country of Residence input"}))),no=r.createElement("option",{disabled:!0},"-------------------------"),ro=r.createElement("legend",{className:"section"},r.createElement(A.FormattedMessage,{id:"account.headers.security",defaultMessage:"Security",description:"Header for security section"})),ao=r.createElement(A.FormattedMessage,{id:"account.labels.disableTwoFactorAuth",defaultMessage:"Disable Two-Factor Auth",description:"Label for disable two-factor authentication input"}),io=r.createElement(A.FormattedMessage,{id:"account.labels.enableTwoFactorAuth",defaultMessage:"Enable Two-Factor Auth",description:"Label for enable two-factor authentication input"}),oo=r.createElement("label",{id:"strictIPCheck-label",htmlFor:"strictIPCheck",className:"control-label"},r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"account.tooltips.strictIPCheck",defaultMessage:"This checkbox enables strict IP pinning. When active, any attempt to use a session from an IP that is not yours will result in forced logout. Enable this for extra account security. Disable this if you are on a connection that changes IPs frequently (like a mobile connection) and you are being logged out unexpectedly.",description:"Explanation of strict IP check security option"}),disableOnTouch:!0},r.createElement(A.FormattedMessage,{id:"account.fields.strictIPCheck",defaultMessage:"Strict IP Pinning",description:"Label for strict ip pinning input"}))),so=r.createElement("label",{id:"strictTimeout-label",htmlFor:"strictTimeout",className:"control-label"},r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"account.tooltips.strictTimeout",defaultMessage:"By default, BitMEX sessions expire five minutes after the browser tab closes. For some users on unstable connections, this may cause problems. Clearing this checkbox will pin all sessions to the maximum length of 30 days, and will not do activity checks.\n\nWe strongly recommend you do not clear this checkbox, as this may open up a vector for a malicious person to access your account if you leave your computer unattended.",description:"Explanation of strict timeout security option"}),disableOnTouch:!0},r.createElement(A.FormattedMessage,{id:"account.fields.strictTimeout",defaultMessage:"Safe Session Duration",description:"Label for strict timeout security option"}))),lo=r.createElement("p",{className:"help-block"},r.createElement(A.FormattedMessage,{id:"account.help.strictTimeout",defaultMessage:"For your protection, toggling this option will log you out on all devices. Your next session will have this setting applied.",description:"Description of what happens after toggling strictTimeout."})),co=r.createElement("label",{id:"pgpPubKey-label",htmlFor:"pgpPubKey",className:"control-label"},r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"account.tooltips.pgpKey",defaultMessage:"If you like, all BitMEX emails can be sent to you encrypted with your PGP public key.",description:"Explanation of pgp key security option"}),disableOnTouch:!0},r.createElement(A.FormattedMessage,{id:"account.fields.pgpKey",defaultMessage:"PGP Key (optional)",description:"Label for PGP key input"}))),uo=r.createElement("legend",{className:"section"},r.createElement(A.FormattedMessage,{id:"account.headers.changePassword",defaultMessage:"Change Password",description:"Header for Change Password section of account page"})),po=r.createElement("label",{id:"oldPassword-label",htmlFor:"oldPassword",className:"control-label"},r.createElement(A.FormattedMessage,{id:"account.fields.oldPassword",defaultMessage:"Old Password",description:"Label for old password input"})),mo=r.createElement("label",{id:"newPassword-label",htmlFor:"newPassword",className:"control-label"},r.createElement(A.FormattedMessage,{id:"account.fields.newPassword",defaultMessage:"New Password",description:"Label for new password input"})),fo=r.createElement("label",{id:"newPasswordConfirm-label",htmlFor:"newPasswordConfirm",className:"control-label"},r.createElement(A.FormattedMessage,{id:"account.fields.confirmNewPassword",defaultMessage:"Confirm New Password",description:"Label for confirm new password input"})),ho=r.createElement(A.FormattedMessage,{id:"account.buttons.validateAndSubmit",defaultMessage:"Validate & Submit",description:"Button for savings changes to account"}),go=function(e){function t(){var n,r,a,i,s=this;o()(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return n=r=l()(this,e.call.apply(e,[this].concat(u))),r.state=r.generateState(),r.onSubmit=(i=Object(Ce.coroutine)(Te.a.mark(function e(t){var n;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=["firstname","lastname","email","country","phone","oldPassword","newPassword","newPasswordConfirm","accountType","pgpPubKey"],e.prev=2,r.setState({submitDisabled:!0}),e.next=6,Ne.a.fromNode(function(e){r.props.actions.updateMe({attrs:L.a.pick(r.state.userData,n),callback:e})});case 6:P()(r.state.prefData).length&&r.props.actions.setOptionSynchronous(r.state.prefData),r.setState({submitDisabled:!1,errorMessage:null}),r.props.actions.navigate("/trade/"+r.props.selectedSymbol),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),r.setState({submitDisabled:!1,errorMessage:e.t0.message});case 14:case"end":return e.stop()}},e,s,[[2,11]])})),function(e){return i.apply(this,arguments)}),r.linkUserState=function(e){return{value:r.state.userData[e],onChange:function(t){var n;return r.setState({userData:b()({},r.state.userData,(n={},n[e]=t.target.value,n))})}}},r.toggleCheckbox=function(e,t){if(!(t.target instanceof window.HTMLInputElement))throw new Error("Unknown input: "+t.target.toString());var n;r.props.me.preferences[e]!==t.target.checked?r.setState({prefData:b()({},r.state.prefData,(n={},n[e]=t.target.checked,n))}):r.setState({prefData:L.a.omit(r.state.prefData,e)})},a=n,l()(r,a)}return u()(t,e),t.prototype.generateState=function(){return{errorMessage:"",prefData:{},submitDisabled:!1,userData:b()({oldPassword:"",newPassword:"",newPasswordConfirm:""},this.props.me.toJSON())}},t.prototype.render=function(){var e=this.context,t=this.state,n=this.props,a=e.intl.formatMessage,i=t.userData,o="boolean"==typeof t.prefData.strictTimeout;return r.createElement(E.a,{title:Xi,className:"accountPage"},r.createElement(zi,{me:n.me}),r.createElement("form",{className:"form-horizontal label-left",onSubmit:this.onSubmit},r.createElement("fieldset",null,Yi,r.createElement("div",{className:"control-group"},Ji,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("input",b()({type:"text",id:"first-name",name:"first-name",className:"form-control"},this.linkUserState("firstname")))))),r.createElement("div",{className:"control-group"},Zi,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("input",b()({type:"text",id:"last-name",name:"last-name",className:"form-control"},this.linkUserState("lastname"))))))),r.createElement("fieldset",null,$i,r.createElement("div",{className:"control-group"},eo,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("input",{id:"email",type:"email",className:"form-control",name:"email",disabled:!0,value:n.me.email})))),r.createElement("div",{className:"control-group"},to,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("select",b()({id:"country",name:"country",className:"form-control"},this.linkUserState("country"),{disabled:Boolean(n.me.country)}),r.createElement("option",{value:""},a(Gi.chooseCountry)),no,L.a.map(Qi.a.countries,function(e,t){return r.createElement("option",{value:t,key:e},e+" ("+t+")")})))))),r.createElement("fieldset",null,ro,r.createElement("div",{className:"control-group"},r.createElement("label",{id:"tfa-label",htmlFor:"tfa",className:"control-label"},n.me.TFAEnabled?ao:io),n.me.TFAEnabled?r.createElement(qi,{me:n.me,disableTFA:n.actions.disableTFA}):r.createElement(ji,{me:n.me,requestTFAToken:n.actions.requestTFAToken,confirmTFAToken:n.actions.confirmTFAToken})),r.createElement("div",{className:"control-group"},oo,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("input",{id:"strictIPCheck",type:"checkbox",className:"form-control",name:"strictIPCheck",defaultChecked:Boolean(n.me.preferences.strictIPCheck),onChange:this.bindCallback(this.toggleCheckbox,"strictIPCheck")})))),r.createElement("div",{className:"control-group"},so,r.createElement("div",{className:"controls form-group "+(o?"has-warning":"")},r.createElement("div",{className:"col-md-8"},r.createElement("input",{id:"strictTimeout",type:"checkbox",className:"form-control",name:"strictTimeout",defaultChecked:Boolean(n.me.preferences.strictTimeout),onChange:this.bindCallback(this.toggleCheckbox,"strictTimeout")}),o?lo:null))),r.createElement("div",{className:"control-group"},co,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("textarea",b()({id:"pgpPubKey",className:"form-control",name:"pgpPubKey"},this.linkUserState("pgpPubKey"))))))),r.createElement("fieldset",null,uo,r.createElement("div",{className:"control-group"},po,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("input",b()({id:"oldPassword",type:"password",required:Boolean(i.newPassword||i.newPasswordConfirm),className:"form-control",name:"oldPassword"},this.linkUserState("oldPassword")))))),r.createElement("div",{className:"control-group"},mo,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("input",b()({id:"newPassword",type:"password",required:Boolean(i.oldPassword||i.newPasswordConfirm),className:"form-control",name:"newPassword"},this.linkUserState("newPassword")))))),r.createElement("div",{className:"control-group"},fo,r.createElement("div",{className:"controls form-group"},r.createElement("div",{className:"col-md-8"},r.createElement("input",b()({id:"newPasswordConfirm",type:"password",required:Boolean(i.oldPassword||i.newPassword),className:"form-control",name:"newPasswordConfirm"},this.linkUserState("newPasswordConfirm"))))))),t.errorMessage?r.createElement("div",{className:"alert alert-danger"},t.errorMessage):null,r.createElement("div",{className:"form-actions"},r.createElement("button",{type:"submit",className:"btn btn-primary",disabled:t.submitDisabled},ho),r.createElement("a",{type:"button",className:"btn btn-default",href:R.b,disabled:t.submitDisabled},H.a.Cancel))))},t}(d.a);go.displayName="Account";var yo=Object(p.a)(function(e){return{actions:e.actions,margin:e.margin,selectedSymbol:e.selectedSymbol,me:e.me}})(go),bo=n(241),vo=n(242),Eo=n(57),wo=n(139),Mo=(vt()("frontend:OpenOrderPanel"),r.createElement(A.FormattedMessage,{id:"preferences.title.preferences",defaultMessage:"Preferences",description:"Page title for preferences page"})),So=r.createElement("div",{className:"alert alert-info v-offset-xs-1"},r.createElement(A.FormattedMessage,{id:"preferences.info.changeTimeframe",defaultMessage:"Changes take place instantly.",description:"Text notifying user of when changes take effect"})),xo=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.clearLocalStorage=function(e){r.props.actions.clearLocalStorage(),r.forceUpdate()},r.clearChartLocalStorage=function(e){r.props.actions.clearLocalStorage({prefix:"tradingview"}),r.forceUpdate()},r.clearUrgentNotifications=function(e){r.props.actions.clearUrgentAnnouncementPreferences()},r.savePreferences=function(e){var t=e.changedKey,n=e.value[t];r.props.actions.setOption(function(e,t){var n;if(L.a.includes(e,"-")){var r,a=e.split("-"),i=a[0],o=a[1],s=Ho(e,t)?"":"!";return(r={})[i]=[s+o],r}return(n={})[e]=Ho(e,t),n}(t,n))},a=n,l()(r,a)}return u()(t,e),t.prototype.componentWillMount=function(){var e,t,n,a,i,o,s,l;this.fieldsets=(e=this,t=[{label:In.b.Currency,key:"currency",render:function(){return Co}},{label:In.b.Theme,key:"colorTheme",render:function(){return No}},{label:In.b["Show Connection Modal"],key:"hideConnectionModal",helpText:In.a.hideConnectionModal,props:{type:"checkbox"}},{label:In.b.animationsEnabled,key:"animationsEnabled",helpText:In.a.animationsEnabled,props:{type:"checkbox"}},{label:In.b.showLocaleNumbers,key:"showLocaleNumbers",helpText:In.a.showLocaleNumbers,props:{type:"checkbox"}}],n=To("disableEmails",[["depositPending",In.b["Deposit Pending"],null],["depositConfirmed",In.b["Deposit Confirmed"],null],["login",H.a.Login,null],["liquidation",In.b["Liquidation or Margin call"],null],["deleverage",In.b.Deleverage,null],["withdrawalCompleted",In.b["Withdrawal Completed"],null]]),a=To("sounds",[["chatMention",In.b["Chat Mention"],null],["orderSubmitted",In.b["Order Submitted"],null],["orderCanceled",In.b["Order Canceled"],null],["orderFilled",In.b["Order Filled"],null],["stopTriggered",In.b["Stop Triggered"],null]]),i=To("hideNotifications",[["chatMention",In.b["Chat Mention"],null],["orderSubmitted",In.b["Order Submitted"],null],["orderCanceled",In.b["Order Canceled"],null],["orderPartiallyFilled",In.b["Order Partially Filled"],null],["orderFilled",In.b["Order Filled"],null],["orderAmended",In.b["Order Amended"],null],["stopTriggered",In.b["Stop Triggered"],null],["liquidation",In.b.Liquidation,null],["deleverage",In.b.Deleverage,null],["deposit",In.b.Deposit,null],["withdrawal",In.b["Withdrawal Sent"],null]]),o=To("hideConfirmDialogs",[["confirmLimit",In.b["Limit Order"],null],["confirmMarket",In.b["Market Order"],null],["confirmStopLimit",In.b["Stop Limit Order"],null],["confirmStopMarket",In.b["Stop Market Order"],null],["confirmLimitClose",In.b["Limit Close Position"],null],["amendWouldMatch",In.b["Amending Price Would Match"],null],["amendWouldTrigger",In.b["Amending Stop Price Would Trigger"],null],["fatFingerProtection",In.b["Fat Finger Protection"],In.a.fatFingerProtection],["hidePhoneConfirm",In.b["Always Show On Mobile"],In.a.alwaysConfirm]]),s=[ko("hideFromLeaderboard",In.b["Show in Leaderboard"],In.a.joinLeaderboard),ko("hideNameFromLeaderboard",In.b["Show Real Username"],In.a.showUsername)],l=[{label:function(){var e=Eo.a.getKeys();return r.createElement(A.FormattedMessage,{id:"preferences.label.browserStorage",defaultMessage:"Browser Storage ({keyCount, number} keys)",description:"Label text for the number of keys in browser storage",values:{keyCount:e.length}})},key:"clearLocalStorage",render:function(){return r.createElement("div",{className:"btn btn-primary btn-segmented",onClick:e.clearLocalStorage},Po,H.a.Clear)}},{label:function(){var e=Eo.a.getKeys().filter(function(e){return 0===e.indexOf("tradingview")});return r.createElement(A.FormattedMessage,{id:"preferences.label.chartStorage",defaultMessage:"Chart Storage ({keyCount, number} keys)",description:"Label text for the number of keys in chart storage",values:{keyCount:e.length}})},key:"clearChartLocalStorage",render:function(){return r.createElement("div",{className:"btn btn-primary btn-segmented",onClick:e.clearChartLocalStorage},Oo,H.a.Clear)}},{label:function(){return Fo},key:"clearUrgentNotifications",render:function(){return r.createElement("div",{className:"btn btn-primary btn-segmented",onClick:e.clearUrgentNotifications},Io,H.a.Clear)}},{label:function(){return Lo},key:"logoutAll",render:function(){return r.createElement(wo.a,{logoutAll:!0},r.createElement("span",{className:"btn btn-danger btn-segmented","data-close":"true"},Ao,H.a["Log Out"]))}}],[{legend:In.b.General,fields:t},{legend:In.b["Email Notifications"],helpText:Do,fields:n},{legend:In.b["Site Notifications"],helpText:Bo,fields:i},{legend:In.b.Sounds,helpText:_o,fields:a},{legend:In.b["Confirmation Dialogs"],helpText:Ro,fields:o},{legend:In.b.Leaderboard,helpText:jo,fields:s},{legend:In.b.Debug,helpText:Uo,fields:l}])},t.prototype.render=function(){var e,t,n,a=(e=this.props.options,t=this.fieldsets,n=Array.prototype.concat.apply([],L.a.map(t,"fields")),L.a.reduce(n,function(t,n){var r=n.key,a=L.a.includes(r,"-");if(a){var i=r.split("-"),o=i[0],s=i[1],l=L.a.includes(e[o],s);t[r]=Ho(o,l)}else{var c=e[r];t[r]=c&&"boolean"!=typeof c?c:Ho(r,e[r])}return t},{}));return r.createElement(E.a,{title:Mo,className:"preferencesPage"},r.createElement(zi,{me:this.props.me}),r.createElement(ba,{fieldsets:this.fieldsets,initialState:a,onChange:this.savePreferences,showSubmit:!1,className:"form-compressed form-striped"}),So)},t}(d.a);function ko(e,t,n){return{label:t,key:e,helpText:n,props:{type:"checkbox"}}}function To(e,t){return L.a.map(t,function(t){var n=t[0],r=t[1],a=t[2];return ko(e+"-"+n,r,a)})}xo.displayName="Preferences";var Co=r.createElement(bo.a,null),No=r.createElement(vo.a,null),Po=r.createElement("i",{className:"fa fa-minus-circle fa-fw icon"}),Oo=r.createElement("i",{className:"fa fa-minus-circle fa-fw icon"}),Fo=r.createElement(A.FormattedMessage,{id:"preferences.label.announcementPrefs",defaultMessage:"Announcement Preferences",description:"Label text for announcement preferences"}),Io=r.createElement("i",{className:"fa fa-minus-circle fa-fw icon"}),Lo=r.createElement(A.FormattedMessage,{id:"preferences.label.logoutAll",defaultMessage:"Logout All Sessions",description:"Label text for logout all"}),Ao=r.createElement("i",{className:"fa fa-sign-out fa-fw icon"}),Do=r.createElement(A.FormattedMessage,{id:"preferences.help.emailNotifications",defaultMessage:"BitMEX will send emails on certain events. You may disable these emails below.",description:"Help text for email notifications preferences"}),Bo=r.createElement(A.FormattedMessage,{id:"preferences.help.siteNotifications",defaultMessage:"The BitMEX UI will notify you on the following events. If supported, BitMEX will use your native Browser/Operating System notifications. You can disable that and use in-page notifications by clicking the lock icon in the URL bar and disabling notifications. You may also disable individual notifications below.",description:"Help text for site notifications preferences"}),_o=r.createElement(A.FormattedMessage,{id:"preferences.help.sounds",defaultMessage:"BitMEX can play short, unobtrusive sounds for the following events. This is useful for keeping track of your trades even while the website is not focused.",description:"Help text for sound preferences"}),Ro=r.createElement(A.FormattedMessage,{id:"preferences.help.confirmationDialogs",defaultMessage:"Certain actions on BitMEX require confirmation before execution. We highly recommend you keep these settings on, but more experienced traders may wish to turn them off.",description:"Help text for confirmation dialog preferences"}),jo=r.createElement(A.FormattedMessage,{id:"preferences.help.leaderboard",defaultMessage:"By default, we show your account in the leaderboard, but the name is not identifiable.\nChanges here may take up to a half hour to take effect.",description:"Help text for leaderboard preferences"}),Uo=r.createElement(A.FormattedMessage,{id:"preferences.help.debug",defaultMessage:"These actions may help you debug problems with BitMEX, or may have been pointed out to you by Support.",description:"Help text for debug preferences"});function Ho(e,t){return("disable"!==e.slice(0,7)&&"hide"!==e.slice(0,4))===t}var qo=Object(p.a)(function(e){return{actions:e.actions,me:e.me,options:e.options}})(xo),Wo=["transactTime","symbol","side","orderQty","price","cumQty","leavesQty","stopPx","avgPx","grossValue","ordTypeReadable","ordStatus","text","clOrdID","orderID"],Vo={ordTypeReadable:"ordType"},zo=["transactTime","grossValue","orderID"],Ko=r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Header"))),r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,"Value")))),Qo=r.createElement("div",null,r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"orderHistory.paragraph.feesIncluded",defaultMessage:"This list contains all of your order placements.",description:"Text explaining order history"})),r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"orderHistory.paragraph.filterInstructions",defaultMessage:"Filter by clicking a property value. You can manually modify queries in the text box below.",description:"Text describing filter functionality"}))),Go=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.state={activeID:null},a.cellFormatter=function(e,t,n){var i=e;return"symbol"===t?i=r.createElement(St.a,{value:e,title:e},e):"orderID"===t?i=r.createElement(St.a,{value:e,onClick:function(){return a.onOrderExpand(n)},title:e},e.slice(0,7)):"text"===t?i=r.createElement("span",{title:e},e):"transactTime"===t&&(i=r.createElement("span",{onClick:function(){return a.onOrderExpand(n)}},i)),L.a.includes(zo,t)?i:r.createElement("span",{className:"filterLink linkify",onClick:function(n){return a.onFilterClick(n,t,e)}},i)},a.fetch=function(e){var t={filter:e,start:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0};a.props.fetch(t)},a.getRowClass=function(e){return"Sell"===e.side?"short terminated":"long terminated"},a.onFilterClick=function(e,t,n){Object(Qn.b)(e.target,function(e){return"A"===e.nodeName})||(Vo[t]&&(t=Vo[t]),a.filterBy(t,n))},a.onOrderExpand=function(e){},a.rowInterceptor=function(e,t,n,i){return t.orderID===a.state.activeID?[e,r.createElement("tr",{key:"1"},r.createElement("td",{colSpan:Wo.length},Ko))]:e},i=n,l()(a,i)}return u()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.orderHistory,a=t.pageProps,i=t.username,o=t.useInternalParams;return r.createElement(E.a,b()({title:r.createElement(A.FormattedMessage,{id:"orderHistory.title.orderHistory",defaultMessage:"Order History: {username}",description:"Page title for order history page",values:{username:i}}),className:"orderHistory historyPage"},a),Qo,r.createElement(oi.a,{csvFileName:"Order History",data:n,fetch:this.fetch,filterByThunk:function(t){e.filterBy=t},start:this.props.start,showFilterForm:!0,useInternalParams:o,tableProps:{cellFormatter:this.cellFormatter,className:"openOrderTable",columns:Wo,depData:this.state.activeID,getRowClass:this.getRowClass,rowInterceptor:this.rowInterceptor,tableName:"order"}}))},t}(d.a);Go.displayName="OrderHistory",Go.defaultProps={pageProps:{},start:0,useInternalParams:!1};var Xo=Object(p.a)(function(e,t){return{fetch:e.actions.fetchOrderHistory,instruments:e.instruments,options:e.options,start:t&&t._query&&parseInt(t._query.start,10)||0,orderHistory:e.orderHistory,username:e.me.username}})(Go),Yo=["transactTime","symbol","execType","side","lastQty","lastPx","execCost","commission","execComm","ordType","orderQty","leavesQty","price","text","orderID"],Jo=["execCost","execComm","transactTime","commission"],Zo={Deleverage:"autoDeleveraging",Funding:"swapsGuide#Funding",Liquidation:"liquidation",Settlement:"exchangeGuide#Funding-and-Settlement"},$o=r.createElement(A.FormattedMessage,{id:"tradeHistory.table.moreInfo",defaultMessage:"Click for more information.",description:"Indication that this trade type has more info"}),es=r.createElement("div",null,r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"tradeHistory.paragraph.feesIncluded",defaultMessage:"This list contains all of your trades and fee payments.",description:"Text notifying user that fees are included"})),r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"tradeHistory.paragraph.filterInstructions",defaultMessage:"Filter by clicking a property value. You can manually modify queries in the text box below.",description:"Text describing filter functionality"}))),ts=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.cellFormatter=function(e,t,n){var i=e;if("orderID"===t||"symbol"===t)if("orderID"===t&&"000000"===e.slice(0,6))i=null;else{var o=e;"orderID"===t&&(o=o.slice(0,7)),i=r.createElement(St.a,{value:e,title:e},o)}else if("execComm"===t||"commission"===t){var s=parseFloat(n.commission)<0?"pos":"";i=r.createElement("span",{className:s},e)}else if("text"===t)i=Zo[e]?r.createElement("span",{title:e},i,r.createElement(Or.a,{href:R.b+Zo[e],text:$o})):r.createElement("span",{title:e},e);else if(("price"===t||"lastPx"===t)&&"Liquidation"===n.text){var l=a.props.instruments.get(n.symbol);if(l){var c="Buy"===n.side?1:-1,u=Number(U.t(Number(e)/(1+(l.maintMargin+parseFloat(n.commission)/100)*c),l.tickSize));return r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"tradeHistory.table.liqPrice",description:"Explanation of liquidation/bankruptcy price",defaultMessage:"When your {qty} contract {symbol} position was taken over by the liquidation engine, the entire position is lost. Therefore, for accounting purposes, the execution prints at the bankruptcy price of {bankruptcyPrice}.\n\nThe liquidation price on this position was {liqPrice}. More details were emailed to you at that time.",values:{bankruptcyPrice:e,liqPrice:u,symbol:l.symbol,qty:n.lastQty}})},u)}}if(L.a.includes(Jo,t))return i;var d=a.bindCallback(a.onFilterClick,[t,e]);return r.createElement("span",{className:"filterLink linkify",onClick:d},i)},a.fetch=function(e,t){var n={filter:e,columns:Yo,start:t};a.props.fetch(n)},a.getRowClass=function(e){var t=0;if(e.side)t="Sell"===e.side?-1:1;else{var n=a.props.instruments.get(e.symbol);t=(n&&n.isInverse?-1:1)*parseFloat(e.execCost)}return t<0?"short terminated":"long terminated"},a.onFilterClick=function(e,t){var n=e[0],r=e[1];Object(Qn.b)(t.target,function(e){return"A"===e.nodeName})||a.filterBy(n,r)},i=n,l()(a,i)}return u()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.executionHistory,a=t.pageProps,i=t.username,o=t.useInternalParams;return r.createElement(E.a,b()({title:r.createElement(A.FormattedMessage,{id:"tradeHistory.title.tradeHistory",defaultMessage:"Trade History: {username}",description:"Page title for trade history page",values:{username:i}}),className:"tradeHistory historyPage"},a),es,r.createElement(oi.a,{csvFileName:"Trade History",data:n,fetch:this.fetch,filterByThunk:function(t){e.filterBy=t},start:this.props.start,showFilterForm:!0,useInternalParams:o,tableProps:{cellFormatter:this.cellFormatter,columns:Yo,getRowClass:this.getRowClass,tableName:"execution"}}))},t}(d.a);ts.displayName="TradeHistory",ts.defaultProps={pageProps:{},start:0,useInternalParams:!1};var ns=Object(p.a)(function(e,t){return{fetch:e.actions.fetchExecutionHistory,instruments:e.instruments,options:e.options,start:t&&t._query&&parseInt(t._query.start,10)||0,executionHistory:e.executionHistory,username:e.me.username}})(ts),rs=["rank","name","profit","isRealName"],as=r.createElement(A.FormattedMessage,{id:"leaderboard.title",defaultMessage:"Leaderboard",description:"Page title text for leaderboard"}),is=r.createElement("div",null,r.createElement(A.FormattedMessage,{id:"leaderboard.table.description",defaultMessage:"The following shows some of the most profitable traders on BitMEX.",description:"Text describing the leaderboard table and what it represents"})),os=r.createElement("div",null,r.createElement(A.FormattedMessage,{id:"leaderboard.table.anonymous",defaultMessage:"These lists are anonymous. Each name always represents the same user, but is not personally identifiable.",description:"Text describing anonymity of the leaderboard"})),ss=r.createElement("a",{href:R.b+"preferences"},r.createElement(A.FormattedMessage,{id:"leaderboard.link.preferences",defaultMessage:"Preferences Page",description:"Url text for link to user's preferences page"})),ls=r.createElement("div",{className:"v-offset-xs-3"}),cs=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state={leadersNotional:[],leadersROE:[],error:null,myName:null},r.individualCellFormattersNotional={isRealName:{fn:us},profit:{fn:function(e){return r.formatMoney(e)}}},r.individualCellFormattersROE={isRealName:{fn:us},profit:{fn:function(e){return(100*e).toFixed(2)+"%"}}},r.getRowClass=function(e){return e.name===r.state.myName?"highlight":""},a=n,l()(r,a)}return u()(t,e),t.prototype.componentDidMount=function(){this.requestLeaderboard("notional"),this.requestLeaderboard("ROE"),this.requestMyName()},t.prototype.formatMoney=function(e){return U.g(e,this.context.activeCurrency)},t.prototype.requestLeaderboard=function(){var e=Object(Ce.coroutine)(Te.a.mark(function e(t){var n,r;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Fe.c)({endpoint:"/leaderboard",qs:{method:t}});case 3:r=e.sent,r=L.a.map(r,function(e,t){return e.rank=t+1,e}),this.setState(((n={})["leaders"+L.a.upperFirst(t)]=r,n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),this.setState({error:"Error loading leaders."});case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),t.prototype.requestMyName=function(){var e=Object(Ce.coroutine)(Te.a.mark(function e(){var t,n;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Fe.c)({endpoint:"/leaderboard/name"});case 3:t=e.sent,"string"==typeof(n=t.name)&&this.setState({myName:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({myName:null});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),t.prototype.table=function(e,t){return r.createElement("span",null,r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"leaderboard.table.title",defaultMessage:"Top {count} Traders by {method}",description:"Title text for the leaderboard table",values:{count:e.length||"",method:"Notional"===t?H.a.Notional:H.a[t]||H.a.Rank}})),r.createElement(Pe.a,{data:e,loading:!e.length,cellFormatters:this["individualCellFormatters"+L.a.upperFirst(t)],tableName:"leaderboard",columns:rs,getRowClass:this.getRowClass,className:"inline"}))},t.prototype.render=function(){var e=this.state,t=e.error,n=e.myName;return r.createElement(E.a,{className:"leaderboard",title:as},r.createElement("div",{className:"well"},is,os,n?r.createElement(r.Fragment,null,r.createElement("div",{className:"v-offset-1"},r.createElement("b",null,r.createElement(A.FormattedMessage,{id:"leaderboard.table.myName",defaultMessage:"Your public, anonymized name is: {myName}.",description:"Text describing indicating your name on the list",values:{myName:r.createElement("code",null,n)}}))),r.createElement("div",null,r.createElement(A.FormattedMessage,{id:"leaderboard.table.options",defaultMessage:"Want to claim your position, or remove your account from this list? Go to your {preferencesLink} to toggle Leaderboard options.",description:"Instructs user how to modify leaderboard preferences",values:{preferencesLink:ss}}))):null),t||r.createElement("span",null,this.table(this.state.leadersNotional,"Notional"),ls,this.table(this.state.leadersROE,"ROE")))},t}(d.a);function us(e){var t="fa fa-fw fa-"+(e?"check":"remove");return r.createElement("i",{className:t})}cs.displayName="Leaderboard";var ds=r.createElement("div",{className:"depositAddress"},r.createElement(Oe.a,null)),ps=r.createElement("i",{className:"fa fa-btc btc-icon"}),ms=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.componentDidMount=function(){this.props.depositAddress||this.fetchAddress()},t.prototype.fetchAddress=function(){var e=this;this.props.fetchDepositAddress({callback:function(t){t&&e.props.onError(t)}})},t.prototype.render=function(){if(!this.props.depositAddress)return ds;var e="bitcoin:"+this.props.depositAddress+"?label="+encodeURIComponent("BitMEX Deposit - "+this.props.username);return r.createElement("div",{className:"depositAddress"},r.createElement("div",{className:"qrWrapper"},r.createElement("img",{className:"qr",src:Fe.a+"/deposit/qr.png"}),ps),r.createElement("div",{className:"address"},this.props.depositAddress," ",r.createElement("sup",null,r.createElement("a",{className:"fa fa-external-link",href:e}))))},t}(d.a);ms.displayName="DepositAddress",ms.defaultProps={onError:function(e){}};var fs=["https://testnet.coinfaucet.eu/en/","https://testnet.manu.backend.hamburg/faucet","http://tpfaucet.appspot.com/"],hs=r.createElement("h3",null,r.createElement(A.FormattedMessage,{id:"deposit.header.pleaseSelectCountry",defaultMessage:"Please select a country of residence before depositing.",description:"Header text for choosing users country of residence before deposit"})),gs=r.createElement("label",{id:"country-label",htmlFor:"country",className:"control-label"},r.createElement(A.FormattedMessage,{id:"deposit.label.countryOfResidence",defaultMessage:"Country of Residence",description:"Label text for the users country of residence"}),":"),ys=r.createElement("option",{value:null}),bs=r.createElement(A.FormattedMessage,{id:"deposit.title.deposit",defaultMessage:"Deposit",description:"Title text for deposit page"}),vs=r.createElement("h3",{className:"title"},r.createElement(A.FormattedMessage,{id:"deposit.header.testnetTitle",defaultMessage:"This is a Testnet Bitcoin Address!",description:"Header text for Testnet bitcoin deposit section"})),Es=r.createElement("p",null,r.createElement(A.FormattedMessage,{id:"deposit.paragraph.testnetDescription",defaultMessage:"Testnet Bitcoin is a testing version of Bitcoin that has no monetary value. It is freely distributed from a number of faucets around the Internet. You can deposit and trade on your BitMEX Testnet account using these coins with no risk of actual monetary profit or loss.",description:"Paragraph text describing Testnet"})),ws=r.createElement("h4",null,r.createElement(A.FormattedMessage,{id:"deposit.header.faucetLinks",defaultMessage:"Testnet Bitcoin is freely distributed from the following faucets:",description:"Header for faucet links section"})),Ms=r.createElement("br",null),Ss=r.createElement("span",null),xs=r.createElement("h3",{className:"title"},r.createElement(A.FormattedMessage,{id:"deposit.header.address",defaultMessage:"Your Personal Multisignature Bitcoin Deposit Address:",description:"Header text for describing bitcoin address"})),ks=r.createElement("h3",{className:"notes"},r.createElement(A.FormattedMessage,{id:"deposit.header.importantNotes",defaultMessage:"Important Notes",description:"Header text to describe important notes about deposit process"})),Ts=r.createElement("ul",{className:"notes v-offset-2"},r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"deposit.note.noOtherCoins",defaultMessage:"Do not send Litecoin or Bitcoin Cash to this address! Unfortunately, these networks will accept Bitcoin multisig addresses as valid. Any unsupported coins sent here will be lost.",description:"Text describing that other coins are not supported"})),r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"deposit.note.minimumDeposit",defaultMessage:"The minimum deposit amount is 0.0001 XBT (10000 Satoshi).",description:"Text describing the required amount of bitcoin to deposit"})),r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"deposit.note.confirmationCount",defaultMessage:"Your deposit will be credited after 1 confirmation on the Bitcoin network.",description:"Text describing amount of confirmations required before bitcoin added to account"})),r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"deposit.note.bitcoinOnly",defaultMessage:"BitMEX only accepts Bitcoin deposits. To get Bitcoin, you can exchange your local currency at any major Bitcoin exchange, such as Bitstamp, Coinbase, or OKCoin.",description:"Text describing only bitcoin is accepted and how to obtain"})),r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"deposit.note.multiSigColdWallet",defaultMessage:"All BitMEX deposit addresses are multi-signature cold wallet addresses. No wallets are ever read by an Internet-connected machine.",description:"Text describing the properties of BitMEX wallets"}))),Cs=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.state=b()({country:"",error:null,submitting:!1},r.props.initialState||{}),r.onDepositAddressError=function(e){r.setState({error:e.message})},r.submitCountry=function(e){e.preventDefault(),r.state.country&&(r.setState({submitting:!0}),r.props.actions.updateMe({attrs:{country:r.state.country},callback:function(e){r.setState({error:e?e.message:null,submitting:!1})}}))},a=n,l()(r,a)}return u()(t,e),t.prototype.countrySelectorOrError=function(){return this.state.error&&/select a country of residence/i.test(this.state.error)?r.createElement("div",{className:"countrySelector alert alert-warning"},hs,r.createElement("form",{onSubmit:this.submitCountry},r.createElement("div",{className:"control-group"},gs,r.createElement("div",{className:"controls form-group"},r.createElement("select",b()({name:"country"},this.linkState("country")),ys,L.a.map(Qi.a.countries,function(e,t){return r.createElement("option",{value:t,key:t},e+" ("+t+")")}))),this.state.submitting?r.createElement(Oe.a,{text:H.a["Verifying..."]}):null,r.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.state.submitting},H.a.Submit)))):r.createElement("div",{className:"countrySelector alert alert-danger"},this.state.error)},t.prototype.render=function(){var e=this.props,t=e.actions,n=e.depositAddress,a=e.username;return r.createElement(E.a,{className:"staticContent accountPage accountDeposit",title:bs},this.props.showTestnetNotes?r.createElement("div",{className:"testnet"},vs,Es,ws,r.createElement("ul",null,fs.map(function(e,t){return r.createElement("li",{key:t},r.createElement("a",{href:e},e))})),Ms):Ss,this.state.error?this.countrySelectorOrError():r.createElement("div",null,xs,r.createElement(ms,{depositAddress:n,fetchDepositAddress:t.fetchDepositAddress,onError:this.onDepositAddressError,username:a})),ks,Ts)},t}(d.a);Cs.displayName="Deposit",Cs.defaultProps={showTestnetNotes:!1};var Ns=Object(p.a)(function(e){return{actions:e.actions,depositAddress:e.depositAddress,username:e.me.username}})(Cs),Ps=n(202),Os=n.n(Ps),Fs=n(481),Is=["transactTime","address","amount","transactStatus"],Ls=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.cellFormatter=function(e,t,n){var a=e;if("transactTime"!==t&&(a=r.createElement("span",{className:"linkify"},a)),"address"===t){if("Transfer"===n.transactType){var i=!Os()(Number(e));a=r.createElement(Mt.a,{text:r.createElement(A.FormattedMessage,{id:"withdrawAddresses.transferNote",defaultMessage:"This transaction was an internal transfer from a BitMEX account with the {isAccountNum, select, true {identifier} other {address}} {account}.",description:"Note on internal transfers",values:{account:e,isAccountNum:i}})},a)}a=r.createElement(St.a,{value:e},a)}return"transactStatus"===t&&Object(Fs.isPendingWithdrawal)(n)&&(a=r.createElement("span",null,a,"Â ",r.createElement(Fs.WithdrawalCancel,{transactID:n.transactID}))),a},i=n,l()(a,i)}return u()(t,e),t.prototype.render=function(){return r.createElement("span",{className:"withdrawalAddresses"},r.createElement("div",{className:"well"},r.createElement(A.FormattedMessage,{id:"withdrawAddresses.summary",defaultMessage:"This is a list of your last {count} withdrawals. Click any cell to autofill.",description:"Description of how to click to autofill withdrawals.",values:{count:20}})),this.props.message?r.createElement("div",{className:"alert alert-warning"},this.props.message):null,r.createElement(Pe.a,{cellFormatter:this.cellFormatter,columns:Is,data:this.props.withdrawals.slice(0,20),onCellClick:this.props.onCellClick}))},t}(d.a);Ls.displayName="WithdrawalAddresses";var As=Object(A.defineMessages)({onSubmitComplete:{id:"withdrawal.body.submitted",defaultMessage:"Your withdrawal for {amount} to {address} is now pending. Please check your email for required confirmation. If this confirmation is not clicked within 30 minutes, the withdrawal will automatically cancel.",description:"Submission text; explains email confirmation"}}),Ds=4e-4,Bs=r.createElement(A.FormattedMessage,{id:"withdraw.error.insufficientFunds",defaultMessage:"Your chosen amount is greater than your total Withdrawable Balance.",description:"Error text for user withdrawing more funds than what are available"}),_s=r.createElement(A.FormattedMessage,{id:"withdraw.error.accessDenied",defaultMessage:"Withdrawals have been disabled on this account. Please contact support.",description:"Error message when user has been disabled from withdrawing."}),Rs=r.createElement(A.FormattedMessage,{id:"withdraw.label.destination",defaultMessage:"Destination Address",description:"Label text for the Bitcoin address to withdraw to (destination)"}),js=r.createElement(A.FormattedMessage,{id:"withdraw.help.destination",defaultMessage:"Please double-check this address.",description:"Help text emphasising importance of destination address being correct"}),Us=r.createElement(A.FormattedMessage,{id:"withdraw.label.xbtAmount",defaultMessage:"Amount (XBT)",description:"Label text for an arbitrary amount of Bitcoin"}),Hs=r.createElement("i",{className:"fa fa-arrow-left"}),qs=r.createElement(A.FormattedMessage,{id:"withdraw.span.withdrawAll",defaultMessage:"Withdraw All",description:"Button text to withdraw all of users balance"}),Ws=r.createElement(A.FormattedMessage,{id:"withdraw.label.fee",defaultMessage:"Bitcoin Network Fee (XBT)",description:"Label text for fee of trading on Bitcoin network"}),Vs=r.createElement(A.FormattedMessage,{id:"withdraw.help.congestionHigh",defaultMessage:"Blockchain congestion is high at this time.",description:"Message describing why fee is high"}),zs=r.createElement(A.FormattedMessage,{id:"withdraw.label.twoFactorToken",defaultMessage:"Two-Factor Token",description:"Label text for Two-Factor token input"}),Ks=r.createElement(A.FormattedMessage,{id:"withdraw.help.twoFactorToken",defaultMessage:"Please confirm this withdrawal with your two-factor token.",description:"Help text instructing user withdrawal requires Two-Factor code if the security option is enabled"}),Qs=r.createElement(A.FormattedMessage,{id:"withdraw.title.newWithdrawal",defaultMessage:"New Withdrawal",description:"Title text for a new withdrawal"}),Gs=r.createElement(A.FormattedMessage,{id:"withdraw.note.policy",defaultMessage:"For security reasons, BitMEX processes withdrawals with manual review once a day. For more information on this policy, please see our",description:"Note text describing BitMEX withdrawal manual review"}),Xs=r.createElement(A.FormattedMessage,{id:"withdraw.note.policy.link",defaultMessage:"Wallet Security Page",description:"URL text for wallet security page"}),Ys=r.createElement(A.FormattedMessage,{id:"withdraw.title.previousWithdrawals",defaultMessage:"Withdrawal History",description:"Title text for previous withdrawals"}),Js=r.createElement(A.FormattedMessage,{id:"withdraw.title.withdraw",defaultMessage:"Withdraw",description:"Title text for withdraw page"}),Zs=function(e){function t(){var n,a,i;o()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=a=l()(this,e.call.apply(e,[this].concat(c))),a.state=b()({amount:0,address:"",confirmMessage:"",error:"",absMinFee:Ds,recommendedMinFee:Ds,submitDisabled:!1},a.props.initialState||{}),a.mounted=!0,a.createConfirmMessage=function(e){var t=function(e){return U.g(e,a.context.activeCurrency,"XBT")},n=Math.max(e.amount,0),i=Math.max(e.fee,0);return r.createElement(A.FormattedMessage,{id:"withdraw.form.confirmation",defaultMessage:"Destination: {address}\nAmount To Send: {withdrawalAmount}\nBitcoin Network Fee: {withdrawalFee}\nTotal Debit: {withdrawalAmountWithFee}",description:"Data to be presented to user that confirms information they entered within withdraw form",values:{address:e.address||"",withdrawalAmount:t(n),withdrawalFee:t(i),withdrawalAmountWithFee:t(n+i)}})},a.onFormChange=function(e){var t=e.value,n=e.changedKey;t.amount>a.getWithdrawable()?a.setState({error:Bs,submitDisabled:!0}):a.setState({error:null,submitDisabled:!1}),"fee"===n&&a.forceUpdate()},a.onFormSubmit=function(e){var t=e.value;a.setState({submitDisabled:!0}),a.props.actions.withdrawalRequest({amount:Number(U.e(Number(t.amount),"XBt","XBT")),fee:Number(U.e(Number(t.fee),"XBt","XBT")),currency:"XBt",address:(t.address||"").trim(),otpToken:(t.otpToken||"").trim(),callback:function(e,t){if(e){var n=e.message||"Unknown Error.";403===e.code&&(n=_s),"string"==typeof n&&"."!==n[n.length-1]&&(n+="."),a.setState({submitDisabled:!1,error:n})}else{var r=a.context.intl.formatMessage(As.onSubmitComplete,{amount:U.g(Math.abs(t.amount)-t.fee,a.context.activeCurrency),address:t.address});a.form&&a.form.reset(),a.setState({confirmMessage:r,error:null,submitDisabled:!1})}}})},a.onWithdrawalCellClick=function(e,t,n,r){if(a.form)if("address"===n)a.form.setState({address:t});else if("amount"===n||"fee"===n){var i;a.form.setState(((i={})[n]=Math.abs(parseFloat(t)),i))}},a.onWithdrawAll=function(e){a.form&&a.form.setState({amount:a.getWithdrawable()})},i=n,l()(a,i)}return u()(t,e),t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.props.actions.fetchWalletHistory({});var t=this.props.currency;Fe.c({endpoint:"/user/minWithdrawalFee",qs:{currency:t}}).then(function(t){if(e.mounted){if(!("fee"in t&&"minFee"in t))throw new Error("Unexpected minWithdrawalFee response: "+ga()(t));var n=Number(U.e(Number(t.minFee),"XBT","XBt",null,!0)),r=Number(U.e(Number(t.fee),"XBT","XBt",null,!0));if(e.setState({absMinFee:n,recommendedMinFee:r}),e.form){var a=e.form.state;a.fee<r&&e.form.setState(b()({},a,{fee:r}))}return null}}).catch(function(){})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.createFieldsets=function(){var e=this,t=this.getWithdrawable(),n=this.state.absMinFee>.002,a=[{key:"address",label:Rs,helpText:js,props:{required:!0,maxLength:36,autoComplete:"off",spellCheck:!1,autoFocus:!0}},{key:"amount",label:Us,helpText:r.createElement(A.FormattedMessage,{id:"withdraw.help.maximumWithdrawable",defaultMessage:"Maximum Withdrawable: {amount} XBT{converted}",description:"Help text displaying maximum amount of Bitcoin available to withdraw",values:{amount:t.toFixed(8),converted:"XBT"!==this.context.activeCurrency?" ("+U.g(t,this.context.activeCurrency,"XBT")+")":""}}),render:function(n){return r.createElement("div",{className:"input-group number"},r.createElement("input",b()({type:"number",className:"form-control"},n("amount"),{required:!0,autoComplete:"off",min:0,max:t,step:1e-8})),r.createElement("span",{className:"input-group-addon btn btn-xs btn-info",onClick:e.onWithdrawAll},Hs,"Â ",qs))}},{key:"fee",label:Ws,helpText:r.createElement(A.FormattedMessage,{id:"withdraw.help.fee",defaultMessage:"Bitcoin transactions are prioritized on the network by fee. {congestionSpacer}{congestionMsg}\nWe recommend a minimum fee of {recFee} and require at least {minFee}.",description:"Help text explaining how Bitcoin network fee works",values:{minFee:this.state.absMinFee,recFee:this.state.recommendedMinFee,congestionMsg:n?Vs:null,congestionSpacer:n?"\n":""}}),props:{type:"number",required:!0,autoComplete:"off",defaultValue:this.state.recommendedMinFee,min:0,max:.05,step:1e-4}},{key:"confirm",label:H.a.Confirmation,props:{type:"staticText",className:"confirmText alert alert-info",value:this.createConfirmMessage}}],i=this.props.me.TFAEnabled;return i&&a.splice(-1,0,{key:"otpToken",label:zs,helpText:Ks,props:{onKeyDown:function(e){10!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault())},autoComplete:"off",required:!0,maxLength:"GA"===i?6:"Yubikey"===i?44:50}}),[{fields:a}]},t.prototype.getWithdrawable=function(){var e=this.form,t=1e8*(e?e.state.fee:Ds);return Math.max((this.props.margin.withdrawableMargin-t)/1e8,0)},t.prototype.render=function(){var e=this,t=this.state,n=t.confirmMessage,a=t.error,i=this.props.walletHistory.filter(function(e){return("Withdrawal"===e.transactType||"Transfer"===e.transactType)&&e.address.length>10&&e.amount<0}).map(function(e){return e.newWithProps({amount:Math.abs(e.amount)-e.fee})}),o=r.createElement(gn.a,{title:Qs,className:"embeddedPanel withdrawalRequest",showFullscreen:!1},r.createElement(ba,{onSubmit:this.onFormSubmit,fieldsets:this.createFieldsets(),ref:function(t){return e.form=t},onChange:this.onFormChange,submitDisabled:this.state.submitDisabled,initialState:this.state},r.createElement("ul",{className:"notes v-offset-2"},r.createElement("li",null,Gs,"Â ",r.createElement("a",{href:R.b+"security#Wallet-Security"},Xs),"."),r.createElement("li",null,r.createElement(A.FormattedMessage,{id:"withdraw.note.deadline",defaultMessage:"Submit your withdrawal by 13:00 UTC ({time}) to be included in the day's batch.",description:"Note text instructing of daily withdrawal deadline",values:{time:D.v(13)}}))),a?r.createElement("div",{className:"withdrawalError alert alert-danger"},"string"==typeof a?H.a.genericFormError(a):a):null)),s=r.createElement(gn.a,{title:Ys,className:"embeddedPanel history",showFullscreen:!1},r.createElement(Ls,{message:n,withdrawals:i,onCellClick:this.onWithdrawalCellClick}));return r.createElement(E.a,{className:"accountPage accountWithdraw",panelClassName:"embeddedPanelParent embeddedPanelParentWrap",title:Js},o,s)},t}(d.a);Zs.displayName="Withdraw",Zs.defaultProps={currency:"XBt"};var $s=Object(p.a)(function(e){return{actions:e.actions,margin:e.marginPrimary,me:e.me,walletHistory:e.walletHistory}})(Zs),el=function(){var e=Object(Ce.coroutine)(Te.a.mark(function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Ne.a){e.next=2;break}throw new Error("A Promise must be sent to Notificationify.");case 2:return e.prev=2,e.next=5,t;case 5:if(n=e.sent,!r.failureOnly){e.next=8;break}return e.abrupt("return");case 8:Ga.a.flux.actions.createNotification(b()({messageId:"Notificationify.OperationSuccess",body:ga()(n)},r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),Ga.a.flux.actions.createNotification(b()({messageId:"Notificationify.OperationFailure",body:e.t0.message},r));case 14:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}(),tl=function(e){function t(){var n,r,a;o()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=l()(this,e.call.apply(e,[this].concat(s))),r.onFormSubmit=function(e){var t=e.value;t.sound&&(t.sound="pop");var n=Fe.d({endpoint:"/notification",json:t});el(n,{browserOnly:!0,persist:!1,ttl:5,failureOnly:!0})},a=n,l()(r,a)}return u()(t,e),t.prototype.render=function(){return r.createElement(E.a,{className:"staticWrapper",title:"Admin: Publish Notification"},r.createElement(ba,{onSubmit:this.onFormSubmit,fieldsets:t.formFieldsets,legend:"Push Global Notification"}))},t}(d.a);tl.displayName="PublishNotification",tl.formFieldsets=[{legend:"Notification Settings",helpText:"Careful! This will push a notification to all logged-in users. (logged-out support coming soon)",fields:[{key:"title",label:"Notification Title",props:{placeholder:"BitMEX Announces Mark Karpeles as new CTO",required:!0}},{key:"body",label:"Notification Text",props:{type:"textarea",placeholder:"JK, LOL",required:!0}},{key:"type",label:"Type",props:{type:"text",defaultValue:"info",hidden:!0}},{key:"ttl",label:"Notification TTL (seconds)",props:{defaultValue:10,type:"number",required:!0}},{key:"closable",label:"Closable",helpText:"Only applies to non-native notifications",props:{defaultChecked:!0,type:"checkbox"}},{key:"persist",label:"Persist",helpText:"If true, will redisplay the notification if the TTL has not expired and the user closes the tab.",props:{defaultChecked:!0,type:"checkbox"}},{key:"sound",label:"Play Sound",helpText:"If true, will play a popping sound when the notification appears.",props:{defaultChecked:!1,type:"checkbox"}}]}];var nl=n(250),rl=["aboutUs.md","affiliateToS.md","affiliates.md","apiKeysUsage.md","apiOverview.md","autoDeleveraging.md","autoDeleveragingExamples.md","automatedTradingEngines.md","charting.md","dtcIntegration.md","exchangeGuide.md","fairPriceMarking.md","faq.md","fees.md","futuresGuide.md","futuresGuideExamples.md","indexProtections.md","insuranceFund.md","isolatedMargin.md","isolatedMarginExamples.md","liquidation.md","liquidationExamples.md","marginTermReference.md","ninjaTraderIntegration.md","orderTypeFAQ.md","perpetualContractsGuide.md","perpetualContractsGuideExamples.md","pnlGuide.md","privacyPolicy.md","restAPI.md","riskLimits.md","riskLimitsExamples.md","security.md","seriesGuideADA.md","seriesGuideB.md","seriesGuideBAT.md","seriesGuideBCH.md","seriesGuideBLOCKS.md","seriesGuideDASH.md","seriesGuideEOS.md","seriesGuideETC.md","seriesGuideETH.md","seriesGuideFCT.md","seriesGuideGNO.md","seriesGuideLTC.md","seriesGuideNEO.md","seriesGuideQTUM.md","seriesGuideSEGWIT.md","seriesGuideSNT.md","seriesGuideXBC.md","seriesGuideXBJ.md","seriesGuideXBT.md","seriesGuideXLM.md","seriesGuideXMR.md","seriesGuideXRP.md","seriesGuideXTZ.md","seriesGuideZEC.md","support.md","technicalContact.md","terms.md","tradingOverview.md","welcome.md","whatsDifferent.md","wsAPI.md"];Array.isArray(rl)||(rl=[]);var al=["affiliates","dtcIntegration","insuranceFund","welcome"],il=/\W/g;function ol(e){return e.replace(il,"")}t.a=function(e,t){sl||(i=e,sl=[].concat((o||rl).map(function(e){return e.replace(/\.md$/,"").replace(/^seriesGuide(\w+)$/,"seriesGuide/$1")}).filter(function(e){return!L.a.includes(al,e)}),["apiChangelog"]).map(function(e){if("string"==typeof e)return r.createElement(a.Location,{path:i+e,handler:M,pageName:ol(e)});if("string"!=typeof e&&e.path&&e.redirectTo)return r.createElement(a.Location,{path:i+ol(e.path),handler:f,newPath:e.redirectTo});throw new Error("Bad static page definition: "+e.toString())}).concat([ll]));var i,o;var s=t.indices,l=t.instruments,c=t.me,u=new RegExp(e+"contract/("+l.pluck("symbol").join("|")+")$"),d=new RegExp(e+"index/("+s.pluck("symbol").join("|")+")$"),p=e.replace(/\/$/,"")+"(/)(trade)",m=[r.createElement(a.Location,{path:p,handler:g,rootPath:e}),r.createElement(a.Location,{path:e+"trade/:symbol",handler:aa,className:"fullWidth",shareKeys:!0}),r.createElement(a.Location,{path:e+"affiliates",handler:fa}),r.createElement(a.Location,{path:e+"dtcIntegration",handler:ii}),r.createElement(a.Location,{path:u,handler:xe,urlPatternOptions:["symbol"],shareKeys:!0}),r.createElement(a.Location,{path:d,handler:ct,urlPatternOptions:["symbol"],shareKeys:!0}),r.createElement(a.Location,{path:e+"settlementHistory",handler:mi}),r.createElement(a.Location,{path:e+"fundingHistory",handler:Ei}),r.createElement(a.Location,{path:e+"insuranceHistory",newPath:"insuranceFund",handler:f}),r.createElement(a.Location,{path:e+"insuranceFund",handler:Ti}),r.createElement(a.Location,{path:e+"leaderboard",handler:cs}),r.createElement(a.Location,{path:e+"dynamicProfitEqualisation",newPath:"autoDeleveraging",handler:f}),r.createElement(a.Location,{path:e+"dynamicProfitEqualisationExamples",newPath:"autoDeleveragingExamples",handler:f}),r.createElement(a.Location,{path:e+"swapsGuide",newPath:"perpetualContractsGuide",handler:f}),r.createElement(a.Location,{path:e+"swapsGuideExamples",newPath:"perpetualContractsGuideExamples",handler:f})];m.push.apply(m,sl);var h=(y=e,[r.createElement(a.Location,{path:y+"account",handler:yo}),r.createElement(a.Location,{path:y+"preferences",handler:qo}),r.createElement(a.Location,{path:y+"apiKeys",handler:Qa,className:"fullWidth"}),r.createElement(a.Location,{path:y+"tradeHistory",handler:ns,className:"fullWidth"}),r.createElement(a.Location,{path:y+"orderHistory",handler:Xo,className:"fullWidth"}),r.createElement(a.Location,{path:y+"deposit",handler:Ns}),r.createElement(a.Location,{path:y+"withdraw",handler:$s,className:"fullWidth"}),r.createElement(a.Location,{path:y+"wallet",handler:Object(nl.a)(function(){return new Promise(function(e){e()}).then(n.bind(null,481))})})]);var y;c.authenticated||(h=h.map(function(e){return r.cloneElement(e,{handler:f,newPath:"/timeout?msg=Please log in to view that page."})}));m.push.apply(m,h);var b=c.authenticated&&c.hasRole("admin");(b||c.authenticated&&c.hasRole("supportTeam"))&&m.push(r.createElement(a.Location,{path:e+"adminLookupUser",className:"fullWidth",handler:Object(nl.a)(function(){return n.e(5).then(n.bind(null,1008))})}));b&&m.push.apply(m,[r.createElement(a.Location,{path:e+"publishNotification",handler:tl}),r.createElement(a.Location,{path:e+"adminWithdrawals",className:"fullWidth",handler:Object(nl.a)(function(){return n.e(22).then(n.bind(null,1009))})})]);return m};var sl=void 0;var ll=r.createElement(a.NotFound,{handler:mt})},function(e,t,n){"use strict";(function(e){var r=n(22),a=n.n(r),i=n(5),o=n.n(i),s=!!e.browser&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,l={componentWillMount:function(){var e=this;if(this.props.scrollable){this.setState({scrollLeft:0,headerMargin:-5});var t=o.a.throttle(c,16);this.onScroll=function(n){n.persist(),t.call(e,n)}}},componentDidMount:function(){this.mounted=!0},componentWillUnmount:function(){this.mounted=!1}};function c(e){if(this.mounted&&e.target&&(e.isPersistent=function(){return!1},e.target.scrollLeft!==this.state.scrollLeft)){var t=-e.target.scrollLeft-5;s&&(t=-5===this.state.headerMargin?-5.01:-5);var n=a.a.findDOMNode(this._header._refs["_visual-header"]);n instanceof HTMLElement&&(o.a.each(n.getElementsByClassName("th-inner"),function(e){e.style.marginLeft=t+"px"}),this.setState({scrollLeft:e.target.scrollLeft,headerMargin:t}))}}t.a=l}).call(t,n(12))},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(473),p=n(5),m=(n.n(p),function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onClick=function(e){r.props.onClick(e,r.props.datum)},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){for(var e=this.props,t=e.datum,n=e.className,r=e.cellFormatter,a=e.cellFormatters,i=e.onCellClick,o=e.tableDeps,s=this.props.columns,l=s.length,u=new Array(l),p=0;p<l;p++){var m=s[p],f=a[m],h=void 0,g=void 0;if("string"==typeof f&&(f=a[f]),f){0;var y=f,b=y.deps,v=y.fn;if(h={},b&&b.length)for(var E=0;E<b.length;E++){var w=b[E];h[w]=t[w]||t._displayValues&&t._displayValues[w]}o.hasOwnProperty(m)&&(o.__scu=o[m]),g=v}u[p]=c.createElement(d.a,{key:m,onClick:i,value:t[m],depData:h,datum:t,datumKey:m,cellFormatter:r,individualCellFormatter:g})}return c.createElement("tr",{onClick:this.onClick,className:n},u)},t}(u.a));m.displayName="TableRow",m.defaultProps={cellFormatters:{},className:"",deps:{},onClick:function(e,t){},tableDeps:{}},m.SCUDeep=!0},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var r=n(35),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(4)),m=n(92),f=n(142),h=n.n(f),g=function(t){function n(){var e,r,a;o()(this,n);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=r=l()(this,t.call.apply(t,[this].concat(s))),r.mounted=!1,r.refFn=function(e){return r.node=e},r.onClick=function(e){return r.props.onClick(e,r.props.value,r.props.datumKey,r.props.datum)},a=e,l()(r,a)}return u()(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillUnmount=function(){this.mounted=!1,this.animId&&h.a.clear(this.animId)},n.prototype.shouldComponentUpdate=function(e,t,n){var r=this.props;return"actions"===e.datumKey||r.value!==e.value||r.onClick!==e.onClick||r.showIsNew!==e.showIsNew||!Object(m.b)(r.depData,e.depData)||!Object(m.b)(this.context,n)},n.prototype.componentWillReceiveProps=function(t){if(this.props.showIsNew){if("cumSize"===this.props.datumKey)return;if(!e.browser)return;this.animId&&h.a.clear(this.animId),this.props.value!==t.value&&this.showIsNew(t.value,this.props.value)}},n.prototype.showIsNew=function(e,t){var n=this,r="number"==typeof t?t:parseFloat(t),i="number"==typeof e?e:parseFloat(e),o=a()(r)&&a()(i),s=o&&e>t;this.animId=h.a.mutate(function(){if(n.node){var e=n.node;if(e.classList.contains("isNew")&&(e.classList.remove("isNew"),e.offsetWidth),e.classList.add("isNew"),o){var t=s?"highlightInc":"highlightDec",r=s?"highlightDec":"highlightInc";e.classList.remove(r),e.classList.add(t)}n.setIsOldTimeout(),n.animId=null}})},n.prototype.setIsOldTimeout=function(){var e=this;this.isOldTimeout&&clearTimeout(this.isOldTimeout),this.isOldTimeout=setTimeout(function(){e.animId=h.a.mutate(function(){e.node&&(e.node.classList.remove("isNew"),e.animId=null)}),e.isOldTimeout=null},5e3)},n.prototype.render=function(){var e=this.props,t=e.datum,n=e.datumKey,r=e.showIsNew,a=this.props.value;return this.props.individualCellFormatter?a=this.props.individualCellFormatter(a,this.props.depData,t):this.props.cellFormatter&&(a=this.props.cellFormatter(a,n,t)),"boolean"==typeof a&&(a=String(a)),d.createElement("td",{className:n,onClick:this.onClick,ref:r?this.refFn:null},a)},n}(p.a);g.displayName="TableCell",g.defaultProps={onClick:function(e,t,n,r){},showIsNew:!0}}).call(t,n(12))},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(4)),d=n(31),p=n(16),m=n(5),f=n.n(m),h=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r._refs={},r.makeHeaderKeys=function(){var e=r.props.tableName,t=r.context.intl;return f.a.map(r.props.columns,function(n){return{keyName:n,definition:Object(d.d)(e,n,t),translation:Object(d.c)(e,n,t)}})},r.makeTh=function(e,t){var n=e.keyName,a=e.definition,i=e.translation,o=r.props,s=o.cellRenderer,l=o.sortKey,u=o.sortType;return c.createElement(g,{key:t,index:t,keyName:n,definition:a,translation:i,cellRenderer:s,sortKey:l,sortType:u})},i=n,o()(r,i)}return l()(t,e),t.prototype.render=function(){var e=this,t=this.props.scrollable,n=this.makeHeaderKeys(),r=void 0;return r=t?f.a.times(2,function(t){var r=f.a.map(n,e.makeTh),a=1===t?"hidden-header":"visual-header";return c.createElement("tr",{className:a,key:a,ref:function(t){e._refs["_"+a]=t}},r)}):c.createElement("tr",null,f.a.map(n,this.makeTh)),c.createElement("thead",null,r)},t}(u.a);h.displayName="TableHeader";var g=function(e){function t(){return a()(this,t),o()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this.props,r=n.definition,a=n.keyName,i=n.translation,o=n.sortKey,s=n.sortType;return r!==e.definition||i!==e.translation||a!==e.keyName||o===a&&o===e.sortKey&&s!==e.sortType||o===a&&o!==e.sortKey||o!==a&&a===e.sortKey},t.prototype.render=function(){var e=this.props,t=e.definition,n=e.keyName,r=e.translation,a=e.cellRenderer,i=e.sortKey,o=e.sortType,s=t?c.createElement(p.a,{text:t,textTitle:r},r):c.createElement("span",null,r);if(a){var l=n;void 0!==o&&(l+=" sortHeader",l+=null!==o&&n===i?" "+o:" noSort"),s=a(n,l,s)}return c.createElement("th",{className:n},c.createElement("div",{className:"th-inner"},s))},t}(u.a);g.displayName="Th"},function(e,t,n){"use strict";(function(e){var r=n(6),a=n.n(r),i=n(0),o=n.n(i),s=n(1),l=n.n(s),c=n(2),u=n.n(c),d=n(3),p=(n.n(d),n(22)),m=n.n(p),f=n(14),h=n.n(f),g=n(4),y=n(8),b=n(5),v=n.n(b),E=(n(219),n(137),n(231)),w=n(23),M=n(10),S=n(37),x=n(16),k=n(140),T=n(476),C=n.n(T),N=function(t){function n(){var r,a,i;o()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=a=l()(this,t.call.apply(t,[this].concat(c))),a.state={newTradeIdx:0},a.fetchMoreTrades=v.a.throttle(function(){a.mounted&&a.tradeList&&a.tradeList.firstChild instanceof HTMLElement&&(a.tradeList.offsetHeight>=a.tradeList.firstChild.offsetHeight-100?console.warn("Canceling trade load; css broken?"):a.props.actions.fetchMoreTrades())},250,{trailing:!1}),a.renderItem=function(t,n){e.browser&&a.props.trades.length&&t===a.props.trades.length-40&&e.nextTick(function(){return a.fetchMoreTrades()});var r=a.props.trades.models[t];if(!r)return null;var i=(a.props.trades.length-t)%2?"odd":"even",o=t<a.state.newTradeIdx;return d.createElement(F,{key:r.trdMatchID,isNew:o,trade:r,fullscreened:Boolean(a.context.panelState&&a.context.panelState.fullscreened),timezoneOffset:a.context.timezoneOffset,showLocaleNumbers:a.props.showLocaleNumbers,className:i,tickSize:a.props.tickSize})},a.renderContainer=function(e,t){return d.createElement("div",{className:"recentTradeTable",ref:t},e)},a.scrollParentGetter=function(){return!1===a.mounted?null:a.tradeList||m.a.findDOMNode(a)||m.a.findDOMNode(a.reactList)},i=r,l()(a,i)}return u()(n,t),n.prototype.componentDidMount=function(){this.mounted=!0},n.prototype.componentWillReceiveProps=function(e){var t=this.props.trades.first(),n=t?e.trades.models.indexOf(t):0;this.setState({newTradeIdx:n})},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.render=function(){var e=this,t=this.props.trades;if(!(t.length>0)){var n=[];return n.loading=t.loading,d.createElement(S.a,{className:"recentTradeList hideHeaders",data:n})}return d.createElement(k.a,null,d.createElement("div",{className:"recentTradeList reactList hoverEnabled",ref:function(t){return e.tradeList=t}},d.createElement(C.a,{ref:function(t){return e.reactList=t},itemRenderer:this.renderItem,itemsRenderer:this.renderContainer,length:t.length,threshold:400,pageSize:20,type:"uniform",useStaticSize:!0,scrollParentGetter:this.scrollParentGetter,key:this.context.panelState.fullscreened+this.props.selectedSymbol,useTranslate3d:!0})))},n}(g.a);N.displayName="RecentTradeList",N.defaultProps={tickSize:.01},N.contextTypes=a()({},g.a.contextTypes,{panelState:h.a.object}),N.SCUDeep=!0,t.a=Object(y.a)(function(e){return{actions:e.actions,selectedSymbol:e.selectedInstrument.symbol,showLocaleNumbers:e.options.showLocaleNumbers,tickSize:e.selectedInstrument.tickSize,trades:e.trades}})(N);var P=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.fullscreened,n=e.date,r=e.isSettlement,a=e.timezoneOffset,i=n.toLocaleTimeString().replace(/ [AP]M/,"");return r&&(i=d.createElement(x.a,{text:"This is a settlement. All open positions were closed at this price.",className:"settlement"},i)),d.createElement("span",{className:"date reactListColumn",title:w.l(n,a)},t?d.createElement("span",{className:"dayMonthYear"},w.f(n,a)," "):null,i)},t}(d.Component);function O(e){var t=e.tickSize,n=e.trade,r="PlusTick"===n.tickDirection?"arrow-up":"MinusTick"===n.tickDirection?"arrow-down":"xyz",a=d.createElement("i",{className:"fa fa-fw fa-"+r+" "+n.tickDirection});return d.createElement("span",{className:"price reactListColumn"},a,M.t(n.price,t))}P.displayName="RecentTradeDate";var F=function(e){function t(){return o()(this,t),l()(this,e.apply(this,arguments))}return u()(t,e),t.prototype.shouldComponentUpdate=function(e){return!1},t.prototype.render=function(){var e=this.props,t=e.fullscreened,n=e.showLocaleNumbers,r=e.isNew,a=e.timezoneOffset,i=e.trade,o=!i.side,s=i.side||" ",l=n?i.size.toLocaleString():i.size,c=[d.createElement(O,{trade:i,tickSize:this.props.tickSize,key:"price"}),d.createElement("span",{className:"size reactListColumn",key:"size"},l),d.createElement(P,{key:"date",date:i.timestamp,fullscreened:t,timezoneOffset:a,isSettlement:o}),d.createElement("span",{className:"side reactListColumn",key:"side"},s[0])];r&&(c=d.createElement(E.a,null,d.createElement("div",{className:"highlightWrapper"},c)));var u="reactListRow recentTradeItem "+i.side+" "+this.props.className;return d.createElement("div",{className:u},c)},t}(d.Component);F.displayName="RecentTradeRow"}).call(t,n(12))},function(e,t,n){var r,a,i,o;o=function(e,t,n){"use strict";var r=o(e),a=o(t),i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var l,c,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d={x:"clientWidth",y:"clientHeight"},p={x:"clientTop",y:"clientLeft"},m={x:"innerWidth",y:"innerHeight"},f={x:"offsetWidth",y:"offsetHeight"},h={x:"offsetLeft",y:"offsetTop"},g={x:"overflowX",y:"overflowY"},y={x:"scrollWidth",y:"scrollHeight"},b={x:"scrollLeft",y:"scrollTop"},v={x:"width",y:"height"},E=function(){},w=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",E,{get passive(){return e=!0,!1}})}catch(e){}return e}()&&{passive:!0};r.default.exports=(c=l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.initialIndex,a=n.constrain(r,0,1,e),i=a.from,o=a.size;return n.state={from:i,size:o,itemsPerRow:1},n.cache={},n.prevPrevState={},n.unstable=!1,n.updateCounter=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=t.from,r=t.size,a=t.itemsPerRow;this.maybeSetState(this.constrain(n,r,a,e),E)}},{key:"componentDidMount",value:function(){this.updateFrame=this.updateFrame.bind(this),window.addEventListener("resize",this.updateFrame),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(){var e=this;if(!this.unstable){if(++this.updateCounter>100)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){e.updateCounter=0,delete e.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(function(e,t){for(var n in t)if(e[n]!==t[n])return!1;return!0}(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrame),this.scrollParent.removeEventListener("scroll",this.updateFrame,w),this.scrollParent.removeEventListener("mousewheel",E,w)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[p[t]]||0,r=h[t];do{n+=e[r]||0}while(e=e.offsetParent);return n}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollParent",value:function(){var e=this.props,t=e.axis,n=e.scrollParentGetter;if(n)return n();for(var r=this.getEl(),a=g[t];r=r.parentElement;)switch(window.getComputedStyle(r)[a]){case"auto":case"scroll":case"overlay":return r}return window}},{key:"getScroll",value:function(){var e=this.scrollParent,t=this.props.axis,n=b[t],r=e===window?document.body[n]||document.documentElement[n]:e[n],a=this.getScrollSize()-this.getViewportSize(),i=Math.max(0,Math.min(r,a)),o=this.getEl();return this.getOffset(e)+i-this.getOffset(o)}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[b[n]]=e}},{key:"getViewportSize",value:function(){var e=this.scrollParent,t=this.props.axis;return e===window?window[m[t]]:e[d[t]]}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,n=t.body,r=t.documentElement,a=y[this.props.axis];return e===window?Math.max(n[a],r[a]):e[a]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScroll(),n=Math.max(0,t-e),r=t+this.getViewportSize()+e;return this.hasDeterminateSize()&&(r=Math.min(r,this.getSpaceBefore(this.props.length))),{start:n,end:r}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,n=e.useStaticSize,r=this.state,a=r.itemSize,i=r.itemsPerRow;if(n&&a&&i)return{itemSize:a,itemsPerRow:i};var o=this.items.children;if(!o.length)return{};var s=o[0],l=s[f[t]],c=Math.abs(l-a);if((isNaN(c)||c>=1)&&(a=l),!a)return{};for(var u=h[t],d=s[u],p=o[i=1];p&&p[u]===d;p=o[i])++i;return{itemSize:a,itemsPerRow:i}}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=E),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.getScrollParent(),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrame),e.removeEventListener("mousewheel",E)),this.scrollParent.addEventListener("scroll",this.updateFrame,w),this.scrollParent.addEventListener("mousewheel",E,w))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,n=this.items.children,r=0;if(n.length){var a=this.props.axis,i=n[0],o=n[n.length-1];r=this.getOffset(o)+o[f[a]]-this.getOffset(i)}if(r>t)return e();var s=this.props,l=s.pageSize,c=s.length,u=Math.min(this.state.size+l,c);this.maybeSetState({size:u},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,r=t.end,a=this.props,i=a.length,o=a.pageSize,s=0,l=0,c=0,u=i-1;l<u;){var d=this.getSizeOf(l);if(null==d||s+d>n)break;s+=d,++l}for(var p=i-l;c<p&&s<r;){var m=this.getSizeOf(l+c);if(null==m){c=Math.min(c+o,p);break}s+=m,++c}this.maybeSetState({from:l,size:c},e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,r=t.itemsPerRow;if(!n||!r)return e();var a=this.getStartAndEnd(),i=a.start,o=a.end,s=this.constrain(Math.floor(i/n)*r,(Math.ceil((o-i)/n)+1)*r,r,this.props),l=s.from,c=s.size;return this.maybeSetState({itemsPerRow:r,from:l,itemSize:n,size:c},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var n=this.state,r=n.itemSize,a=n.itemsPerRow;if(r)return t[e]=Math.floor(e/a)*r;for(var i=e;i>0&&null==t[--i];);for(var o=t[i]||0,s=i;s<e;++s){t[s]=o;var l=this.getSizeOf(s);if(null==l)break;o+=l}return t[e]=o}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=this.items.children,r=f[this.props.axis],a=0,i=n.length;a<i;++a)e[t+a]=n[a][r]}},{key:"getSizeOf",value:function(e){var t=this.cache,n=this.items,r=this.props,a=r.axis,i=r.itemSizeGetter,o=r.itemSizeEstimator,s=r.type,l=this.state,c=l.from,u=l.itemSize,d=l.size;if(u)return u;if(i)return i(e);if(e in t)return t[e];if("simple"===s&&e>=c&&e<c+d&&n){var p=n.children[e-c];if(p)return p[f[a]]}return o?o(e,t):void 0}},{key:"constrain",value:function(e,t,n,r){var a=r.length,i=r.minSize,o=r.type,s=(t=Math.max(t,i))%n;return s&&(t+=n-s),t>a&&(t=a),(s=(e="simple"!==o&&e?Math.max(Math.min(e,a-t),0):0)%n)&&(e-=s,t+=s),{from:e,size:t}}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScroll(),n=this.getSpaceBefore(e),r=n-this.getViewportSize()+this.getSizeOf(e),a=Math.min(r,n),i=Math.max(r,n);return t<=a?this.setScroll(a):t>i?this.setScroll(i):void 0}},{key:"getVisibleRange",value:function(){for(var e=this.state,t=e.from,n=e.size,r=this.getStartAndEnd(0),a=r.start,i=r.end,o={},s=void 0,l=void 0,c=t;c<t+n;++c){var u=this.getSpaceBefore(c,o),d=u+this.getSizeOf(c);null==s&&d>a&&(s=c),null!=s&&u<i&&(l=c)}return[s,l]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,r=t.itemsRenderer,a=this.state,i=a.from,o=a.size,s=[],l=0;l<o;++l)s.push(n(i+l,l));return r(s,function(t){return e.items=t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.axis,r=t.length,a=t.type,o=t.useTranslate3d,l=this.state,c=l.from,u=l.itemsPerRow,d=this.renderItems();if("simple"===a)return d;var p={position:"relative"},m={},f=Math.ceil(r/u)*u,h=this.getSpaceBefore(f,m);h&&(p[v[n]]=h,"x"===n&&(p.overflowX="hidden"));var g=this.getSpaceBefore(c,m),y="x"===n?g:0,b="y"===n?g:0,E=o?"translate3d("+y+"px, "+b+"px, 0)":"translate("+y+"px, "+b+"px)",w={msTransform:E,WebkitTransform:E,transform:E};return i.default.createElement("div",s({style:p},{ref:function(t){return e.el=t}}),i.default.createElement("div",{style:w},d))}}]),t}(),l.displayName="ReactList",l.propTypes={axis:a.default.oneOf(["x","y"]),initialIndex:a.default.number,itemRenderer:a.default.func,itemSizeEstimator:a.default.func,itemSizeGetter:a.default.func,itemsRenderer:a.default.func,length:a.default.number,minSize:a.default.number,pageSize:a.default.number,scrollParentGetter:a.default.func,threshold:a.default.number,type:a.default.oneOf(["simple","variable","uniform"]),useStaticSize:a.default.bool,useTranslate3d:a.default.bool},l.defaultProps={axis:"y",itemRenderer:function(e,t){return i.default.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return i.default.createElement("div",{ref:t},e)},length:0,minSize:1,pageSize:10,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1},c)},a=[e,n(14),n(3)],void 0===(i="function"==typeof(r=o)?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(5)),d=(n.n(u),n(4)),p=n(8),m=n(31),f=n(81),h=function(t){function n(){var e,r,i;a()(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return e=r=o()(this,t.call.apply(t,[this].concat(l))),r.handleChange=function(e){e.target instanceof window.HTMLSelectElement&&r.props.actions.selectInstrument(e.target.value)},i=e,o()(r,i)}return l()(n,t),n.prototype.shouldComponentUpdate=function(t,n,r){var a=this.props.selectedSymbol!==t.selectedSymbol||this.context.locale!==r.locale,i=this.props.instruments!==t.instruments;return(!i||!e.browser||this.selectEl!==document.activeElement)&&(a||i)},n.prototype.render=function(){var e=this,t=this.context.intl,n=this.props.instruments.filter(function(e){return e.open&&e.uiVisible}).map(function(n){var r=n.symbol;if(!e.props.shortName){var a=f.a.humanReadableSummaryMessage(n);r=n.symbol+" ["+n.niceLastPrice+"]: "+Object(m.e)(a,t)}return c.createElement("option",{value:n.symbol,key:n.symbol,title:r},r)});return c.createElement("select",{className:"instrumentSelector "+(this.props.className||""),name:"instruments",value:this.props.selectedSymbol,ref:function(t){return e.selectEl=t},onChange:this.handleChange},n)},n}(d.a);h.displayName="InstrumentSelector",h.defaultProps={className:"",shortName:!1},t.a=Object(p.a)(function(e){return{actions:e.actions,instruments:e.instruments,selectedSymbol:e.selectedSymbol}})(h)}).call(t,n(12))},function(e,t,n){"use strict";(function(e){var r=n(26),a=n.n(r),i=n(6),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(7)),h=n(4),g=n(8),y=n(11),b=n(5),v=n.n(b),E=n(60),w=(n(96),n(248)),M=n(16),S=n(148),x=n(100),k=n(479),T=n(79),C=n(9),N=m.createElement("i",{className:"fa fa-fw fa-question-circle"}),P=function(t){function n(){var e,r,a,i;l()(this,n);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return r=a=u()(this,t.call.apply(t,[this].concat(c))),a.state={preferredExpiries:(e={},e[a.props.selectedRootSymbol]=a.props.selectedSymbol,e),topTabs:a.generateTopTabs(a.props,a.context)},a.onChangeLayout=function(){var e="advanced"===a.props.tradeLayout?"basic":"advanced";a.props.actions.setOption({tradeLayout:e})},a.onSelectInstrument=function(e){var t=a.state,n=t.preferredExpiries,r=t.topTabs[e],i=r.rootSymbol,o=r.symbol,s=n[i]||o;s!==a.props.selectedSymbol&&a.props.onSelectInstrument(s)},a.onSelectExpiry=function(e,t){if(!(t.target instanceof window.Node&&Object(E.b)(t.target,function(e){return"A"===e.nodeName}))){var n=a.props.instruments.get(e);if(n){var r,i=n.displayRootSymbol;a.setState({preferredExpiries:o()({},a.state.preferredExpiries,(r={},r[i]=e,r))})}else{var s=a.props.instruments.map(function(e){return e.symbol});console.error("Unable to find symbol: "+e+". Available: "+s.join(","))}a.props.onSelectInstrument(e)}},i=r,u()(a,i)}return p()(n,t),n.prototype.componentWillReceiveProps=function(e,t){var n=this.props.instruments,r=e.instruments,a=n.length!==r.length,i=!v.a.isEqual(n.map(function(e){return e.state}),r.map(function(e){return e.state})),o=this.context.locale!==t.locale;(a||i||o)&&this.setState({topTabs:this.generateTopTabs(e,t)})},n.prototype.generateTopTabs=function(e,t){var n=t.intl.messages,r=e.instruments;return v()(r.models).filter(function(e){return e.open&&e.uiVisible}).sortBy(function(e){return"zh-CN"===t.locale&&"XBC"===e.rootSymbol?-1/0:Object(T.b)(e)}).groupBy("displayRootSymbol").map(function(e,t){e.sort(T.c);var r=e[0].symbol;return{rootSymbol:t,symbol:r,label:m.createElement("span",{className:"instrument"},m.createElement("span",{className:"instrumentDescription"},n["symbol."+t]||t),m.createElement("div",{className:"flexBody flexJustifyCenter"},m.createElement("span",{className:"instrumentRootSymbol"},t),m.createElement(O,{className:"lastChangePcnt","data-symbol":r})))}}).value()},n.prototype.render=function(){var t=this,n=this.context.intl,r=this.props,i=r.selectedSymbol,o=r.selectedRootSymbol,s=r.tradeLayout,l=this.state.topTabs,c=n.messages["symbol."+o];c||(a()(n.messages).length&&e.Raven&&e.Raven.captureMessage("Missing rootSymbol message: "+o+"."),c=o);var u=n.formatMessage(C.a.Guide.props),d=this.props.instruments.filter({displayRootSymbol:o,open:!0,uiVisible:!0}),p=l.map(function(e){return e.label}),h=v.a.findIndex(l,{rootSymbol:o});return m.createElement(w.a,{titles:p,className:"instrumentSelectorPanel widget-tabs-outlined "+this.props.className,showFullscreen:!1,showMinimize:!1,currentTab:h,onTabSwitch:this.onSelectInstrument,watchHeaderOverflow:!0},m.createElement("span",{className:"expiries"},d.sort(T.c).map(function(e){return m.createElement(k.a,{instrument:e,key:e.symbol,isActive:e.symbol===i,onSelect:t.onSelectExpiry})}),m.createElement(M.a,{className:"btn btn-primary seriesGuideBtn",component:"a",href:y.b+"seriesGuide/"+o,text:m.createElement(f.FormattedMessage,{id:"instrumentSelectorPanel.tooltip.rootGuide",defaultMessage:"The root symbol of {selectedSymbol} is {selectedRootSymbol}. Click to view the series guide.",description:"Tooltip text informing of the root symbol and instructing user to click for more info",values:{selectedSymbol:i,selectedRootSymbol:o}})},o+" ("+c+") "+u+" ",N),m.createElement("span",{className:"layoutSelectorWrapper hidden-xs"},m.createElement("i",{className:"fa fa-fw fa-crop-portrait "+("basic"===s?"selected":"")}),m.createElement(S.a,{checked:"advanced"===s,onChange:this.onChangeLayout}),m.createElement("i",{className:"fa fa-fw fa-grid-on "+("advanced"===s?"selected":"")}))))},n}(h.a);P.displayName="InstrumentSelectorPanel",P.defaultProps={className:""};var O=Object(g.a)(function(e,t){var n=e.instruments.getOrCreate(t["data-symbol"]),r=n.lastChangePcnt,a=n.getDisplayField("lastChangePcnt",{})||"0%";return{value:r,formattedValue:(r>0?"+":"")+a,showIcon:!0,autoTickDirection:!0}})(x.a);t.a=Object(g.a)(function(e){return{actions:e.actions,instruments:e.instruments,selectedSymbol:e.selectedSymbol,selectedRootSymbol:e.selectedInstrument.displayRootSymbol,onSelectInstrument:e.actions.selectInstrument,tradeLayout:e.options.tradeLayout}})(P)}).call(t,n(36))},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(2),l=n.n(s),c=n(3),u=(n.n(c),n(5)),d=(n.n(u),n(7)),p=n(4),m=n(100),f=n(11),h=n(67),g=n(81),y=c.createElement(d.FormattedMessage,{id:"InstrumentSelectorPanelExpiry.helpCircle.inverseLeg",defaultMessage:"This is designed for rolling. Click to view the documentation.",description:"Help text describing how inverse leg is to be used for rolling"}),b=c.createElement(d.FormattedMessage,{id:"InstrumentSelectorPanelExpiry.helpCircle.multiLeg",defaultMessage:"This is a calendar spread, pricing the difference between two contracts. Click to view the documentation.",description:"Help text describing how a Calendar Spread works"}),v=c.createElement(d.FormattedMessage,{id:"InstrumentSelectorPanelExpiry.helpCircle.swap",defaultMessage:"This is a Perpetual Contract that does not expire. Click for more details.",description:"Help text describing what a Perpetual Contract is"}),E=c.createElement(d.FormattedMessage,{id:"InstrumentSelectorPanelExpiry.expiryMessage.perpSwap",defaultMessage:"Perpetual",description:"Text for Perpetual Contract"}),w=function(e){function t(){var n,r,i;a()(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=o()(this,e.call.apply(e,[this].concat(l))),r.onClick=function(e){r.props.onSelect(r.props.instrument.symbol,e)},i=n,o()(r,i)}return l()(t,e),t.prototype.shouldComponentUpdate=function(e,t,n){return this.props.isActive!==e.isActive||this.context.locale!==n.locale||this.props.instrument.initialLeverage!==e.instrument.initialLeverage||this.props.instrument.lastPrice!==e.instrument.lastPrice||this.props.instrument.lastTickDirection!==e.instrument.lastTickDirection},t.prototype.render=function(){var e=this.props,t=e.instrument,n=e.isActive,r=t.initialLeverage,a=t.inverseLeg,i=t.isMultiLeg,o=t.isSwap,s=t.rootSymbol,l=t.symbol,u=void 0,p=g.a.expiryMessage(t),w=void 0;i||(u=c.createElement("span",{className:"expiryLeverage"},"(",c.createElement(d.FormattedNumber,{value:r,format:"multiplier"}),"x)")),a?w=c.createElement(h.a,{text:y,href:f.b+"rolling"+s}):i?w=c.createElement(h.a,{text:b,href:f.b+"contract/"+l}):o&&(w=c.createElement(h.a,{text:v,href:f.b+"contract/"+l}),p=t.expiry?c.createElement(d.FormattedMessage,{id:"InstrumentSelectorPanelExpiry.expiryMessage.perpSwapWithExpiry",defaultMessage:"Perpetual (Expires {date})",description:"Text for Perpetual Swap that is expiring (discontinued)",values:{date:c.createElement(d.FormattedDate,{value:t.expiry})}}):E),t.isBinary&&(p=c.createElement("span",null,t.rootSymbol,": ",p));var M=n?"active":"inactive";return c.createElement("div",{className:"instrumentPanelExpiry "+M+"Expiry",title:l,onClick:this.onClick},c.createElement("span",{className:"btn "+(o?"square":"round")},c.createElement("div",{className:"expiryIndicator "+M}),c.createElement("span",{className:"expiryDescription"},p),u,c.createElement(m.a,{value:t.lastPrice,tickSize:t.tickSize,tickDirection:t.lastTickDirection,showIcon:!0}),w))},t}(p.a);w.displayName="InstrumentSelectorPanelExpiry",w.defaultProps={className:"",children:null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return w});var r=n(6),a=n.n(r),i=n(20),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(14)),h=n.n(f),g=n(4),y=n(208),b=(n.n(y),n(102)),v=n(5),E=(n.n(v),n(147)),w=function(t){function n(){return l()(this,n),u()(this,t.apply(this,arguments))}return p()(n,t),n.prototype.componentWillMount=function(){e.browser&&Object(E.b)()},n.prototype.componentWillUnmount=function(){e.browser&&Object(E.b)()},n.prototype.render=function(){var e=this.props,t=e.animateMount,n=o()(e,["animateMount"]),r=this.props.className||"gridLayout";return m.createElement(M,{margin:this.props.margin[0],animate:t},m.createElement(y.Responsive,a()({},n,{className:r,width:1280,onDragStart:E.a,onDragStop:E.b})))},n}(g.a);w.displayName="GridLayout",w.propTypes={breakpoint:h.a.string,cols:h.a.object,rowHeight:h.a.number},w.defaultProps={animateMount:!1,className:"",cols:{lg:12,md:8,sm:4,xs:2,xxs:2},children:[],rowHeight:30,draggableHandle:"header, header *",draggableCancel:"header li, header li *, header .widget-controls, header .widget-controls *",margin:[10,10]};var M=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=u()(this,e.call.apply(e,[this].concat(o))),r.state={width:1280},r.onResize=function(e){var t=e.width;r.setState({width:t+2*r.props.margin})},a=n,u()(r,a)}return p()(t,e),t.prototype.render=function(){return m.createElement(b.a,{onResize:this.onResize},m.cloneElement(this.props.children,{width:this.state.width}))},t}(m.Component);M.displayName="WidthProvider"}).call(t,n(12))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"COLUMNS",function(){return P}),n.d(t,"WithdrawalCancel",function(){return Y}),t.isPendingWithdrawal=J;var r=n(20),a=n.n(r),i=n(6),o=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(2),p=n.n(d),m=n(3),f=(n.n(m),n(4)),h=n(8),g=n(29),y=n(251),b=n(69),v=n(16),E=n(40),w=n(68),M=n(49),S=n(10),x=n(11),k=n(5),T=(n.n(k),n(7)),C=n(9),N=n(31),P=["transactTime","transactType","amount","fee","address","transactStatus","walletBalance"],O=m.createElement(T.FormattedMessage,{id:"walletHistory.tooltip.emailConfirmation",defaultMessage:"This withdrawal must be confirmed via email.",description:"Tooltip text instructing withdrawal requires email confirmation"}),F=m.createElement(T.FormattedMessage,{id:"walletHistory.tooltip.process",defaultMessage:"This withdrawal will process with the next batch at 13:00 UTC. It may still be canceled.",description:"Tooltip text informing user when withdrawal will be processed"}),I=m.createElement(T.FormattedMessage,{id:"walletHistory.tooltip.soon",defaultMessage:"This withdrawal will be sent shortly.",description:"Tooltip text informing withdrawal is being processed and sent"}),L=m.createElement(T.FormattedMessage,{id:"walletHistory.tooltip.futureRealisedPNL",defaultMessage:"This is your realised PNL from positions you have closed since 12:00 UTC today.",description:"Tooltip text explaining RealisedPNL transactions in the future"}),A=m.createElement(T.FormattedMessage,{id:"walletHistory.tooltip.futureUnrealisedPNL",defaultMessage:"This is your unrealised PNL on currently-open positions.",description:"Tooltip text explaining UnrealisedPNL transactions in the future"}),D=m.createElement("i",{className:"fa fa-btc fa-fw icon"}),B=m.createElement("i",{className:"fa fa-upload fa-fw icon"}),_=m.createElement("h4",null,m.createElement(T.FormattedMessage,{id:"walletHistory.header.contractsOpen",defaultMessage:"Contracts Open",description:"Header text for section that displays open contracts"})),R=m.createElement("h4",null,m.createElement(T.FormattedMessage,{id:"walletHistory.header.realisedPnl",defaultMessage:"Realised PNL",description:"Header text for section that displaying realised pnl"})),j=m.createElement("h4",null,m.createElement(T.FormattedMessage,{id:"walletHistory.header.unrealisedPnl",defaultMessage:"Unrealised PNL",description:"Header text for section that displaying unrealised pnl"})),U=m.createElement(T.FormattedMessage,{id:"walletHistory.title.wallet",defaultMessage:"Wallet",description:"Page title for wallet and wallet history page"}),H=m.createElement("hr",null),q=m.createElement("h3",null,m.createElement(T.FormattedMessage,{id:"walletHistory.header.openPositions",defaultMessage:"Open Positions",description:"Header text for a display of pending positions"})),W=m.createElement("hr",null),V=m.createElement("h3",null,m.createElement(T.FormattedMessage,{id:"walletHistory.header.transactionHistory",defaultMessage:"Transaction History",description:"Header text for transaction history section"})),z=m.createElement("p",null,m.createElement(T.FormattedMessage,{id:"walletHistory.paragraph.tableNote",defaultMessage:"This table contains all historical wallet transactions.",description:"Text noting to user that transaction history table contains all historical transactions"})),K=m.createElement("p",{className:"well help-block"},m.createElement(T.FormattedMessage,{id:"walletHistory.helpText.dailyPNL",defaultMessage:"If you have closed any positions today, PNL from those positions will show as a RealisedPNL transaction forward-dated to 12:00 UTC.\nFees and Maker Rebates are also RealisedPNL.",description:"Explanation of daily RealisedPNL"})),Q=function(e){function t(){var n,r,a;l()(this,t);for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=u()(this,e.call.apply(e,[this].concat(s))),r.cellFormatters={address:{fn:function(e){return m.createElement("span",{title:e},e)}},transactStatus:{deps:["transactType","transactID"],fn:function(e,t,n){var r=t.transactType,a=t.transactID,i=e;return"Withdrawal"===r?("Pending"===e?i=m.createElement(v.a,{text:O},e):"Confirmed"===e?i=m.createElement(v.a,{text:F},e):"Processing"===e&&(i=m.createElement(v.a,{text:I},e)),J({transactType:r,transactStatus:e})&&(i=m.createElement("span",null,i,"Â ",m.createElement(Y,{transactID:a})))):"RealisedPNL"===r?new Date(n.transactTime)>Date.now()&&(i=m.createElement(v.a,{text:L},i)):"UnrealisedPNL"===r&&"Pending"===e&&(i=m.createElement(v.a,{text:A},i)),i}}},r.fetch=function(e){r.props.fetch(o()({},r.props.extraPayload))},a=n,u()(r,a)}return p()(t,e),t.prototype.format=function(e,t){var n=this.context,r=n.activeCurrency,a=n.timezoneOffset;return e.getDisplayField(t,{activeCurrency:r,timezoneOffset:a})},t.prototype.makeLabel=function(e){var t=this.context.intl;return m.createElement(v.a,{text:Object(N.d)("margin",e,t)},Object(N.c)("margin",e,t))},t.prototype.makeGridData=function(e){var t=e.currency,n=this.context.timezoneOffset,r={activeCurrency:"XBt"===e.currency?this.context.activeCurrency:e.currency,timezoneOffset:n,fromCurrency:t};return[[this.makeLabel("walletBalance"),e.getDisplayField("walletBalance",r)],[this.makeLabel("marginBalance"),e.getDisplayField("marginBalance",r)],[this.makeLabel("excessMargin"),e.getDisplayField("excessMargin",r)]]},t.prototype.renderMarginPanel=function(){var e=this,t=this.props.margin,n=t.map(function(n,r){return m.createElement("div",{className:"flexBody flexJustifyCenter",key:r},m.createElement("div",{className:"flexItem"},m.createElement(M.a,{data:e.makeGridData(n),tableClassName:"table-fixed"}),m.createElement("div",{className:""},m.createElement("a",{href:x.b+"deposit",className:"btn btn-success btn-segmented btn-lg col-xs-6"},D,C.a.Deposit),m.createElement("a",{href:x.b+"withdraw",className:"btn btn-info btn-segmented btn-lg col-xs-6"},B,C.a.Withdraw))),m.createElement("div",{className:"flexItem"},m.createElement(y.a,{margin:t,marginCurrency:n.currency,showCurrencySelector:!1})))});return 1===n.length?m.createElement("div",{className:"balances"},n[0]):m.createElement(w.a,{titles:t.map(function(e){return e.currency}),showFullscreen:!1,localStorageKey:"walletHistory",className:"balances"},n)},t.prototype.renderPositionWidget=function(e){var t=e.address,n=this.props.positions.get(t);if(!n)return null;var r,a=n.unrealisedPnl,i=n.realisedPnl,o=m.createElement("a",{href:x.b+"trade/"+t},t);return m.createElement(E.a,{className:"pendingPNL widget flexItem",key:t,title:o,showFullscreen:!1},_,m.createElement("b",{className:$(n.currentQty)},n.currentQty," (",C.a[(r=n.currentQty,r>0?"Long":r<0?"Short":"Flat")],")"),R,m.createElement("b",{className:$(i)},S.f(i,this.context.activeCurrency)),j,m.createElement("b",{className:$(a)},S.f(a,this.context.activeCurrency)))},t.prototype.render=function(){var e=this,t=this.props,n=t.walletHistory,r=a()(t,["walletHistory"]),i=n.filter(Z).map(function(t){return e.renderPositionWidget(t)}).filter(function(e){return Boolean(e)});return m.createElement(g.a,{className:"walletHistory historyPage",title:U},this.renderMarginPanel(),H,i.length?m.createElement("span",null,q,m.createElement("div",{className:"positions flexBody flexAlignCenter"},i),W):null,V,z,K,m.createElement(b.a,o()({},r,{csvFileName:"Wallet History",data:n,fetch:this.props.fetch,start:this.props.start,showFilterForm:!1,tableProps:{cellFormatters:this.cellFormatters,columns:P,tableName:["transaction","execution"]}})))},t}(f.a);Q.displayName="WalletHistory",Q.defaultProps={extraPayload:{},start:0},t.default=Object(h.a)(function(e,t){return{fetch:e.actions.fetchWalletHistory,margin:e.margin,positions:e.positions,start:t&&t._query&&parseInt(t._query.start,10)||0,walletHistory:e.walletHistory}})(Q);var G=m.createElement(T.FormattedMessage,{id:"walletHistory.tooltip.cancel",defaultMessage:"Click to cancel this unsent withdrawal.",description:"Tooltip text for button to cancel unsent withdrawal"}),X=m.createElement("i",{className:"fa fa-close"}),Y=Object(h.a)(function(e){return{withdrawalCancel:e.actions.withdrawalCancel}})(function(e){function t(){return l()(this,t),u()(this,e.apply(this,arguments))}return p()(t,e),t.prototype.render=function(){var e=this.props.transactID;return m.createElement(v.a,{text:G,className:"btn btn-danger btn-xs btn-xs-flat noHover",onClick:this.bindCallback(this.props.withdrawalCancel,{transactID:e})},X)},t}(f.a));function J(e){return!("Withdrawal"!==e.transactType&&"Transfer"!==e.transactType||"Confirmed"!==e.transactStatus&&"Pending"!==e.transactStatus)}function Z(e){return"UnrealisedPNL"===e.transactType&&"Pending"===e.transactStatus}function $(e){return e>0?"pricePos":e<0?"priceNeg":""}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(589)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),a=n.n(r),i=n(15),o=n.n(i),s=n(15),l=(n.n(s),n(157),n(3)),c=(n.n(l),n(22)),u=n.n(c),d=n(163),p=n.n(d),m=n(164),f=n(348),h=n(270),g="content";function y(){var e=document.getElementById(g);e&&!e.innerHTML.length&&u.a.render(l.createElement(m.a),e)}Object(s.coroutine)(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1e4,f.a.registerServiceWorker(),f.a.handleOfflineMode(),f.a.trackInstall(),n=setTimeout(y,t),e.next=7,o.a.fromCallback(function(e){return p()(e)});case 7:return e.prev=7,e.next=10,f.a.launchBrowser(h.a,"APP",g);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),console.error("Init error:",e.t0),y();case 16:return e.prev=16,clearTimeout(n),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[7,12,16,19]])}))()}],[588]);
